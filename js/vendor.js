!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"===n||pe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ce.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t={};return pe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function a(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(a(),pe.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(_e,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:qe.test(n)?pe.parseJSON(n):n}catch(i){}pe.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(He(e)){var i,o,a=pe.expando,s=e.nodeType,u=s?pe.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=ne.pop()||pe.guid++:a),u[l]||(u[l]=s?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=pe.extend(u[l],t):u[l].data=pe.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[pe.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[pe.camelCase(t)])):i=o,i}}function d(e,t,n){if(He(e)){var r,i,o=e.nodeType,a=o?pe.cache:e,s=o?e[pe.expando]:pe.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in r?t=[t]:(t=pe.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!pe.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?pe.cleanData([e],!0):de.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function f(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},u=s(),l=n&&n[3]||(pe.cssNumber[t]?"":"px"),c=(pe.cssNumber[t]||"px"!==l&&+u)&&Me.exec(pe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,pe.style(e,t,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(e){var t=ze.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,r,i=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||pe.nodeName(r,t)?o.push(r):pe.merge(o,h(r,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],o):o}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)pe._data(n,"globalEval",!t||pe._data(t[r],"globalEval"))}function m(e){Be.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,i){for(var o,a,s,u,l,c,d,f=e.length,v=p(t),y=[],x=0;f>x;x++)if(a=e[x],a||0===a)if("object"===pe.type(a))pe.merge(y,a.nodeType?[a]:a);else if(Ue.test(a)){for(u=u||v.appendChild(t.createElement("div")),l=(We.exec(a)||["",""])[1].toLowerCase(),d=Xe[l]||Xe._default,u.innerHTML=d[1]+pe.htmlPrefilter(a)+d[2],o=d[0];o--;)u=u.lastChild;if(!de.leadingWhitespace&&$e.test(a)&&y.push(t.createTextNode($e.exec(a)[0])),!de.tbody)for(a="table"!==l||Ve.test(a)?"<table>"!==d[1]||Ve.test(a)?0:u:u.firstChild,o=a&&a.childNodes.length;o--;)pe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(pe.merge(y,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=v.lastChild}else y.push(t.createTextNode(a));for(u&&v.removeChild(u),de.appendChecked||pe.grep(h(y,"input"),m),x=0;a=y[x++];)if(r&&pe.inArray(a,r)>-1)i&&i.push(a);else if(s=pe.contains(a.ownerDocument,a),u=h(v.appendChild(a),"script"),s&&g(u),n)for(o=0;a=u[o++];)Ie.test(a.type||"")&&n.push(a);return u=null,v}function y(){return!0}function x(){return!1}function b(){try{return re.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return e;return 1===o&&(a=i,i=function(e){return pe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,i,r,n)})}function T(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,r,i,o=pe._data(e),a=pe._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)pe.event.add(t,n,s[n][r])}a.data&&(a.data=pe.extend({},a.data))}}function k(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.noCloneEvent&&t[pe.expando]){i=pe._data(t);for(r in i.events)pe.removeEvent(t,r,i.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Be.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function S(e,t,n,r){t=oe.apply([],t);var i,o,a,s,u,l,c=0,d=e.length,f=d-1,p=t[0],g=pe.isFunction(p);if(g||d>1&&"string"==typeof p&&!de.checkClone&&rt.test(p))return e.each(function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),S(o,t,n,r)});if(d&&(l=v(t,e[0].ownerDocument,!1,e,r),i=l.firstChild,1===l.childNodes.length&&(l=i),i||r)){for(s=pe.map(h(l,"script"),C),a=s.length;d>c;c++)o=l,c!==f&&(o=pe.clone(o,!0,!0),a&&pe.merge(s,h(o,"script"))),n.call(e[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,pe.map(s,E),c=0;a>c;c++)o=s[c],Ie.test(o.type||"")&&!pe._data(o,"globalEval")&&pe.contains(u,o)&&(o.src?pe._evalUrl&&pe._evalUrl(o.src):pe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ot,"")));l=i=null}return e}function A(e,t,n){for(var r,i=t?pe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||pe.cleanData(h(r)),r.parentNode&&(n&&pe.contains(r.ownerDocument,r)&&g(h(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=pe(t.createElement(e)).appendTo(t.body),r=pe.css(n[0],"display");return n.detach(),r}function j(e){var t=re,n=lt[e];return n||(n=D(e,t),"none"!==n&&n||(ut=(ut||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(ut[0].contentWindow||ut[0].contentDocument).document,t.write(),t.close(),n=D(e,t),ut.detach()),lt[e]=n),n}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in Et)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if(e=Ct[n]+t,e in Et)return e}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=pe._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Re(r)&&(o[a]=pe._data(r,"olddisplay",j(r.nodeName)))):(i=Re(r),(n&&"none"!==n||!i)&&pe._data(r,"olddisplay",i?n:pe.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function _(e,t,n){var r=bt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function F(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=pe.css(e,n+Oe[o],!0,i)),r?("content"===n&&(a-=pe.css(e,"padding"+Oe[o],!0,i)),"margin"!==n&&(a-=pe.css(e,"border"+Oe[o]+"Width",!0,i))):(a+=pe.css(e,"padding"+Oe[o],!0,i),"padding"!==n&&(a+=pe.css(e,"border"+Oe[o]+"Width",!0,i)));return a}function M(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=ht(t),s=de.boxSizing&&"border-box"===pe.css(t,"boxSizing",!1,a);if(re.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),0>=o||null==o){if(o=gt(t,n,a),(0>o||null==o)&&(o=t.style[n]),dt.test(o))return o;i=s&&(de.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+F(t,n,r||(s?"border":"content"),i,a)+"px"}function O(e,t,n,r,i){return new O.prototype.init(e,t,n,r,i)}function R(){return e.setTimeout(function(){Nt=void 0}),Nt=pe.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Oe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e,t,n){for(var r,i=($.tweeners[t]||[]).concat($.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function W(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Re(e),g=pe._data(e,"fxshow");n.queue||(s=pe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=pe.css(e,"display"),c="none"===l?pe._data(e,"olddisplay")||j(e.nodeName):l,"inline"===c&&"none"===pe.css(e,"float")&&(de.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",de.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],St.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}f[r]=g&&g[r]||pe.style(e,r)}else l=void 0;if(pe.isEmptyObject(f))"inline"===("none"===l?j(e.nodeName):l)&&(p.display=l);else{g?"hidden"in g&&(h=g.hidden):g=pe._data(e,"fxshow",{}),o&&(g.hidden=!h),h?pe(e).show():d.done(function(){pe(e).hide()}),d.done(function(){var t;pe._removeData(e,"fxshow");for(t in f)pe.style(e,t,f[t])});for(r in f)a=B(h?g[r]:0,r,d),r in g||(g[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function I(e,t){var n,r,i,o,a;for(n in e)if(r=pe.camelCase(n),i=t[r],o=e[n],pe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=pe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function $(e,t,n){var r,i,o=0,a=$.prefilters.length,s=pe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Nt||R(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:Nt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=pe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(I(c,l.opts.specialEasing);a>o;o++)if(r=$.prefilters[o].call(l,e,c,l.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(l.elem,l.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(c,B,l),pe.isFunction(l.opts.start)&&l.opts.start.call(e,l),pe.fx.timer(pe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e){return pe.attr(e,"class")||""}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(De)||[];if(pe.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(s){var u;return o[s]=!0,pe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Kt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function V(e,t){var n,r,i=pe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&pe.extend(!0,e,n),e}function Y(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function J(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function G(e){return e.style&&e.style.display||pe.css(e,"display")}function Q(e){for(;e&&1===e.nodeType;){if("none"===G(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function K(e,t,n,r){var i;if(pe.isArray(t))pe.each(t,function(t,i){n||rn.test(e)?r(e,i):K(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==pe.type(t))r(e,t);else for(i in t)K(e+"["+i+"]",t[i],n,r)}function Z(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var ne=[],re=e.document,ie=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,ue={},le=ue.toString,ce=ue.hasOwnProperty,de={},fe="1.12.3",pe=function(e,t){return new pe.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:fe,constructor:pe,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,o=e&&pe.isArray(e)?e:[]):o=e&&pe.isPlainObject(e)?e:{},a[r]=pe.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},pe.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!de.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ue[le.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?pe.merge(r,"string"==typeof e?[e]:e):ae.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;i>a;a++)o=t(e[a],a,r),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),pe.isFunction(e)?(n=ie.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||pe.guid++,r):void 0},now:function(){return+new Date},support:de}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ue["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:B)!==H&&L(t),t=t||H,_)){if(11!==g&&(l=ve.exec(e)))if(i=l[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!X[e+" "]&&(!F||!F.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,"\\$&"):t.setAttribute("id",s=P),d=N(e),o=d.length,u=fe.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=u+" "+f(d[o]);p=d.join(","),h=ye.test(e)&&c(t.parentNode)||t}if(p)try{return K.apply(n,h.querySelectorAll(p)),n}catch(m){}finally{s===P&&t.removeAttribute("id")}}}return S(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=I++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[P]||(t[P]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[r])&&s[0]===W&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:m(v,f,e,s,u),x=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=m(x,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(x[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(d=x[c])&&l.push(y[c]=d);o(null,x=[],l,u)}for(c=x.length;c--;)(d=x[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else x=m(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",g=r&&[],v=[],y=A,x=r||o&&T.find.TAG("*",l),b=W+=null==y?1:Math.random()||.1,w=x.length;for(l&&(A=a===H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument===H||(L(c),s=!_);f=e[d++];)if(f(c,a||H,s)){u.push(c);break}l&&(W=b)}i&&((c=!f&&c)&&p--,r&&g.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(g,v,a,s);if(r){if(p>0)for(;h--;)g[h]||v[h]||(v[h]=G.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=b,A=y),g};return i?r(a):a}var b,w,T,C,E,N,k,S,A,D,j,L,H,q,_,F,M,O,R,P="sizzle"+1*new Date,B=e.document,W=0,I=0,$=n(),z=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,Y={}.hasOwnProperty,J=[],G=J.pop,Q=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){L()};try{K.apply(J=Z.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(Ce){K={apply:J.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=H.documentElement,_=!E(H),(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(H.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!H.getElementsByName||!H.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&_?t.getElementsByClassName(e):void 0},M=[],F=[],(w.qsa=me.test(H.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=me.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),M.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(q.compareDocumentPosition),R=t||me.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===H||e.ownerDocument===B&&R(B,e)?-1:t===H||t.ownerDocument===B&&R(B,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===H?-1:t===H?1:i?-1:o?1:D?ee(D,e)-ee(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===B?-1:u[r]===B?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&_&&!X[n+" "]&&(!M||!M.test(n))&&(!F||!F.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(f=m,d=f[P]||(f[P]={}),
c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],p=l[0]===W&&l[1],x=p&&l[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(x=p=0)||h.pop();)if(1===f.nodeType&&++x&&f===t){c[e]=[W,p,x];break}}else if(y&&(f=t,d=f[P]||(f[P]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),l=c[e]||[],p=l[0]===W&&l[1],x=p),x===!1)for(;(f=++p&&f&&f[g]||(x=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++x||(y&&(d=f[P]||(f[P]={}),c=d[f.uniqueID]||(d[f.uniqueID]={}),c[e]=[W,x]),f!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(se,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,N=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in T.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=N(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&N(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(be,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,!t||ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=ye,pe.expr=ye.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ye.uniqueSort,pe.text=ye.getText,pe.isXMLDoc=ye.isXML,pe.contains=ye.contains;var xe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&pe(e).is(n))break;r.push(e)}return r},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=pe.expr.match.needsContext,Te=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;i>t;t++)if(pe.contains(r[t],this))return!0}));for(t=0;i>t;t++)pe.find(e,r[t],n);return n=this.pushStack(i>1?pe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&we.test(e)?pe(e):e||[],!1).length}});var Ee,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ke=pe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ne.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Te.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(i=re.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return Ee.find(e);this.length=1,this[0]=i}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))};ke.prototype=pe.fn,Ee=pe(re);var Se=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=we.test(e)||"string"!=typeof e?pe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return xe(e,"parentNode")},parentsUntil:function(e,t,n){return xe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return xe(e,"nextSibling")},prevAll:function(e){return xe(e,"previousSibling")},nextUntil:function(e,t,n){return xe(e,"nextSibling",n)},prevUntil:function(e,t,n){return xe(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,r){var i=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=pe.filter(r,i)),this.length>1&&(Ae[e]||(i=pe.uniqueSort(i)),Se.test(e)&&(i=i.reverse())),this.pushStack(i)}});var De=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,r,i,a=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function r(t){pe.each(t,function(t,n){pe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==pe.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,a,n))>-1;)a.splice(n,1),u>=n&&u--}),this},has:function(e){return e?pe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,o){var a=pe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},i={};return r.pipe=r.then,pe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=ie.call(arguments),a=o.length,s=1!==a||e&&pe.isFunction(e.promise)?a:0,u=1===s?e:pe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ie.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&pe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--s;return s||u.resolveWith(r,o),u.promise()}});var je;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||(je.resolveWith(re,[pe]),pe.fn.triggerHandler&&(pe(re).triggerHandler("ready"),pe(re).off("ready"))))}}),pe.ready.promise=function(t){if(!je)if(je=pe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(pe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!pe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(i,50)}a(),pe.ready()}}()}return je.promise(t)},pe.ready.promise();var Le;for(Le in pe(de))break;de.ownFirst="0"===Le,de.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,r;n=re.getElementsByTagName("body")[0],n&&n.style&&(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",de.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");de.deleteExpando=!0;try{delete e.test}catch(t){de.deleteExpando=!1}e=null}();var He=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=pe.data(o),1===o.nodeType&&!pe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=pe.camelCase(r.slice(5)),u(o,r,i[r])));pe._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):o?u(o,e,pe.data(o,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=pe._data(e,t),n&&(!r||pe.isArray(n)?r=pe._data(e,t,pe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),r=n.length,i=n.shift(),o=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=pe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=pe._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),function(){var e;de.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=re.getElementsByTagName("body")[0],n&&n.style?(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(re.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),Oe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Pe=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===pe.type(n)){i=!0;for(s in n)Pe(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,pe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(pe(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Be=/^(?:checkbox|radio)$/i,We=/<([\w:-]+)/,Ie=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,ze="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=re.createElement("div"),t=re.createDocumentFragment(),n=re.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de.leadingWhitespace=3===e.firstChild.nodeType,de.tbody=!e.getElementsByTagName("tbody").length,de.htmlSerialize=!!e.getElementsByTagName("link").length,de.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),de.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=re.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),de.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,de.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,de.attributes=!e.getAttribute(pe.expando)}();var Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Ue=/<|&#?\w+;/,Ve=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(de[t]=n in e)||(r.setAttribute(n,"t"),de[t]=r.attributes[n].expando===!1);r=null}();var Ye=/^(?:input|select|textarea)$/i,Je=/^key/,Ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ke=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=pe._data(e);if(m){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=pe.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||(c=m.handle=function(e){return"undefined"==typeof pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(De)||[""],s=t.length;s--;)o=Ke.exec(t[s])||[],p=g=o[1],h=(o[2]||"").split(".").sort(),p&&(l=pe.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=pe.event.special[p]||{},d=pe.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&pe.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),pe.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=pe.hasData(e)&&pe._data(e);if(m&&(c=m.events)){for(t=(t||"").match(De)||[""],l=t.length;l--;)if(s=Ke.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(d=pe.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,m.handle)!==!1||pe.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)pe.event.remove(e,p+t[l],n,r,!0);pe.isEmptyObject(c)&&(delete m.handle,pe._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||re],p=ce.call(t,"type")?t.type:t,h=ce.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!Qe.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:pe.makeArray(n,[t]),l=pe.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!pe.isWindow(r)){for(u=l.delegateType||p,Qe.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||re)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(pe._data(s,"events")||{})[t.type]&&pe._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&He(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&He(r)&&a&&r[p]&&!pe.isWindow(r)){c=r[a],c&&(r[a]=null),pe.event.triggered=p;try{r[p]()}catch(g){}pe.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,r,i,o,a=[],s=ie.call(arguments),u=(pe._data(this,"events")||{})[e.type]||[],l=pe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=pe.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((pe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?pe(i,this).index(u)>-1:pe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[pe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ge.test(i)?this.mouseHooks:Je.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new pe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||re,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?y:x):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||pe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),de.submit||(pe.event.special.submit={setup:function(){return pe.nodeName(this,"form")?!1:void pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){return pe.nodeName(this,"form")?!1:void pe.event.remove(this,"._submit")}}),de.change||(pe.event.special.change={setup:function(){return Ye.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1):void pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ye.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pe.event.remove(this,"._change"),!Ye.test(this.nodeName)}}),de.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=pe._data(r,t);i||r.addEventListener(e,n,!0),pe._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=pe._data(r,t)-1;i?pe._data(r,t,i):(r.removeEventListener(e,n,!0),pe._removeData(r,t))}}}),pe.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=x),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?pe.event.trigger(e,t,n,!0):void 0}});var Ze=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+ze+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=p(re),st=at.appendChild(re.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=pe.contains(e.ownerDocument,e);if(de.html5Clone||pe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(o=st.firstChild)),!(de.noCloneEvent&&de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(r=h(o),s=h(e),a=0;null!=(i=s[a]);++a)r[a]&&k(i,r[a]);if(t)if(n)for(s=s||h(e),r=r||h(o),a=0;null!=(i=s[a]);a++)N(i,r[a]);else N(e,o);return r=h(o,"script"),r.length>0&&g(r,!u&&h(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=pe.expando,u=pe.cache,l=de.attributes,c=pe.event.special;null!=(n=e[a]);a++)if((t||He(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?pe.event.remove(n,r):pe.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(i))}}}),pe.fn.extend({domManip:S,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.appendChild(e)}})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ze,""):void 0;if("string"==typeof e&&!nt.test(e)&&(de.htmlSerialize||!et.test(e))&&(de.leadingWhitespace||!$e.test(e))&&!Xe[(We.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];
return S(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,r=0,i=[],o=pe(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),pe(o[r])[t](n),ae.apply(i,n.get());return this.pushStack(i)}});var ut,lt={HTML:"block",BODY:"block"},ct=/^margin/,dt=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},pt=re.documentElement;!function(){function t(){var t,c,d=re.documentElement;d.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(re.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),d.removeChild(u)}var n,r,i,o,a,s,u=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",de.opacity="0.5"===l.style.opacity,de.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===l.style.backgroundClip,u=re.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),de.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,pe.extend(de,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ht,gt,mt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ht=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ht(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),n&&!de.pixelMarginRight()&&dt.test(a)&&ct.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):pt.currentStyle&&(ht=function(e){return e.currentStyle},gt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ht(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),dt.test(a)&&!mt.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var vt=/alpha\([^)]*\)/i,yt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+Fe+")(.*)$","i"),wt={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"],Et=re.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=pe.camelCase(t),u=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=H(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=Me.exec(n))&&i[1]&&(n=f(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(pe.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=H(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=gt(e,t,r)),"normal"===o&&t in Tt&&(o=Tt[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,r){return n?xt.test(pe.css(e,"display"))&&0===e.offsetWidth?ft(e,wt,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var i=r&&ht(e);return _(e,n,r?F(e,t,r,de.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,i),i):0)}}}),de.opacity||(pe.cssHooks.opacity={get:function(e,t){return yt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(o.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=vt.test(o)?o.replace(vt,i):o+" "+i)}}),pe.cssHooks.marginRight=L(de.reliableMarginRight,function(e,t){return t?ft(e,{display:"inline-block"},gt,[e,"marginRight"]):void 0}),pe.cssHooks.marginLeft=L(de.reliableMarginLeft,function(e,t){return t?(parseFloat(gt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Oe[r]+t]=o[r]||o[r-2]||o[0];return i}},ct.test(e)||(pe.cssHooks[e+t].set=_)}),pe.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},a=0;if(pe.isArray(t)){for(r=ht(e),i=t.length;i>a;a++)o[t[a]]=pe.css(e,t[a],!1,r);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=O.prototype.init,pe.fx.step={};var Nt,kt,St=/^(?:toggle|show|hide)$/,At=/queueHooks$/;pe.Animation=pe.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Me.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,r=0,i=e.length;i>r;r++)n=e[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),pe.speed=function(e,t,n){var r=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return r.duration=pe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in pe.fx.speeds?pe.fx.speeds[r.duration]:pe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=pe.isEmptyObject(e),o=pe.speed(t,n,r),a=function(){var t=$(this,pe.extend({},e),o);(i||pe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=pe.timers,a=pe._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&At.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=pe.timers,a=r?r.length:0;for(n.finish=!0,pe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),pe.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(Nt=pe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),Nt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){kt||(kt=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(kt),kt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),i=r.appendChild(re.createElement("option"));n=re.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",de.getSetAttribute="t"!==n.className,de.style=/top/.test(e.getAttribute("style")),de.hrefNormalized="/a"===e.getAttribute("href"),de.checkOn=!!t.value,de.optSelected=i.selected,de.enctype=!!re.createElement("form").enctype,r.disabled=!0,de.optDisabled=!i.disabled,t=re.createElement("input"),t.setAttribute("value",""),de.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),de.radioValue="t"===t.value}();var Dt=/\r/g,jt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=pe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,pe(this).val()):e,null==i?i="":"number"==typeof i?i+="":pe.isArray(i)&&(i=pe.map(i,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=pe.valHooks[i.type]||pe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],(n.selected||u===i)&&(de.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=pe.makeArray(t),a=i.length;a--;)if(r=i[a],pe.inArray(pe.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){return pe.isArray(t)?e.checked=pe.inArray(pe(e).val(),t)>-1:void 0}},de.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Lt,Ht,qt=pe.expr.attrHandle,_t=/^(?:checked|selected)$/i,Ft=de.getSetAttribute,Mt=de.input;pe.fn.extend({attr:function(e,t){return Pe(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),i=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Ht:Lt)),void 0!==n?null===n?void pe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=pe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(De);if(o&&1===e.nodeType)for(;n=o[i++];)r=pe.propFix[n]||n,pe.expr.match.bool.test(n)?Mt&&Ft||!_t.test(n)?e[r]=!1:e[pe.camelCase("default-"+n)]=e[r]=!1:pe.attr(e,n,""),e.removeAttribute(Ft?n:r)}}),Ht={set:function(e,t,n){return t===!1?pe.removeAttr(e,n):Mt&&Ft||!_t.test(n)?e.setAttribute(!Ft&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=qt[t]||pe.find.attr;Mt&&Ft||!_t.test(t)?qt[t]=function(e,t,r){var i,o;return r||(o=qt[t],qt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,qt[t]=o),i}:qt[t]=function(e,t,n){return n?void 0:e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Mt&&Ft||(pe.attrHooks.value={set:function(e,t,n){return pe.nodeName(e,"input")?void(e.defaultValue=t):Lt&&Lt.set(e,t,n)}}),Ft||(Lt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},qt.id=qt.name=qt.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Lt.set},pe.attrHooks.contenteditable={set:function(e,t,n){Lt.set(e,""===t?!1:t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),de.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ot=/^(?:input|select|textarea|button|object)$/i,Rt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Pe(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),pe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,i=pe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Ot.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),de.enctype||(pe.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Pt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=pe.trim(r),i!==s&&pe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[u++];)if(i=z(n),r=1===n.nodeType&&(" "+i+" ").replace(Pt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=pe.trim(r),i!==s&&pe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,z(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=pe(this),o=e.match(De)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=z(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||e===!1?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(Pt," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Bt=e.location,Wt=pe.now(),It=/\?/,$t=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=pe.trim(t+"");return i&&!pe.trim(i.replace($t,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,n=r.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var zt=/#.*$/,Xt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Vt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Gt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Kt={},Zt="*/".concat("*"),en=Bt.href,tn=Gt.exec(en.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:Vt.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,pe.ajaxSettings),t):V(pe.ajaxSettings,e)},ajaxPrefilter:X(Qt),ajaxTransport:X(Kt),ajax:function(t,n){function r(t,n,r,i){var o,d,y,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),c=void 0,s=i||"",T.readyState=t>0?4:0,o=t>=200&&300>t||304===t,r&&(x=Y(f,T,r)),x=J(f,x,T,o),o?(f.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(pe.lastModified[a]=w),w=T.getResponseHeader("etag"),w&&(pe.etag[a]=w)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=x.state,d=x.data,y=x.error,o=!y)):(y=C,!t&&C||(C="error",0>t&&(t=0))),T.status=t,T.statusText=(n||C)+"",o?g.resolveWith(p,[d,C,T]):g.rejectWith(p,[T,C,y]),T.statusCode(v),v=void 0,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,f,o?d:y]),m.fireWith(p,[T,C]),l&&(h.trigger("ajaxComplete",[T,f]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,d,f=pe.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),m=pe.Callbacks("once memory"),v=f.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Ut.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,f.url=((t||f.url||en)+"").replace(zt,"").replace(Jt,tn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=pe.trim(f.dataType||"*").toLowerCase().match(De)||[""],null==f.crossDomain&&(i=Gt.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===tn[1]&&i[2]===tn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pe.param(f.data,f.traditional)),U(Qt,f,n,T),2===b)return T;l=pe.event&&f.global,l&&0===pe.active++&&pe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Yt.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(It.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Xt.test(a)?a.replace(Xt,"$1_="+Wt++):a+(It.test(a)?"&":"?")+"_="+Wt++)),f.ifModified&&(pe.lastModified[a]&&T.setRequestHeader("If-Modified-Since",pe.lastModified[a]),pe.etag[a]&&T.setRequestHeader("If-None-Match",pe.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Zt+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)T.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,T,f)===!1||2===b))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](f[o]);if(c=U(Kt,f,n,T)){if(T.readyState=1,l&&h.trigger("ajaxSend",[T,f]),2===b)return T;f.async&&f.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{b=1,c.send(y,r)}catch(C){if(!(2>b))throw C;r(-1,C)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,r,i){return pe.isFunction(n)&&(i=i||r,r=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:i,data:n,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return de.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var nn=/%20/g,rn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,r=[],i=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){i(this.name,this.value)});else for(n in e)K(n,e[n],t,i);return r.join("&").replace(nn,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():re.documentMode>8?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var un=0,ln={},cn=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),de.cors=!!cn&&"withCredentials"in cn,cn=de.ajax=!!cn,cn&&pe.ajaxTransport(function(t){if(!t.crossDomain||de.cors){var n;return{send:function(r,i){var o,a=t.xhr(),s=++un;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=pe.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(c){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||pe("head")[0]||re.documentElement;return{send:function(r,i){t=re.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var dn=[],fn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=dn.pop()||pe.expando+"_"+Wt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(fn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&fn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(fn,"$1"+i):t.jsonp!==!1&&(t.url+=(It.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||pe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?pe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,dn.push(i)),a&&pe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=Te.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,i),i&&i.length&&pe(i).remove(),pe.merge([],r.childNodes))};var pn=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&pn)return pn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=pe.trim(e.slice(s,e.length)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&pe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=pe.css(e,"position"),d=pe(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=pe.css(e,"top"),u=pe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&pe.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,pe.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=te(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===pe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),
{top:t.top-n.top-pe.css(r,"marginTop",!0),left:t.left-n.left-pe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||pt})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(r){return Pe(this,function(e,r,i){var o=te(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?pe(o).scrollLeft():i,n?i:pe(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=L(de.pixelPosition,function(e,n){return n?(n=gt(e,t),dt.test(n)?pe(e).position()[t]+"px":n):void 0})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){pe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Pe(this,function(t,n,r){var i;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?pe.css(t,n,a):pe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var hn=e.jQuery,gn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=gn),t&&e.jQuery===pe&&(e.jQuery=hn),pe},t||(e.jQuery=e.$=pe),pe});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50IiwidyIsIkVycm9yIiwid2luZG93IiwidGhpcyIsIm5vR2xvYmFsIiwiaXNBcnJheUxpa2UiLCJvYmoiLCJsZW5ndGgiLCJ0eXBlIiwialF1ZXJ5IiwiaXNXaW5kb3ciLCJ3aW5ub3ciLCJlbGVtZW50cyIsInF1YWxpZmllciIsIm5vdCIsImlzRnVuY3Rpb24iLCJncmVwIiwiZWxlbSIsImkiLCJjYWxsIiwibm9kZVR5cGUiLCJyaXNTaW1wbGUiLCJ0ZXN0IiwiZmlsdGVyIiwiaW5BcnJheSIsInNpYmxpbmciLCJjdXIiLCJkaXIiLCJjcmVhdGVPcHRpb25zIiwib3B0aW9ucyIsIm9iamVjdCIsImVhY2giLCJtYXRjaCIsInJub3R3aGl0ZSIsIl8iLCJmbGFnIiwiZGV0YWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb21wbGV0ZWQiLCJkZXRhY2hFdmVudCIsImV2ZW50IiwicmVhZHlTdGF0ZSIsInJlYWR5IiwiZGF0YUF0dHIiLCJrZXkiLCJkYXRhIiwidW5kZWZpbmVkIiwibmFtZSIsInJlcGxhY2UiLCJybXVsdGlEYXNoIiwidG9Mb3dlckNhc2UiLCJnZXRBdHRyaWJ1dGUiLCJyYnJhY2UiLCJwYXJzZUpTT04iLCJlIiwiaXNFbXB0eURhdGFPYmplY3QiLCJpc0VtcHR5T2JqZWN0IiwiaW50ZXJuYWxEYXRhIiwicHZ0IiwiYWNjZXB0RGF0YSIsInJldCIsInRoaXNDYWNoZSIsImludGVybmFsS2V5IiwiZXhwYW5kbyIsImlzTm9kZSIsImNhY2hlIiwiaWQiLCJkZWxldGVkSWRzIiwicG9wIiwiZ3VpZCIsInRvSlNPTiIsIm5vb3AiLCJleHRlbmQiLCJjYW1lbENhc2UiLCJpbnRlcm5hbFJlbW92ZURhdGEiLCJpc0FycmF5IiwiY29uY2F0IiwibWFwIiwic3BsaXQiLCJjbGVhbkRhdGEiLCJzdXBwb3J0IiwiZGVsZXRlRXhwYW5kbyIsImFkanVzdENTUyIsInByb3AiLCJ2YWx1ZVBhcnRzIiwidHdlZW4iLCJhZGp1c3RlZCIsInNjYWxlIiwibWF4SXRlcmF0aW9ucyIsImN1cnJlbnRWYWx1ZSIsImNzcyIsImluaXRpYWwiLCJ1bml0IiwiY3NzTnVtYmVyIiwiaW5pdGlhbEluVW5pdCIsInJjc3NOdW0iLCJleGVjIiwic3R5bGUiLCJzdGFydCIsImVuZCIsImNyZWF0ZVNhZmVGcmFnbWVudCIsImxpc3QiLCJub2RlTmFtZXMiLCJzYWZlRnJhZyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVFbGVtZW50IiwiZ2V0QWxsIiwiY29udGV4dCIsInRhZyIsImVsZW1zIiwiZm91bmQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGlsZE5vZGVzIiwibm9kZU5hbWUiLCJwdXNoIiwibWVyZ2UiLCJzZXRHbG9iYWxFdmFsIiwicmVmRWxlbWVudHMiLCJfZGF0YSIsImZpeERlZmF1bHRDaGVja2VkIiwicmNoZWNrYWJsZVR5cGUiLCJkZWZhdWx0Q2hlY2tlZCIsImNoZWNrZWQiLCJidWlsZEZyYWdtZW50Iiwic2NyaXB0cyIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJqIiwiY29udGFpbnMiLCJ0bXAiLCJ0Ym9keSIsIndyYXAiLCJsIiwic2FmZSIsIm5vZGVzIiwicmh0bWwiLCJhcHBlbmRDaGlsZCIsInJ0YWdOYW1lIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiaHRtbFByZWZpbHRlciIsImxhc3RDaGlsZCIsImxlYWRpbmdXaGl0ZXNwYWNlIiwicmxlYWRpbmdXaGl0ZXNwYWNlIiwiY3JlYXRlVGV4dE5vZGUiLCJydGJvZHkiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoZWNrZWQiLCJvd25lckRvY3VtZW50IiwicnNjcmlwdFR5cGUiLCJyZXR1cm5UcnVlIiwicmV0dXJuRmFsc2UiLCJzYWZlQWN0aXZlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJlcnIiLCJvbiIsInR5cGVzIiwic2VsZWN0b3IiLCJmbiIsIm9uZSIsIm9yaWdGbiIsIm9mZiIsImFwcGx5IiwiYXJndW1lbnRzIiwiYWRkIiwibWFuaXB1bGF0aW9uVGFyZ2V0IiwiY29udGVudCIsImRpc2FibGVTY3JpcHQiLCJmaW5kIiwiYXR0ciIsInJlc3RvcmVTY3JpcHQiLCJyc2NyaXB0VHlwZU1hc2tlZCIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb25lQ29weUV2ZW50Iiwic3JjIiwiZGVzdCIsImhhc0RhdGEiLCJvbGREYXRhIiwiY3VyRGF0YSIsImV2ZW50cyIsImhhbmRsZSIsImZpeENsb25lTm9kZUlzc3VlcyIsIm5vQ2xvbmVFdmVudCIsInJlbW92ZUV2ZW50IiwidGV4dCIsInBhcmVudE5vZGUiLCJvdXRlckhUTUwiLCJodG1sNUNsb25lIiwidHJpbSIsInZhbHVlIiwiZGVmYXVsdFNlbGVjdGVkIiwic2VsZWN0ZWQiLCJkZWZhdWx0VmFsdWUiLCJkb21NYW5pcCIsImNvbGxlY3Rpb24iLCJhcmdzIiwiY2FsbGJhY2siLCJmaXJzdCIsIm5vZGUiLCJoYXNTY3JpcHRzIiwiZG9jIiwiZnJhZ21lbnQiLCJpTm9DbG9uZSIsImNoZWNrQ2xvbmUiLCJyY2hlY2tlZCIsImluZGV4Iiwic2VsZiIsImVxIiwiaHRtbCIsImNsb25lIiwiX2V2YWxVcmwiLCJnbG9iYWxFdmFsIiwicmNsZWFuU2NyaXB0IiwicmVtb3ZlIiwia2VlcERhdGEiLCJhY3R1YWxEaXNwbGF5IiwiYXBwZW5kVG8iLCJib2R5IiwiZGlzcGxheSIsImRlZmF1bHREaXNwbGF5IiwiZWxlbWRpc3BsYXkiLCJpZnJhbWUiLCJkb2N1bWVudEVsZW1lbnQiLCJjb250ZW50V2luZG93IiwiY29udGVudERvY3VtZW50Iiwid3JpdGUiLCJjbG9zZSIsImFkZEdldEhvb2tJZiIsImNvbmRpdGlvbkZuIiwiaG9va0ZuIiwiZ2V0IiwidmVuZG9yUHJvcE5hbWUiLCJlbXB0eVN0eWxlIiwiY2FwTmFtZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJjc3NQcmVmaXhlcyIsInNob3dIaWRlIiwic2hvdyIsImhpZGRlbiIsInZhbHVlcyIsImlzSGlkZGVuIiwic2V0UG9zaXRpdmVOdW1iZXIiLCJzdWJ0cmFjdCIsIm1hdGNoZXMiLCJybnVtc3BsaXQiLCJNYXRoIiwibWF4IiwiYXVnbWVudFdpZHRoT3JIZWlnaHQiLCJleHRyYSIsImlzQm9yZGVyQm94Iiwic3R5bGVzIiwidmFsIiwiY3NzRXhwYW5kIiwiZ2V0V2lkdGhPckhlaWdodCIsInZhbHVlSXNCb3JkZXJCb3giLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImdldFN0eWxlcyIsImJveFNpemluZyIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJ0b3AiLCJnZXRDbGllbnRSZWN0cyIsInJvdW5kIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY3VyQ1NTIiwicm51bW5vbnB4IiwiYm94U2l6aW5nUmVsaWFibGUiLCJwYXJzZUZsb2F0IiwiVHdlZW4iLCJlYXNpbmciLCJwcm90b3R5cGUiLCJpbml0IiwiY3JlYXRlRnhOb3ciLCJzZXRUaW1lb3V0IiwiZnhOb3ciLCJub3ciLCJnZW5GeCIsImluY2x1ZGVXaWR0aCIsIndoaWNoIiwiYXR0cnMiLCJoZWlnaHQiLCJvcGFjaXR5Iiwid2lkdGgiLCJjcmVhdGVUd2VlbiIsImFuaW1hdGlvbiIsIkFuaW1hdGlvbiIsInR3ZWVuZXJzIiwiZGVmYXVsdFByZWZpbHRlciIsInByb3BzIiwib3B0cyIsInRvZ2dsZSIsImhvb2tzIiwib2xkZmlyZSIsImNoZWNrRGlzcGxheSIsImFuaW0iLCJvcmlnIiwiZGF0YVNob3ciLCJxdWV1ZSIsIl9xdWV1ZUhvb2tzIiwidW5xdWV1ZWQiLCJlbXB0eSIsImZpcmUiLCJhbHdheXMiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImlubGluZUJsb2NrTmVlZHNMYXlvdXQiLCJ6b29tIiwic2hyaW5rV3JhcEJsb2NrcyIsInJmeHR5cGVzIiwiZG9uZSIsImhpZGUiLCJfcmVtb3ZlRGF0YSIsInByb3BGaWx0ZXIiLCJzcGVjaWFsRWFzaW5nIiwiY3NzSG9va3MiLCJleHBhbmQiLCJwcm9wZXJ0aWVzIiwicmVzdWx0Iiwic3RvcHBlZCIsInByZWZpbHRlcnMiLCJkZWZlcnJlZCIsIkRlZmVycmVkIiwidGljayIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJ0ZW1wIiwicGVyY2VudCIsInR3ZWVucyIsInJ1biIsIm5vdGlmeVdpdGgiLCJyZXNvbHZlV2l0aCIsInByb21pc2UiLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJvcmlnaW5hbE9wdGlvbnMiLCJzdG9wIiwiZ290b0VuZCIsInJlamVjdFdpdGgiLCJwcm94eSIsImZ4IiwidGltZXIiLCJwcm9ncmVzcyIsImNvbXBsZXRlIiwiZmFpbCIsImdldENsYXNzIiwiYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwic3RydWN0dXJlIiwiZGF0YVR5cGVFeHByZXNzaW9uIiwiZnVuYyIsImRhdGFUeXBlIiwiZGF0YVR5cGVzIiwidW5zaGlmdCIsImluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwianFYSFIiLCJpbnNwZWN0IiwiaW5zcGVjdGVkIiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsInNlZWtpbmdUcmFuc3BvcnQiLCJ0cmFuc3BvcnRzIiwiYWpheEV4dGVuZCIsInRhcmdldCIsImRlZXAiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFqYXhIYW5kbGVSZXNwb25zZXMiLCJzIiwicmVzcG9uc2VzIiwiZmlyc3REYXRhVHlwZSIsImN0IiwiZmluYWxEYXRhVHlwZSIsImNvbnRlbnRzIiwic2hpZnQiLCJtaW1lVHlwZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiY29udmVydGVycyIsImFqYXhDb252ZXJ0IiwicmVzcG9uc2UiLCJpc1N1Y2Nlc3MiLCJjb252MiIsImN1cnJlbnQiLCJjb252IiwicHJldiIsInJlc3BvbnNlRmllbGRzIiwiZGF0YUZpbHRlciIsInN0YXRlIiwiZXJyb3IiLCJnZXREaXNwbGF5IiwiZmlsdGVySGlkZGVuIiwiYnVpbGRQYXJhbXMiLCJwcmVmaXgiLCJ0cmFkaXRpb25hbCIsInYiLCJyYnJhY2tldCIsImNyZWF0ZVN0YW5kYXJkWEhSIiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVBY3RpdmVYSFIiLCJBY3RpdmVYT2JqZWN0IiwiZ2V0V2luZG93IiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJpbmRleE9mIiwiY2xhc3MydHlwZSIsInRvU3RyaW5nIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJ2ZXJzaW9uIiwicnRyaW0iLCJybXNQcmVmaXgiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsImFsbCIsImxldHRlciIsImpxdWVyeSIsImNvbnN0cnVjdG9yIiwidG9BcnJheSIsIm51bSIsInB1c2hTdGFjayIsInByZXZPYmplY3QiLCJsYXN0IiwibGVuIiwic29ydCIsInNwbGljZSIsImNvcHlJc0FycmF5IiwiY29weSIsImlzUGxhaW5PYmplY3QiLCJyYW5kb20iLCJpc1JlYWR5IiwibXNnIiwiQXJyYXkiLCJpc051bWVyaWMiLCJyZWFsU3RyaW5nT2JqIiwib3duRmlyc3QiLCJleGVjU2NyaXB0Iiwic3RyaW5nIiwibWFrZUFycmF5IiwiYXJyIiwicmVzdWx0cyIsIk9iamVjdCIsInNlY29uZCIsImludmVydCIsImNhbGxiYWNrSW52ZXJzZSIsImNhbGxiYWNrRXhwZWN0IiwiYXJnIiwiRGF0ZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiU2l6emxlIiwic2VlZCIsIm0iLCJuaWQiLCJuaWRzZWxlY3QiLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJwcmVmZXJyZWREb2MiLCJzZXREb2N1bWVudCIsImRvY3VtZW50SXNIVE1MIiwicnF1aWNrRXhwciIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInFzYSIsImNvbXBpbGVyQ2FjaGUiLCJyYnVnZ3lRU0EiLCJyZXNjYXBlIiwic2V0QXR0cmlidXRlIiwidG9rZW5pemUiLCJyaWRlbnRpZmllciIsInRvU2VsZWN0b3IiLCJqb2luIiwicnNpYmxpbmciLCJ0ZXN0Q29udGV4dCIsInFzYUVycm9yIiwic2VsZWN0IiwiY3JlYXRlQ2FjaGUiLCJrZXlzIiwiRXhwciIsImNhY2hlTGVuZ3RoIiwibWFya0Z1bmN0aW9uIiwiYXNzZXJ0IiwiZGl2IiwiYWRkSGFuZGxlIiwiaGFuZGxlciIsImF0dHJIYW5kbGUiLCJzaWJsaW5nQ2hlY2siLCJhIiwiYiIsImRpZmYiLCJzb3VyY2VJbmRleCIsIk1BWF9ORUdBVElWRSIsIm5leHRTaWJsaW5nIiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJjcmVhdGVCdXR0b25Qc2V1ZG8iLCJjcmVhdGVQb3NpdGlvbmFsUHNldWRvIiwiYXJndW1lbnQiLCJtYXRjaEluZGV4ZXMiLCJzZXRGaWx0ZXJzIiwidG9rZW5zIiwiYWRkQ29tYmluYXRvciIsIm1hdGNoZXIiLCJjb21iaW5hdG9yIiwiYmFzZSIsImNoZWNrTm9uRWxlbWVudHMiLCJkb25lTmFtZSIsInhtbCIsIm9sZENhY2hlIiwidW5pcXVlQ2FjaGUiLCJvdXRlckNhY2hlIiwibmV3Q2FjaGUiLCJkaXJydW5zIiwidW5pcXVlSUQiLCJlbGVtZW50TWF0Y2hlciIsIm1hdGNoZXJzIiwibXVsdGlwbGVDb250ZXh0cyIsImNvbnRleHRzIiwiY29uZGVuc2UiLCJ1bm1hdGNoZWQiLCJuZXdVbm1hdGNoZWQiLCJtYXBwZWQiLCJzZXRNYXRjaGVyIiwicHJlRmlsdGVyIiwicG9zdEZpbHRlciIsInBvc3RGaW5kZXIiLCJwb3N0U2VsZWN0b3IiLCJwcmVNYXAiLCJwb3N0TWFwIiwicHJlZXhpc3RpbmciLCJtYXRjaGVySW4iLCJtYXRjaGVyT3V0IiwibWF0Y2hlckZyb21Ub2tlbnMiLCJjaGVja0NvbnRleHQiLCJsZWFkaW5nUmVsYXRpdmUiLCJyZWxhdGl2ZSIsImltcGxpY2l0UmVsYXRpdmUiLCJtYXRjaENvbnRleHQiLCJtYXRjaEFueUNvbnRleHQiLCJvdXRlcm1vc3RDb250ZXh0IiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwiZWxlbWVudE1hdGNoZXJzIiwic2V0TWF0Y2hlcnMiLCJieVNldCIsImJ5RWxlbWVudCIsInN1cGVyTWF0Y2hlciIsIm91dGVybW9zdCIsIm1hdGNoZWRDb3VudCIsInNldE1hdGNoZWQiLCJjb250ZXh0QmFja3VwIiwiZGlycnVuc1VuaXF1ZSIsInVuaXF1ZVNvcnQiLCJnZXRUZXh0IiwiaXNYTUwiLCJjb21waWxlIiwic29ydElucHV0IiwiaGFzRHVwbGljYXRlIiwiZG9jRWxlbSIsInJidWdneU1hdGNoZXMiLCJjbGFzc0NhY2hlIiwidG9rZW5DYWNoZSIsInNvcnRPcmRlciIsInB1c2hfbmF0aXZlIiwiYm9vbGVhbnMiLCJ3aGl0ZXNwYWNlIiwiaWRlbnRpZmllciIsImF0dHJpYnV0ZXMiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJSZWdFeHAiLCJyY29tbWEiLCJyY29tYmluYXRvcnMiLCJyYXR0cmlidXRlUXVvdGVzIiwicnBzZXVkbyIsIm1hdGNoRXhwciIsIklEIiwiQ0xBU1MiLCJUQUciLCJBVFRSIiwiUFNFVURPIiwiQ0hJTEQiLCJib29sIiwibmVlZHNDb250ZXh0IiwicmlucHV0cyIsInJoZWFkZXIiLCJybmF0aXZlIiwicnVuZXNjYXBlIiwiZnVuZXNjYXBlIiwiZXNjYXBlZCIsImVzY2FwZWRXaGl0ZXNwYWNlIiwiaGlnaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVubG9hZEhhbmRsZXIiLCJlbHMiLCJoYXNDb21wYXJlIiwicGFyZW50IiwiYXR0YWNoRXZlbnQiLCJjbGFzc05hbWUiLCJjcmVhdGVDb21tZW50IiwiZ2V0QnlJZCIsImdldEVsZW1lbnRzQnlOYW1lIiwiYXR0cklkIiwiZ2V0QXR0cmlidXRlTm9kZSIsImlucHV0IiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwiZGlzY29ubmVjdGVkTWF0Y2giLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImFkb3duIiwiYnVwIiwiY29tcGFyZSIsInNvcnREZXRhY2hlZCIsImF1cCIsImFwIiwiYnAiLCJleHByIiwic3BlY2lmaWVkIiwiZHVwbGljYXRlcyIsImRldGVjdER1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwibm9kZVZhbHVlIiwic2VsZWN0b3JzIiwiY3JlYXRlUHNldWRvIiwiPiIsIiAiLCIrIiwifiIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsInBhdHRlcm4iLCJvcGVyYXRvciIsImNoZWNrIiwid2hhdCIsInNpbXBsZSIsImZvcndhcmQiLCJvZlR5cGUiLCJub2RlSW5kZXgiLCJ1c2VDYWNoZSIsInBzZXVkbyIsImlkeCIsIm1hdGNoZWQiLCJoYXMiLCJpbm5lclRleHQiLCJsYW5nIiwiZWxlbUxhbmciLCJoYXNoIiwibG9jYXRpb24iLCJyb290IiwiZm9jdXMiLCJoYXNGb2N1cyIsImhyZWYiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJkaXNhYmxlZCIsInNlbGVjdGVkSW5kZXgiLCJoZWFkZXIiLCJidXR0b24iLCJldmVuIiwib2RkIiwibHQiLCJndCIsInJhZGlvIiwiY2hlY2tib3giLCJmaWxlIiwicGFzc3dvcmQiLCJpbWFnZSIsInN1Ym1pdCIsInJlc2V0IiwiZmlsdGVycyIsInBhcnNlT25seSIsInNvRmFyIiwicHJlRmlsdGVycyIsImNhY2hlZCIsInRva2VuIiwiY29tcGlsZWQiLCJkaXYxIiwidW5pcXVlIiwiaXNYTUxEb2MiLCJ1bnRpbCIsInRydW5jYXRlIiwiaXMiLCJzaWJsaW5ncyIsIm4iLCJybmVlZHNDb250ZXh0IiwicnNpbmdsZVRhZyIsInJvb3RqUXVlcnkiLCJwYXJzZUhUTUwiLCJycGFyZW50c3ByZXYiLCJndWFyYW50ZWVkVW5pcXVlIiwiY2hpbGRyZW4iLCJuZXh0IiwidGFyZ2V0cyIsImNsb3Nlc3QiLCJwb3MiLCJwcmV2QWxsIiwiYWRkQmFjayIsInBhcmVudHMiLCJwYXJlbnRzVW50aWwiLCJuZXh0QWxsIiwibmV4dFVudGlsIiwicHJldlVudGlsIiwicmV2ZXJzZSIsIkNhbGxiYWNrcyIsImZpcmluZyIsIm1lbW9yeSIsImZpcmVkIiwibG9ja2VkIiwiZmlyaW5nSW5kZXgiLCJvbmNlIiwic3RvcE9uRmFsc2UiLCJkaXNhYmxlIiwibG9jayIsImZpcmVXaXRoIiwidHVwbGVzIiwidGhlbiIsImZucyIsIm5ld0RlZmVyIiwidHVwbGUiLCJyZXR1cm5lZCIsIm5vdGlmeSIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwic3RhdGVTdHJpbmciLCJ3aGVuIiwic3Vib3JkaW5hdGUiLCJwcm9ncmVzc1ZhbHVlcyIsInByb2dyZXNzQ29udGV4dHMiLCJyZXNvbHZlQ29udGV4dHMiLCJyZXNvbHZlVmFsdWVzIiwidXBkYXRlRnVuYyIsInJlYWR5TGlzdCIsInJlYWR5V2FpdCIsImhvbGRSZWFkeSIsImhvbGQiLCJ3YWl0IiwidHJpZ2dlckhhbmRsZXIiLCJkb1Njcm9sbCIsImZyYW1lRWxlbWVudCIsImRvU2Nyb2xsQ2hlY2siLCJjb250YWluZXIiLCJjc3NUZXh0Iiwibm9EYXRhIiwiYXBwbGV0ICIsImVtYmVkICIsIm9iamVjdCAiLCJyZW1vdmVEYXRhIiwiZGVxdWV1ZSIsInN0YXJ0TGVuZ3RoIiwic2V0dGVyIiwiY2xlYXJRdWV1ZSIsImNvdW50IiwiZGVmZXIiLCJzaHJpbmtXcmFwQmxvY2tzVmFsIiwicG51bSIsInNvdXJjZSIsImVsIiwiYWNjZXNzIiwiY2hhaW5hYmxlIiwiZW1wdHlHZXQiLCJyYXciLCJidWxrIiwiaHRtbFNlcmlhbGl6ZSIsImNsb25lTm9kZSIsIm5vQ2xvbmVDaGVja2VkIiwib3B0aW9uIiwibGVnZW5kIiwiYXJlYSIsInBhcmFtIiwidGhlYWQiLCJ0ciIsImNvbCIsInRkIiwib3B0Z3JvdXAiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwiZXZlbnROYW1lIiwiY2hhbmdlIiwiZm9jdXNpbiIsInJmb3JtRWxlbXMiLCJya2V5RXZlbnQiLCJybW91c2VFdmVudCIsInJmb2N1c01vcnBoIiwicnR5cGVuYW1lc3BhY2UiLCJ0IiwiaGFuZGxlT2JqSW4iLCJzcGVjaWFsIiwiZXZlbnRIYW5kbGUiLCJoYW5kbGVPYmoiLCJoYW5kbGVycyIsIm5hbWVzcGFjZXMiLCJvcmlnVHlwZSIsImVsZW1EYXRhIiwidHJpZ2dlcmVkIiwiZGlzcGF0Y2giLCJkZWxlZ2F0ZVR5cGUiLCJiaW5kVHlwZSIsIm5hbWVzcGFjZSIsImRlbGVnYXRlQ291bnQiLCJzZXR1cCIsIm1hcHBlZFR5cGVzIiwib3JpZ0NvdW50IiwidGVhcmRvd24iLCJ0cmlnZ2VyIiwib25seUhhbmRsZXJzIiwib250eXBlIiwiYnViYmxlVHlwZSIsImV2ZW50UGF0aCIsIkV2ZW50IiwiaXNUcmlnZ2VyIiwicm5hbWVzcGFjZSIsIm5vQnViYmxlIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJwcmV2ZW50RGVmYXVsdCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImZpeCIsImhhbmRsZXJRdWV1ZSIsImRlbGVnYXRlVGFyZ2V0IiwicHJlRGlzcGF0Y2giLCJjdXJyZW50VGFyZ2V0IiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJwb3N0RGlzcGF0Y2giLCJzZWwiLCJpc05hTiIsIm9yaWdpbmFsRXZlbnQiLCJmaXhIb29rIiwiZml4SG9va3MiLCJtb3VzZUhvb2tzIiwia2V5SG9va3MiLCJzcmNFbGVtZW50IiwibWV0YUtleSIsIm9yaWdpbmFsIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiZXZlbnREb2MiLCJmcm9tRWxlbWVudCIsInBhZ2VYIiwiY2xpZW50WCIsInNjcm9sbExlZnQiLCJjbGllbnRMZWZ0IiwicGFnZVkiLCJjbGllbnRZIiwic2Nyb2xsVG9wIiwiY2xpZW50VG9wIiwicmVsYXRlZFRhcmdldCIsInRvRWxlbWVudCIsImxvYWQiLCJibHVyIiwiY2xpY2siLCJiZWZvcmV1bmxvYWQiLCJyZXR1cm5WYWx1ZSIsInNpbXVsYXRlIiwiaXNTaW11bGF0ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwidGltZVN0YW1wIiwiY2FuY2VsQnViYmxlIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVybGVhdmUiLCJyZWxhdGVkIiwiZm9ybSIsIl9zdWJtaXRCdWJibGUiLCJwcm9wZXJ0eU5hbWUiLCJfanVzdENoYW5nZWQiLCJhdHRhY2hlcyIsInJpbmxpbmVqUXVlcnkiLCJybm9zaGltY2FjaGUiLCJyeGh0bWxUYWciLCJybm9Jbm5lcmh0bWwiLCJzYWZlRnJhZ21lbnQiLCJmcmFnbWVudERpdiIsImRhdGFBbmRFdmVudHMiLCJkZWVwRGF0YUFuZEV2ZW50cyIsImRlc3RFbGVtZW50cyIsInNyY0VsZW1lbnRzIiwiaW5QYWdlIiwiZm9yY2VBY2NlcHREYXRhIiwiYXBwZW5kIiwicHJlcGVuZCIsImluc2VydEJlZm9yZSIsImJlZm9yZSIsImFmdGVyIiwicmVwbGFjZVdpdGgiLCJyZXBsYWNlQ2hpbGQiLCJwcmVwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlcGxhY2VBbGwiLCJpbnNlcnQiLCJIVE1MIiwiQk9EWSIsInJtYXJnaW4iLCJzd2FwIiwib2xkIiwiY29tcHV0ZVN0eWxlVGVzdHMiLCJkaXZTdHlsZSIsInBpeGVsUG9zaXRpb25WYWwiLCJib3hTaXppbmdSZWxpYWJsZVZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsInBpeGVsTWFyZ2luUmlnaHRWYWwiLCJyZWxpYWJsZU1hcmdpblJpZ2h0VmFsIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCIsImNzc0Zsb2F0IiwiYmFja2dyb3VuZENsaXAiLCJjbGVhckNsb25lU3R5bGUiLCJNb3pCb3hTaXppbmciLCJXZWJraXRCb3hTaXppbmciLCJyZWxpYWJsZUhpZGRlbk9mZnNldHMiLCJwaXhlbE1hcmdpblJpZ2h0IiwicGl4ZWxQb3NpdGlvbiIsInJlbGlhYmxlTWFyZ2luUmlnaHQiLCJyZWxpYWJsZU1hcmdpbkxlZnQiLCJycG9zaXRpb24iLCJ2aWV3Iiwib3BlbmVyIiwiY29tcHV0ZWQiLCJtaW5XaWR0aCIsIm1heFdpZHRoIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImN1cnJlbnRTdHlsZSIsImxlZnQiLCJycyIsInJzTGVmdCIsInJ1bnRpbWVTdHlsZSIsInBpeGVsTGVmdCIsInJhbHBoYSIsInJvcGFjaXR5IiwicmRpc3BsYXlzd2FwIiwiY3NzU2hvdyIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImNzc05vcm1hbFRyYW5zZm9ybSIsImxldHRlclNwYWNpbmciLCJmb250V2VpZ2h0IiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwibGluZUhlaWdodCIsIm9yZGVyIiwib3JwaGFucyIsIndpZG93cyIsInpJbmRleCIsImNzc1Byb3BzIiwiZmxvYXQiLCJvcmlnTmFtZSIsInNldCIsImlzRmluaXRlIiwiJDEiLCJtYXJnaW4iLCJwYWRkaW5nIiwiYm9yZGVyIiwic3VmZml4IiwiZXhwYW5kZWQiLCJwYXJ0cyIsInByb3BIb29rcyIsImVhc2VkIiwic3RlcCIsImxpbmVhciIsInAiLCJzd2luZyIsImNvcyIsIlBJIiwidGltZXJJZCIsInJydW4iLCIqIiwidHdlZW5lciIsInByZWZpbHRlciIsInNwZWVkIiwib3B0Iiwic3BlZWRzIiwiZmFkZVRvIiwidG8iLCJhbmltYXRlIiwib3B0YWxsIiwiZG9BbmltYXRpb24iLCJmaW5pc2giLCJzdG9wUXVldWUiLCJ0aW1lcnMiLCJjc3NGbiIsInNsaWRlRG93biIsInNsaWRlVXAiLCJzbGlkZVRvZ2dsZSIsImZhZGVJbiIsImZhZGVPdXQiLCJmYWRlVG9nZ2xlIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzbG93IiwiZmFzdCIsImRlbGF5IiwidGltZSIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJnZXRTZXRBdHRyaWJ1dGUiLCJocmVmTm9ybWFsaXplZCIsImNoZWNrT24iLCJvcHRTZWxlY3RlZCIsImVuY3R5cGUiLCJvcHREaXNhYmxlZCIsInJhZGlvVmFsdWUiLCJycmV0dXJuIiwicnNwYWNlcyIsInZhbEhvb2tzIiwib3B0aW9uU2V0Iiwic2Nyb2xsSGVpZ2h0Iiwibm9kZUhvb2siLCJib29sSG9vayIsInJ1c2VEZWZhdWx0IiwiZ2V0U2V0SW5wdXQiLCJyZW1vdmVBdHRyIiwiblR5cGUiLCJhdHRySG9va3MiLCJwcm9wTmFtZSIsImF0dHJOYW1lcyIsInByb3BGaXgiLCJnZXR0ZXIiLCJzZXRBdHRyaWJ1dGVOb2RlIiwiY3JlYXRlQXR0cmlidXRlIiwiY29vcmRzIiwiY29udGVudGVkaXRhYmxlIiwicmZvY3VzYWJsZSIsInJjbGlja2FibGUiLCJyZW1vdmVQcm9wIiwidGFiaW5kZXgiLCJwYXJzZUludCIsImZvciIsImNsYXNzIiwicmNsYXNzIiwiYWRkQ2xhc3MiLCJjbGFzc2VzIiwiY3VyVmFsdWUiLCJjbGF6eiIsImZpbmFsVmFsdWUiLCJyZW1vdmVDbGFzcyIsInRvZ2dsZUNsYXNzIiwic3RhdGVWYWwiLCJjbGFzc05hbWVzIiwiaGFzQ2xhc3MiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0Iiwibm9uY2UiLCJycXVlcnkiLCJydmFsaWR0b2tlbnMiLCJKU09OIiwicGFyc2UiLCJyZXF1aXJlTm9uQ29tbWEiLCJkZXB0aCIsInN0ciIsImNvbW1hIiwib3BlbiIsIkZ1bmN0aW9uIiwicGFyc2VYTUwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJhc3luYyIsImxvYWRYTUwiLCJyaGFzaCIsInJ0cyIsInJoZWFkZXJzIiwicmxvY2FsUHJvdG9jb2wiLCJybm9Db250ZW50IiwicnByb3RvY29sIiwicnVybCIsImFsbFR5cGVzIiwiYWpheExvY2F0aW9uIiwiYWpheExvY1BhcnRzIiwiYWN0aXZlIiwibGFzdE1vZGlmaWVkIiwiZXRhZyIsInVybCIsImlzTG9jYWwiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsImpzb24iLCIqIHRleHQiLCJ0ZXh0IGh0bWwiLCJ0ZXh0IGpzb24iLCJ0ZXh0IHhtbCIsImFqYXhTZXR1cCIsInNldHRpbmdzIiwiYWpheFByZWZpbHRlciIsImFqYXhUcmFuc3BvcnQiLCJhamF4Iiwic3RhdHVzIiwibmF0aXZlU3RhdHVzVGV4dCIsImhlYWRlcnMiLCJzdWNjZXNzIiwibW9kaWZpZWQiLCJzdGF0dXNUZXh0IiwidGltZW91dFRpbWVyIiwidHJhbnNwb3J0IiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwiaWZNb2RpZmllZCIsImNhY2hlVVJMIiwiY2FsbGJhY2tDb250ZXh0Iiwic3RhdHVzQ29kZSIsImZpcmVHbG9iYWxzIiwiZ2xvYmFsRXZlbnRDb250ZXh0IiwiY29tcGxldGVEZWZlcnJlZCIsInJlc3BvbnNlSGVhZGVycyIsInJlcXVlc3RIZWFkZXJzIiwicmVxdWVzdEhlYWRlcnNOYW1lcyIsInN0ckFib3J0IiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwic2V0UmVxdWVzdEhlYWRlciIsImxuYW1lIiwib3ZlcnJpZGVNaW1lVHlwZSIsImNvZGUiLCJhYm9ydCIsImZpbmFsVGV4dCIsIm1ldGhvZCIsImNyb3NzRG9tYWluIiwiaGFzQ29udGVudCIsImJlZm9yZVNlbmQiLCJzZW5kIiwiZ2V0SlNPTiIsImdldFNjcmlwdCIsInRocm93cyIsIndyYXBBbGwiLCJ3cmFwSW5uZXIiLCJ1bndyYXAiLCJ2aXNpYmxlIiwicjIwIiwickNSTEYiLCJyc3VibWl0dGVyVHlwZXMiLCJyc3VibWl0dGFibGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemUiLCJzZXJpYWxpemVBcnJheSIsInhociIsImRvY3VtZW50TW9kZSIsInhocklkIiwieGhyQ2FsbGJhY2tzIiwieGhyU3VwcG9ydGVkIiwiY29ycyIsInVzZXJuYW1lIiwieGhyRmllbGRzIiwiaXNBYm9ydCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlc3BvbnNlVGV4dCIsInNjcmlwdCIsInRleHQgc2NyaXB0IiwiaGVhZCIsInNjcmlwdENoYXJzZXQiLCJjaGFyc2V0Iiwib25sb2FkIiwib2xkQ2FsbGJhY2tzIiwicmpzb25wIiwianNvbnAiLCJqc29ucENhbGxiYWNrIiwib3JpZ2luYWxTZXR0aW5ncyIsImNhbGxiYWNrTmFtZSIsIm92ZXJ3cml0dGVuIiwicmVzcG9uc2VDb250YWluZXIiLCJqc29uUHJvcCIsImtlZXBTY3JpcHRzIiwicGFyc2VkIiwiX2xvYWQiLCJwYXJhbXMiLCJhbmltYXRlZCIsIm9mZnNldCIsInNldE9mZnNldCIsImN1clBvc2l0aW9uIiwiY3VyTGVmdCIsImN1ckNTU1RvcCIsImN1clRvcCIsImN1ck9mZnNldCIsImN1ckNTU0xlZnQiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImN1ckVsZW0iLCJ1c2luZyIsIndpbiIsImJveCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRPZmZzZXQiLCJzY3JvbGxUbyIsIkhlaWdodCIsIldpZHRoIiwiIiwiZGVmYXVsdEV4dHJhIiwiZnVuY05hbWUiLCJiaW5kIiwidW5iaW5kIiwiZGVsZWdhdGUiLCJ1bmRlbGVnYXRlIiwic2l6ZSIsImFuZFNlbGYiLCJkZWZpbmUiLCJhbWQiLCJfalF1ZXJ5IiwiXyQiLCIkIiwibm9Db25mbGljdCJdLCJtYXBwaW5ncyI6IkNBY0MsU0FBVUEsRUFBUUMsR0FFSyxnQkFBWEMsU0FBaUQsZ0JBQW5CQSxRQUFPQyxRQVFoREQsT0FBT0MsUUFBVUgsRUFBT0ksU0FDdkJILEVBQVNELEdBQVEsR0FDakIsU0FBVUssR0FDVCxJQUFNQSxFQUFFRCxTQUNQLEtBQU0sSUFBSUUsT0FBTywyQ0FFbEIsT0FBT0wsR0FBU0ksSUFHbEJKLEVBQVNELElBSVMs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SCxFQUFNcUgsSUFFcENvaEMsT0FBUSxTQUFVdGhDLEVBQU9FLEdBQ3hCLE1BQU9oSyxNQUFLbUssSUFBS0wsRUFBTyxLQUFNRSxJQUcvQnFoQyxTQUFVLFNBQVV0aEMsRUFBVUQsRUFBT25ILEVBQU1xSCxHQUMxQyxNQUFPaEssTUFBSzZKLEdBQUlDLEVBQU9DLEVBQVVwSCxFQUFNcUgsSUFFeENzaEMsV0FBWSxTQUFVdmhDLEVBQVVELEVBQU9FLEdBR3RDLE1BQTRCLEtBQXJCSyxVQUFVakssT0FDaEJKLEtBQUttSyxJQUFLSixFQUFVLE1BQ3BCL0osS0FBS21LLElBQUtMLEVBQU9DLEdBQVksS0FBTUMsTUFLdEMxSixHQUFPMEosR0FBR3VoQyxLQUFPLFdBQ2hCLE1BQU92ckMsTUFBS0ksUUFHYkUsR0FBTzBKLEdBQUd3aEMsUUFBVWxyQyxHQUFPMEosR0FBRytoQixRQWtCUCxrQkFBWDBmLFNBQXlCQSxPQUFPQyxLQUMzQ0QsT0FBUSxZQUFjLFdBQ3JCLE1BQU9uckMsS0FNVCxJQUdDcXJDLElBQVU1ckMsRUFBT08sT0FHakJzckMsR0FBSzdyQyxFQUFPOHJDLENBcUJiLE9BbkJBdnJDLElBQU93ckMsV0FBYSxTQUFVOTBCLEdBUzdCLE1BUktqWCxHQUFPOHJDLElBQU12ckMsS0FDakJQLEVBQU84ckMsRUFBSUQsSUFHUDUwQixHQUFRalgsRUFBT08sU0FBV0EsS0FDOUJQLEVBQU9PLE9BQVNxckMsSUFHVnJyQyxJQU1GTCxJQUNMRixFQUFPTyxPQUFTUCxFQUFPOHJDLEVBQUl2ckMsSUFHckJBIiwiZmlsZSI6ImpxdWVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2MS4xMi4zXG4gKiBodHRwOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDQtMDVUMTk6MTZaXG4gKi9cblxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vIENhbid0IGJlIGluIHN0cmljdCBtb2RlLCBzZXZlcmFsIGxpYnMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy9cInVzZSBzdHJpY3RcIjtcbnZhciBkZWxldGVkSWRzID0gW107XG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxudmFyIHNsaWNlID0gZGVsZXRlZElkcy5zbGljZTtcblxudmFyIGNvbmNhdCA9IGRlbGV0ZWRJZHMuY29uY2F0O1xuXG52YXIgcHVzaCA9IGRlbGV0ZWRJZHMucHVzaDtcblxudmFyIGluZGV4T2YgPSBkZWxldGVkSWRzLmluZGV4T2Y7XG5cbnZhciBjbGFzczJ0eXBlID0ge307XG5cbnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cbnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG5cblxudmFyXG5cdHZlcnNpb24gPSBcIjEuMTIuM1wiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMSwgSUU8OVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cblx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG5cdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbXFxkYS16XSkvZ2ksXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFN0YXJ0IHdpdGggYW4gZW1wdHkgc2VsZWN0b3Jcblx0c2VsZWN0b3I6IFwiXCIsXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHJldHVybiBudW0gIT0gbnVsbCA/XG5cblx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdCggbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXSApIDpcblxuXHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0c2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XHRyZXQuY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGRlbGV0ZWRJZHMuc29ydCxcblx0c3BsaWNlOiBkZWxldGVkSWRzLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIHNyYywgY29weUlzQXJyYXksIGNvcHksIG5hbWUsIG9wdGlvbnMsIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gc2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIGV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcblx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHQvLyBTZWUgdGVzdC91bml0L2NvcmUuanMgZm9yIGRldGFpbHMgY29uY2VybmluZyBpc0Z1bmN0aW9uLlxuXHQvLyBTaW5jZSB2ZXJzaW9uIDEuMywgRE9NIG1ldGhvZHMgYW5kIGZ1bmN0aW9ucyBsaWtlIGFsZXJ0XG5cdC8vIGFyZW4ndCBzdXBwb3J0ZWQuIFRoZXkgcmV0dXJuIGZhbHNlIG9uIElFICgjMjk2OCkuXG5cdGlzRnVuY3Rpb246IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJmdW5jdGlvblwiO1xuXHR9LFxuXG5cdGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImFycmF5XCI7XG5cdH0sXG5cblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0LyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09IG9iai53aW5kb3c7XG5cdH0sXG5cblx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0Ly8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKG51bGx8dHJ1ZXxmYWxzZXxcIlwiKVxuXHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHQvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cblx0XHQvLyBhZGRpbmcgMSBjb3JyZWN0cyBsb3NzIG9mIHByZWNpc2lvbiBmcm9tIHBhcnNlRmxvYXQgKCMxNTEwMClcblx0XHR2YXIgcmVhbFN0cmluZ09iaiA9IG9iaiAmJiBvYmoudG9TdHJpbmcoKTtcblx0XHRyZXR1cm4gIWpRdWVyeS5pc0FycmF5KCBvYmogKSAmJiAoIHJlYWxTdHJpbmdPYmogLSBwYXJzZUZsb2F0KCByZWFsU3RyaW5nT2JqICkgKyAxICkgPj0gMDtcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBuYW1lO1xuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBrZXk7XG5cblx0XHQvLyBNdXN0IGJlIGFuIE9iamVjdC5cblx0XHQvLyBCZWNhdXNlIG9mIElFLCB3ZSBhbHNvIGhhdmUgdG8gY2hlY2sgdGhlIHByZXNlbmNlIG9mIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0eS5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCBET00gbm9kZXMgYW5kIHdpbmRvdyBvYmplY3RzIGRvbid0IHBhc3MgdGhyb3VnaCwgYXMgd2VsbFxuXHRcdGlmICggIW9iaiB8fCBqUXVlcnkudHlwZSggb2JqICkgIT09IFwib2JqZWN0XCIgfHwgb2JqLm5vZGVUeXBlIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblxuXHRcdFx0Ly8gTm90IG93biBjb25zdHJ1Y3RvciBwcm9wZXJ0eSBtdXN0IGJlIE9iamVjdFxuXHRcdFx0aWYgKCBvYmouY29uc3RydWN0b3IgJiZcblx0XHRcdFx0IWhhc093bi5jYWxsKCBvYmosIFwiY29uc3RydWN0b3JcIiApICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbCggb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIgKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHQvLyBJRTgsOSBXaWxsIHRocm93IGV4Y2VwdGlvbnMgb24gY2VydGFpbiBob3N0IG9iamVjdHMgIzk4OTdcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gSGFuZGxlIGl0ZXJhdGlvbiBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlZm9yZSBvd24gcHJvcGVydGllcy5cblx0XHRpZiAoICFzdXBwb3J0Lm93bkZpcnN0ICkge1xuXHRcdFx0Zm9yICgga2V5IGluIG9iaiApIHtcblx0XHRcdFx0cmV0dXJuIGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE93biBwcm9wZXJ0aWVzIGFyZSBlbnVtZXJhdGVkIGZpcnN0bHksIHNvIHRvIHNwZWVkIHVwLFxuXHRcdC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXHRcdGZvciAoIGtleSBpbiBvYmogKSB7fVxuXG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHR9LFxuXG5cdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gV29ya2Fyb3VuZHMgYmFzZWQgb24gZmluZGluZ3MgYnkgSmltIERyaXNjb2xsXG5cdC8vIGh0dHA6Ly93ZWJsb2dzLmphdmEubmV0L2Jsb2cvZHJpc2NvbGwvYXJjaGl2ZS8yMDA5LzA5LzA4L2V2YWwtamF2YXNjcmlwdC1nbG9iYWwtY29udGV4dFxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRpZiAoIGRhdGEgJiYgalF1ZXJ5LnRyaW0oIGRhdGEgKSApIHtcblxuXHRcdFx0Ly8gV2UgdXNlIGV4ZWNTY3JpcHQgb24gSW50ZXJuZXQgRXhwbG9yZXJcblx0XHRcdC8vIFdlIHVzZSBhbiBhbm9ueW1vdXMgZnVuY3Rpb24gc28gdGhhdCBjb250ZXh0IGlzIHdpbmRvd1xuXHRcdFx0Ly8gcmF0aGVyIHRoYW4galF1ZXJ5IGluIEZpcmVmb3hcblx0XHRcdCggd2luZG93LmV4ZWNTY3JpcHQgfHwgZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHRcdHdpbmRvd1sgXCJldmFsXCIgXS5jYWxsKCB3aW5kb3csIGRhdGEgKTsgLy8ganNjczppZ25vcmUgcmVxdWlyZURvdE5vdGF0aW9uXG5cdFx0XHR9ICkoIGRhdGEgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMSwgSUU8OVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHZhciBsZW47XG5cblx0XHRpZiAoIGFyciApIHtcblx0XHRcdGlmICggaW5kZXhPZiApIHtcblx0XHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGxlbiA9IGFyci5sZW5ndGg7XG5cdFx0XHRpID0gaSA/IGkgPCAwID8gTWF0aC5tYXgoIDAsIGxlbiArIGkgKSA6IGkgOiAwO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblxuXHRcdFx0XHQvLyBTa2lwIGFjY2Vzc2luZyBpbiBzcGFyc2UgYXJyYXlzXG5cdFx0XHRcdGlmICggaSBpbiBhcnIgJiYgYXJyWyBpIF0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdHdoaWxlICggaiA8IGxlbiApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaisrIF07XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIFdvcmthcm91bmQgY2FzdGluZyBvZiAubGVuZ3RoIHRvIE5hTiBvbiBvdGhlcndpc2UgYXJyYXlsaWtlIG9iamVjdHMgKGUuZy4sIE5vZGVMaXN0cylcblx0XHRpZiAoIGxlbiAhPT0gbGVuICkge1xuXHRcdFx0d2hpbGUgKCBzZWNvbmRbIGogXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGorKyBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuXHQvLyBhcmd1bWVudHMuXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0dmFyIGFyZ3MsIHByb3h5LCB0bXA7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdGZuID0gdG1wO1xuXHRcdH1cblxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRcdHJldHVybiBwcm94eTtcblx0fSxcblxuXHRub3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiArKCBuZXcgRGF0ZSgpICk7XG5cdH0sXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuLy8gSlNIaW50IHdvdWxkIGVycm9yIG9uIHRoaXMgY29kZSBkdWUgdG8gdGhlIFN5bWJvbCBub3QgYmVpbmcgZGVmaW5lZCBpbiBFUzUuXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuanNoaW50cmMgd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBqdXN0IGRpc2FibGUgSlNIaW50IGZvciB0aGVzZVxuLy8gdGhyZWUgbGluZXMuXG4vKiBqc2hpbnQgaWdub3JlOiBzdGFydCAqL1xuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBkZWxldGVkSWRzWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cbi8qIGpzaGludCBpZ25vcmU6IGVuZCAqL1xuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5mdW5jdGlvbiggaSwgbmFtZSApIHtcblx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogaU9TIDguMiAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblxuXHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4yLjFcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTUtMTAtMTdcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEdlbmVyYWwtcHVycG9zZSBjb25zdGFudHNcblx0TUFYX05FR0FUSVZFID0gMSA8PCAzMSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cDovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXHRyZXNjYXBlID0gLyd8XFxcXC9nLFxuXG5cdC8vIENTUyBlc2NhcGVzIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBVc2VkIGZvciBpZnJhbWVzXG5cdC8vIFNlZSBzZXREb2N1bWVudCgpXG5cdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHQvLyBlcnJvciBpbiBJRVxuXHR1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0c2V0RG9jdW1lbnQoKTtcblx0fTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBuaWRzZWxlY3QsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCxcblxuXHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxuXHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0aWYgKCAhc2VlZCApIHtcblxuXHRcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdH1cblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXG5cdFx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxuXHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdGVsZW0uaWQgPT09IG0gKSB7XG5cblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUeXBlIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiZcblx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcblx0XHRcdGlmICggc3VwcG9ydC5xc2EgJiZcblx0XHRcdFx0IWNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHQoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdGlmICggbm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuXHRcdFx0XHQvLyBxU0EgbG9va3Mgb3V0c2lkZSBFbGVtZW50IGNvbnRleHQsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnRcblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgd29ya2Fyb3VuZCB0ZWNobmlxdWVcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0aWYgKCAobmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApKSApIHtcblx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByZXNjYXBlLCBcIlxcXFwkJlwiICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIChuaWQgPSBleHBhbmRvKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuXHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdG5pZHNlbGVjdCA9IHJpZGVudGlmaWVyLnRlc3QoIG5pZCApID8gXCIjXCIgKyBuaWQgOiBcIltpZD0nXCIgKyBuaWQgKyBcIiddXCI7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbaV0gPSBuaWRzZWxlY3QgKyBcIiBcIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGRpdiBhbmQgZXhwZWN0cyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGRpdiApO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZGl2LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZGl2ICk7XG5cdFx0fVxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSBhXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxuICovXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdHZhciBjdXIgPSBiICYmIGEsXG5cdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdCggfmIuc291cmNlSW5kZXggfHwgTUFYX05FR0FUSVZFICkgLVxuXHRcdFx0KCB+YS5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKTtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggYXJndW1lbnQgKSB7XG5cdFx0YXJndW1lbnQgPSArYXJndW1lbnQ7XG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdHZhciBqLFxuXHRcdFx0XHRtYXRjaEluZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLFxuXHRcdFx0XHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcblxuXHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHtcblx0XHRcdFx0XHRzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcbiAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZVxuICovXG5mdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcblx0cmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dDtcbn1cblxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2VcbnN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXG4vKipcbiAqIERldGVjdHMgWE1MIG5vZGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudFxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxuICovXG5pc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHQvLyBkb2N1bWVudEVsZW1lbnQgaXMgdmVyaWZpZWQgZm9yIGNhc2VzIHdoZXJlIGl0IGRvZXNuJ3QgeWV0IGV4aXN0XG5cdC8vIChzdWNoIGFzIGxvYWRpbmcgaWZyYW1lcyBpbiBJRSAtICM0ODMzKVxuXHR2YXIgZG9jdW1lbnRFbGVtZW50ID0gZWxlbSAmJiAoZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0pLmRvY3VtZW50RWxlbWVudDtcblx0cmV0dXJuIGRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJIVE1MXCIgOiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBbZG9jXSBBbiBlbGVtZW50IG9yIGRvY3VtZW50IG9iamVjdCB0byB1c2UgdG8gc2V0IHRoZSBkb2N1bWVudFxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxuICovXG5zZXREb2N1bWVudCA9IFNpenpsZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKCBub2RlICkge1xuXHR2YXIgaGFzQ29tcGFyZSwgcGFyZW50LFxuXHRcdGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcblxuXHQvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZFxuXHRpZiAoIGRvYyA9PT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fVxuXG5cdC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jdW1lbnQgKTtcblxuXHQvLyBTdXBwb3J0OiBJRSA5LTExLCBFZGdlXG5cdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNilcblx0aWYgKCAocGFyZW50ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHBhcmVudC50b3AgIT09IHBhcmVudCApIHtcblx0XHQvLyBTdXBwb3J0OiBJRSAxMVxuXHRcdGlmICggcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJ1bmxvYWRcIiwgdW5sb2FkSGFuZGxlciwgZmFsc2UgKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMCBvbmx5XG5cdFx0fSBlbHNlIGlmICggcGFyZW50LmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0cGFyZW50LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIgKTtcblx0XHR9XG5cdH1cblxuXHQvKiBBdHRyaWJ1dGVzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZGl2LmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZGl2LmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKTtcblx0fSk7XG5cblx0LyogZ2V0RWxlbWVudChzKUJ5KlxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpIHJldHVybnMgb25seSBlbGVtZW50c1xuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTtcblxuXHQvLyBTdXBwb3J0OiBJRTwxMFxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcblx0Ly8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGRpdiApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gSUQgZmluZCBhbmQgZmlsdGVyXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRyZXR1cm4gbSA/IFsgbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gU3VwcG9ydDogSUU2Lzdcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0ZGVsZXRlIEV4cHIuZmluZFtcIklEXCJdO1xuXG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0fVxuXG5cdC8vIFRhZ1xuXHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFtcIkNMQVNTXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsICkpICkge1xuXHRcdC8vIEJ1aWxkIFFTQSByZWdleFxuXHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGRpdiApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW2lkfj1cIiArIGV4cGFuZG8gKyBcIi1dXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwifj1cIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2liaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRkaXYucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaChcIiwuKjpcIik7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoIChzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKG1hdGNoZXMgPSBkb2NFbGVtLm1hdGNoZXMgfHxcblx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGRpdiwgXCJkaXZcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGRpdiwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRcImRpc2FibGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0Y2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYgZGlyID09PSBcInBhcmVudE5vZGVcIixcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcblxuXHRyZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcblx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8IChvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdGlmICggKG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGRpciBdKSAmJlxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgZGlyIF0gPSBuZXdDYWNoZTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcblx0XHRcdFx0XHRcdFx0aWYgKCAobmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHtcblx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgaSA9IG1hdGNoZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoICFtYXRjaGVyc1tpXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1swXTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyApO1xuXHR9XG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5mdW5jdGlvbiBjb25kZW5zZSggdW5tYXRjaGVkLCBtYXAsIGZpbHRlciwgY29udGV4dCwgeG1sICkge1xuXHR2YXIgZWxlbSxcblx0XHRuZXdVbm1hdGNoZWQgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxuXHRcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0aWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdG1hcC5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3VW5tYXRjaGVkO1xufVxuXG5mdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XG5cdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdH1cblx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHR9XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdHByZU1hcCA9IFtdLFxuXHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCBcIipcIiwgY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcblxuXHRcdFx0Ly8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uXG5cdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cblx0XHRcdFx0Y29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHByZUZpbHRlciwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRlbGVtcyxcblxuXHRcdFx0bWF0Y2hlck91dCA9IG1hdGNoZXIgP1xuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cblx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0bWF0Y2hlckluO1xuXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRpZiAoIG1hdGNoZXIgKSB7XG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKGVsZW0gPSB0ZW1wW2ldKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyT3V0WyBwb3N0TWFwW2ldIF0gPSAhKG1hdGNoZXJJblsgcG9zdE1hcFtpXSBdID0gZWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAobWF0Y2hlckluW2ldID0gZWxlbSkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgJiZcblx0XHRcdFx0XHRcdCh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcblxuXHRcdFx0XHRcdFx0c2VlZFt0ZW1wXSA9ICEocmVzdWx0c1t0ZW1wXSA9IGVsZW0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG5cdFx0XHRcdFx0bWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDpcblx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHQpO1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xuXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzBdLnR5cGUgXSxcblx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXCIgXCJdLFxuXHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcblxuXHRcdC8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJlIHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpXG5cdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBpbmRleE9mKCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xO1xuXHRcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcblx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciByZXQgPSAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKFxuXHRcdFx0XHQoY2hlY2tDb250ZXh0ID0gY29udGV4dCkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBdO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHtcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyKSBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1tpXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzICk7XG5cblx0XHRcdC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG5cdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG5cdFx0XHRcdGogPSArK2k7XG5cdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gc2V0TWF0Y2hlcihcblx0XHRcdFx0XHRpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSxcblx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxuXHRcdFx0XHRcdFx0Ly8gSWYgdGhlIHByZWNlZGluZyB0b2tlbiB3YXMgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IsIGluc2VydCBhbiBpbXBsaWNpdCBhbnktZWxlbWVudCBgKmBcblx0XHRcdFx0XHRcdHRva2Vucy5zbGljZSggMCwgaSAtIDEgKS5jb25jYXQoeyB2YWx1ZTogdG9rZW5zWyBpIC0gMiBdLnR5cGUgPT09IFwiIFwiID8gXCIqXCIgOiBcIlwiIH0pXG5cdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXG5cdFx0XHRcdFx0bWF0Y2hlcixcblx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAodG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlcnMucHVzaCggbWF0Y2hlciApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkge1xuXHR2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdGJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLFxuXHRcdHN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHtcblx0XHRcdHZhciBlbGVtLCBqLCBtYXRjaGVyLFxuXHRcdFx0XHRtYXRjaGVkQ291bnQgPSAwLFxuXHRcdFx0XHRpID0gXCIwXCIsXG5cdFx0XHRcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXG5cdFx0XHRcdHNldE1hdGNoZWQgPSBbXSxcblx0XHRcdFx0Y29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbXCJUQUdcIl0oIFwiKlwiLCBvdXRlcm1vc3QgKSxcblx0XHRcdFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcblx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksXG5cdFx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09PSBkb2N1bWVudCB8fCBjb250ZXh0IHx8IG91dGVybW9zdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGVsZW1lbnRzIHBhc3NpbmcgZWxlbWVudE1hdGNoZXJzIGRpcmVjdGx5IHRvIHJlc3VsdHNcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0aWYgKCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sKSApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRyYWNrIHVubWF0Y2hlZCBlbGVtZW50cyBmb3Igc2V0IGZpbHRlcnNcblx0XHRcdFx0aWYgKCBieVNldCApIHtcblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG5cdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblxuXHRcdFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG5cdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdC8vIG51bWVyaWNhbGx5IHplcm8uXG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBzZXRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXG5cdFx0XHRcdFx0c2V0TWF0Y2hlZCA9IGNvbmRlbnNlKCBzZXRNYXRjaGVkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNldE1hdGNoZWQgKTtcblxuXHRcdFx0XHQvLyBTZWVkbGVzcyBzZXQgbWF0Y2hlcyBzdWNjZWVkaW5nIG11bHRpcGxlIHN1Y2Nlc3NmdWwgbWF0Y2hlcnMgc3RpcHVsYXRlIHNvcnRpbmdcblx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XG5cblx0XHRcdFx0XHRTaXp6bGUudW5pcXVlU29ydCggcmVzdWx0cyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcblx0XHR9O1xuXG5cdHJldHVybiBieVNldCA/XG5cdFx0bWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XG5cdFx0c3VwZXJNYXRjaGVyO1xufVxuXG5jb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHR2YXIgaSxcblx0XHRzZXRNYXRjaGVycyA9IFtdLFxuXHRcdGVsZW1lbnRNYXRjaGVycyA9IFtdLFxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoICFjYWNoZWQgKSB7XG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7XG5cdFx0XHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcblx0Ly8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KVxuXHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdC8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0dG9rZW5zID0gbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApO1xuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcblx0XHRcdFx0c3VwcG9ydC5nZXRCeUlkICYmIGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHRcdFx0RXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kW1wiSURcIl0oIHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSksIGNvbnRleHQgKSB8fCBbXSApWzBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwcltcIm5lZWRzQ29udGV4dFwiXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0b2tlbiA9IHRva2Vuc1tpXTtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyAodHlwZSA9IHRva2VuLnR5cGUpIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdKSApIHtcblx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdGlmICggKHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcblx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdCkpICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3RvciggdG9rZW5zICk7XG5cdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRzZWVkLFxuXHRcdGNvbnRleHQsXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdHJlc3VsdHMsXG5cdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFNvcnQgc3RhYmlsaXR5XG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KFwiXCIpLnNvcnQoIHNvcnRPcmRlciApLmpvaW4oXCJcIikgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYxICkge1xuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcblx0cmV0dXJuIGRpdjEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgKSAmIDE7XG59KTtcblxuLy8gU3VwcG9ydDogSUU8OFxuLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgXCJpbnRlcnBvbGF0aW9uXCJcbi8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRkaXYuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XG5cdHJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRkaXYuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xuXHRkaXYuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidmFsdWVcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRyZXR1cm4gZGl2LmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpID09IG51bGw7XG59KSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvICk7XG5cblxuXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXG5cdH1cblxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG5cdFx0fVxuXG5cdFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuICggalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHF1YWxpZmllciApID4gLTEgKSAhPT0gbm90O1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdHNlbGYgPSB0aGlzLFxuXHRcdFx0bGVuID0gc2VsZi5sZW5ndGg7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdC8vIE5lZWRlZCBiZWNhdXNlICQoIHNlbGVjdG9yLCBjb250ZXh0ICkgYmVjb21lcyAkKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKVxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZSggcmV0ICkgOiByZXQgKTtcblx0XHRyZXQuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArIFwiIFwiICsgc2VsZWN0b3IgOiBzZWxlY3Rvcjtcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59ICk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBpbml0IGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3IuY2hhckF0KCAwICkgPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmNoYXJBdCggc2VsZWN0b3IubGVuZ3RoIC0gMSApID09PSBcIj5cIiAmJlxuXHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblxuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdGlmICggbWF0Y2hbIDEgXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBwYXJlbnROb2RlIHRvIGNhdGNoIHdoZW4gQmxhY2tiZXJyeSA0LjYgcmV0dXJuc1xuXHRcdFx0XHRcdC8vIG5vZGVzIHRoYXQgYXJlIG5vIGxvbmdlciBpbiB0aGUgZG9jdW1lbnQgIzY5NjNcblx0XHRcdFx0XHRpZiAoIGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgSUUgYW5kIE9wZXJhIHJldHVybiBpdGVtc1xuXHRcdFx0XHRcdFx0Ly8gYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgIT09IG1hdGNoWyAyIF0gKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByb290alF1ZXJ5LmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgd2UgaW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5jb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpcy5jb250ZXh0ID0gdGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiB0eXBlb2Ygcm9vdC5yZWFkeSAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3Iuc2VsZWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMuc2VsZWN0b3IgPSBzZWxlY3Rvci5zZWxlY3Rvcjtcblx0XHRcdHRoaXMuY29udGV4dCA9IHNlbGVjdG9yLmNvbnRleHQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBtZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgaSxcblx0XHRcdHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bGVuID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0cG9zID0gcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSB8fCB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvcnMsIGNvbnRleHQgfHwgdGhpcy5jb250ZXh0ICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHBvcyA/XG5cdFx0XHRcdFx0cG9zLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW5cblx0Ly8gdGhlIG1hdGNoZWQgc2V0IG9mIGVsZW1lbnRzXG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBpbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmluQXJyYXkoIHRoaXNbIDAgXSwgalF1ZXJ5KCBlbGVtICkgKTtcblx0XHR9XG5cblx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRyZXR1cm4galF1ZXJ5LmluQXJyYXkoXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtLCB0aGlzICk7XG5cdH0sXG5cblx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdGRvIHtcblx0XHRjdXIgPSBjdXJbIGRpciBdO1xuXHR9IHdoaWxlICggY3VyICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApO1xuXG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaWZyYW1lXCIgKSA/XG5cdFx0XHRlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBlbGVtLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgOlxuXHRcdFx0alF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciByZXQgPSBqUXVlcnkubWFwKCB0aGlzLCBmbiwgdW50aWwgKTtcblxuXHRcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXCJVbnRpbFwiICkge1xuXHRcdFx0c2VsZWN0b3IgPSB1bnRpbDtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCByZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0cmV0ID0galF1ZXJ5LnVuaXF1ZVNvcnQoIHJldCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZlcnNlIG9yZGVyIGZvciBwYXJlbnRzKiBhbmQgcHJldi1kZXJpdmF0aXZlc1xuXHRcdFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xuXHRcdFx0XHRyZXQgPSByZXQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgKSB7XG5cdFx0XHRcdFx0c2VsZi5kaXNhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgbGlzdGVuZXIgbGlzdCwgZmluYWwgc3RhdGVcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIFwicmVqZWN0ZWRcIiBdLFxuXHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbiggZm5zWyBpIF0gKSAmJiBmbnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZFsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdIGZvciBmb3J3YXJkaW5nIGFjdGlvbnMgdG8gbmV3RGVmZXJcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMgPT09IHByb21pc2UgPyBuZXdEZWZlci5wcm9taXNlKCkgOiB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdHByb21pc2UucGlwZSA9IHByb21pc2UudGhlbjtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDMgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZVsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdC8vIHN0YXRlID0gWyByZXNvbHZlZCB8IHJlamVjdGVkIF1cblx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXG5cdFx0XHRcdC8vIFsgcmVqZWN0X2xpc3QgfCByZXNvbHZlX2xpc3QgXS5kaXNhYmxlOyBwcm9ncmVzc19saXN0LmxvY2tcblx0XHRcdFx0fSwgdHVwbGVzWyBpIF4gMSBdWyAyIF0uZGlzYWJsZSwgdHVwbGVzWyAyIF1bIDIgXS5sb2NrICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlZmVycmVkWyByZXNvbHZlIHwgcmVqZWN0IHwgbm90aWZ5IF1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGxlbmd0aCA9IHJlc29sdmVWYWx1ZXMubGVuZ3RoLFxuXG5cdFx0XHQvLyB0aGUgY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBsZW5ndGggIT09IDEgfHxcblx0XHRcdFx0KCBzdWJvcmRpbmF0ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggc3Vib3JkaW5hdGUucHJvbWlzZSApICkgPyBsZW5ndGggOiAwLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkLlxuXHRcdFx0Ly8gSWYgcmVzb2x2ZVZhbHVlcyBjb25zaXN0IG9mIG9ubHkgYSBzaW5nbGUgRGVmZXJyZWQsIGp1c3QgdXNlIHRoYXQuXG5cdFx0XHRkZWZlcnJlZCA9IHJlbWFpbmluZyA9PT0gMSA/IHN1Ym9yZGluYXRlIDogalF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIFVwZGF0ZSBmdW5jdGlvbiBmb3IgYm90aCByZXNvbHZlIGFuZCBwcm9ncmVzcyB2YWx1ZXNcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSwgY29udGV4dHMsIHZhbHVlcyApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRjb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHR2YWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoIHZhbHVlcyA9PT0gcHJvZ3Jlc3NWYWx1ZXMgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNvbnRleHRzLCB2YWx1ZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXG5cdFx0XHRwcm9ncmVzc1ZhbHVlcywgcHJvZ3Jlc3NDb250ZXh0cywgcmVzb2x2ZUNvbnRleHRzO1xuXG5cdFx0Ly8gYWRkIGxpc3RlbmVycyB0byBEZWZlcnJlZCBzdWJvcmRpbmF0ZXM7IHRyZWF0IG90aGVycyBhcyByZXNvbHZlZFxuXHRcdGlmICggbGVuZ3RoID4gMSApIHtcblx0XHRcdHByb2dyZXNzVmFsdWVzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdHByb2dyZXNzQ29udGV4dHMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIHVwZGF0ZUZ1bmMoIGksIHByb2dyZXNzQ29udGV4dHMsIHByb2dyZXNzVmFsdWVzICkgKVxuXHRcdFx0XHRcdFx0LmRvbmUoIHVwZGF0ZUZ1bmMoIGksIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApIClcblx0XHRcdFx0XHRcdC5mYWlsKCBkZWZlcnJlZC5yZWplY3QgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQtLXJlbWFpbmluZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGlmIHdlJ3JlIG5vdCB3YWl0aW5nIG9uIGFueXRoaW5nLCByZXNvbHZlIHRoZSBtYXN0ZXJcblx0XHRpZiAoICFyZW1haW5pbmcgKSB7XG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdDtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdC8vIEFkZCB0aGUgY2FsbGJhY2tcblx0alF1ZXJ5LnJlYWR5LnByb21pc2UoKS5kb25lKCBmbiApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhvbGQgKG9yIHJlbGVhc2UpIHRoZSByZWFkeSBldmVudFxuXHRob2xkUmVhZHk6IGZ1bmN0aW9uKCBob2xkICkge1xuXHRcdGlmICggaG9sZCApIHtcblx0XHRcdGpRdWVyeS5yZWFkeVdhaXQrKztcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblxuXHRcdC8vIFRyaWdnZXIgYW55IGJvdW5kIHJlYWR5IGV2ZW50c1xuXHRcdGlmICggalF1ZXJ5LmZuLnRyaWdnZXJIYW5kbGVyICkge1xuXHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLnRyaWdnZXJIYW5kbGVyKCBcInJlYWR5XCIgKTtcblx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS5vZmYoIFwicmVhZHlcIiApO1xuXHRcdH1cblx0fVxufSApO1xuXG4vKipcbiAqIENsZWFuLXVwIG1ldGhvZCBmb3IgZG9tIHJlYWR5IGV2ZW50c1xuICovXG5mdW5jdGlvbiBkZXRhY2goKSB7XG5cdGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblxuXHR9IGVsc2Uge1xuXHRcdGRvY3VtZW50LmRldGFjaEV2ZW50KCBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLCBjb21wbGV0ZWQgKTtcblx0XHR3aW5kb3cuZGV0YWNoRXZlbnQoIFwib25sb2FkXCIsIGNvbXBsZXRlZCApO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbiAqL1xuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXG5cdC8vIHJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiBpcyBnb29kIGVub3VnaCBmb3IgdXMgdG8gY2FsbCB0aGUgZG9tIHJlYWR5IGluIG9sZElFXG5cdGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciB8fFxuXHRcdHdpbmRvdy5ldmVudC50eXBlID09PSBcImxvYWRcIiB8fFxuXHRcdGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiApIHtcblxuXHRcdGRldGFjaCgpO1xuXHRcdGpRdWVyeS5yZWFkeSgpO1xuXHR9XG59XG5cbmpRdWVyeS5yZWFkeS5wcm9taXNlID0gZnVuY3Rpb24oIG9iaiApIHtcblx0aWYgKCAhcmVhZHlMaXN0ICkge1xuXG5cdFx0cmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuXHRcdC8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuXHRcdC8vIFN1cHBvcnQ6IElFNi0xMFxuXHRcdC8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuXHRcdGlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdFx0XHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHRcdFx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cblx0XHQvLyBTdGFuZGFyZHMtYmFzZWQgYnJvd3NlcnMgc3VwcG9ydCBET01Db250ZW50TG9hZGVkXG5cdFx0fSBlbHNlIGlmICggZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcblxuXHRcdFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdFx0XHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblxuXHRcdC8vIElmIElFIGV2ZW50IG1vZGVsIGlzIHVzZWRcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBFbnN1cmUgZmlyaW5nIGJlZm9yZSBvbmxvYWQsIG1heWJlIGxhdGUgYnV0IHNhZmUgYWxzbyBmb3IgaWZyYW1lc1xuXHRcdFx0ZG9jdW1lbnQuYXR0YWNoRXZlbnQoIFwib25yZWFkeXN0YXRlY2hhbmdlXCIsIGNvbXBsZXRlZCApO1xuXG5cdFx0XHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHRcdFx0d2luZG93LmF0dGFjaEV2ZW50KCBcIm9ubG9hZFwiLCBjb21wbGV0ZWQgKTtcblxuXHRcdFx0Ly8gSWYgSUUgYW5kIG5vdCBhIGZyYW1lXG5cdFx0XHQvLyBjb250aW51YWxseSBjaGVjayB0byBzZWUgaWYgdGhlIGRvY3VtZW50IGlzIHJlYWR5XG5cdFx0XHR2YXIgdG9wID0gZmFsc2U7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRvcCA9IHdpbmRvdy5mcmFtZUVsZW1lbnQgPT0gbnVsbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdGlmICggdG9wICYmIHRvcC5kb1Njcm9sbCApIHtcblx0XHRcdFx0KCBmdW5jdGlvbiBkb1Njcm9sbENoZWNrKCkge1xuXHRcdFx0XHRcdGlmICggIWpRdWVyeS5pc1JlYWR5ICkge1xuXG5cdFx0XHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgdHJpY2sgYnkgRGllZ28gUGVyaW5pXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHA6Ly9qYXZhc2NyaXB0Lm53Ym94LmNvbS9JRUNvbnRlbnRMb2FkZWQvXG5cdFx0XHRcdFx0XHRcdHRvcC5kb1Njcm9sbCggXCJsZWZ0XCIgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gd2luZG93LnNldFRpbWVvdXQoIGRvU2Nyb2xsQ2hlY2ssIDUwICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIGRldGFjaCBhbGwgZG9tIHJlYWR5IGV2ZW50c1xuXHRcdFx0XHRcdFx0ZGV0YWNoKCk7XG5cblx0XHRcdFx0XHRcdC8vIGFuZCBleGVjdXRlIGFueSB3YWl0aW5nIGZ1bmN0aW9uc1xuXHRcdFx0XHRcdFx0alF1ZXJ5LnJlYWR5KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlYWR5TGlzdC5wcm9taXNlKCBvYmogKTtcbn07XG5cbi8vIEtpY2sgb2ZmIHRoZSBET00gcmVhZHkgY2hlY2sgZXZlbiBpZiB0aGUgdXNlciBkb2VzIG5vdFxualF1ZXJ5LnJlYWR5LnByb21pc2UoKTtcblxuXG5cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gSXRlcmF0aW9uIG92ZXIgb2JqZWN0J3MgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVmb3JlIGl0cyBvd25cbnZhciBpO1xuZm9yICggaSBpbiBqUXVlcnkoIHN1cHBvcnQgKSApIHtcblx0YnJlYWs7XG59XG5zdXBwb3J0Lm93bkZpcnN0ID0gaSA9PT0gXCIwXCI7XG5cbi8vIE5vdGU6IG1vc3Qgc3VwcG9ydCB0ZXN0cyBhcmUgZGVmaW5lZCBpbiB0aGVpciByZXNwZWN0aXZlIG1vZHVsZXMuXG4vLyBmYWxzZSB1bnRpbCB0aGUgdGVzdCBpcyBydW5cbnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dCA9IGZhbHNlO1xuXG4vLyBFeGVjdXRlIEFTQVAgaW4gY2FzZSB3ZSBuZWVkIHRvIHNldCBib2R5LnN0eWxlLnpvb21cbmpRdWVyeSggZnVuY3Rpb24oKSB7XG5cblx0Ly8gTWluaWZpZWQ6IHZhciBhLGIsYyxkXG5cdHZhciB2YWwsIGRpdiwgYm9keSwgY29udGFpbmVyO1xuXG5cdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJib2R5XCIgKVsgMCBdO1xuXHRpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xuXG5cdFx0Ly8gUmV0dXJuIGZvciBmcmFtZXNldCBkb2NzIHRoYXQgZG9uJ3QgaGF2ZSBhIGJvZHlcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBTZXR1cFxuXHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XG5cdGJvZHkuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHRpZiAoIHR5cGVvZiBkaXYuc3R5bGUuem9vbSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHQvLyBDaGVjayBpZiBuYXRpdmVseSBibG9jay1sZXZlbCBlbGVtZW50cyBhY3QgbGlrZSBpbmxpbmUtYmxvY2tcblx0XHQvLyBlbGVtZW50cyB3aGVuIHNldHRpbmcgdGhlaXIgZGlzcGxheSB0byAnaW5saW5lJyBhbmQgZ2l2aW5nXG5cdFx0Ly8gdGhlbSBsYXlvdXRcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MVwiO1xuXG5cdFx0c3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0ID0gdmFsID0gZGl2Lm9mZnNldFdpZHRoID09PSAzO1xuXHRcdGlmICggdmFsICkge1xuXG5cdFx0XHQvLyBQcmV2ZW50IElFIDYgZnJvbSBhZmZlY3RpbmcgbGF5b3V0IGZvciBwb3NpdGlvbmVkIGVsZW1lbnRzICMxMTA0OFxuXHRcdFx0Ly8gUHJldmVudCBJRSBmcm9tIHNocmlua2luZyB0aGUgYm9keSBpbiBJRSA3IG1vZGUgIzEyODY5XG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRib2R5LnN0eWxlLnpvb20gPSAxO1xuXHRcdH1cblx0fVxuXG5cdGJvZHkucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xufSApO1xuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHRzdXBwb3J0LmRlbGV0ZUV4cGFuZG8gPSB0cnVlO1xuXHR0cnkge1xuXHRcdGRlbGV0ZSBkaXYudGVzdDtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0c3VwcG9ydC5kZWxldGVFeHBhbmRvID0gZmFsc2U7XG5cdH1cblxuXHQvLyBOdWxsIGVsZW1lbnRzIHRvIGF2b2lkIGxlYWtzIGluIElFLlxuXHRkaXYgPSBudWxsO1xufSApKCk7XG52YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9EYXRhID0galF1ZXJ5Lm5vRGF0YVsgKCBlbGVtLm5vZGVOYW1lICsgXCIgXCIgKS50b0xvd2VyQ2FzZSgpIF0sXG5cdFx0bm9kZVR5cGUgPSArZWxlbS5ub2RlVHlwZSB8fCAxO1xuXG5cdC8vIERvIG5vdCBzZXQgZGF0YSBvbiBub24tZWxlbWVudCBET00gbm9kZXMgYmVjYXVzZSBpdCB3aWxsIG5vdCBiZSBjbGVhcmVkICgjODMzNSkuXG5cdHJldHVybiBub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSA/XG5cdFx0ZmFsc2UgOlxuXG5cdFx0Ly8gTm9kZXMgYWNjZXB0IGRhdGEgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQ7IHJlamVjdGlvbiBjYW4gYmUgY29uZGl0aW9uYWxcblx0XHQhbm9EYXRhIHx8IG5vRGF0YSAhPT0gdHJ1ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc2lkXCIgKSA9PT0gbm9EYXRhO1xufTtcblxuXG5cblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0cm11bHRpRGFzaCA9IC8oW0EtWl0pL2c7XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdHZhciBuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQxXCIgKS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGRhdGEgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6XG5cdFx0XHRcdFx0ZGF0YSA9PT0gXCJmYWxzZVwiID8gZmFsc2UgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwibnVsbFwiID8gbnVsbCA6XG5cblx0XHRcdFx0XHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRcdFx0XHRcdCtkYXRhICsgXCJcIiA9PT0gZGF0YSA/ICtkYXRhIDpcblx0XHRcdFx0XHRyYnJhY2UudGVzdCggZGF0YSApID8galF1ZXJ5LnBhcnNlSlNPTiggZGF0YSApIDpcblx0XHRcdFx0XHRkYXRhO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdGpRdWVyeS5kYXRhKCBlbGVtLCBrZXksIGRhdGEgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG4vLyBjaGVja3MgYSBjYWNoZSBvYmplY3QgZm9yIGVtcHRpbmVzc1xuZnVuY3Rpb24gaXNFbXB0eURhdGFPYmplY3QoIG9iaiApIHtcblx0dmFyIG5hbWU7XG5cdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXG5cdFx0Ly8gaWYgdGhlIHB1YmxpYyBkYXRhIG9iamVjdCBpcyBlbXB0eSwgdGhlIHByaXZhdGUgaXMgc3RpbGwgZW1wdHlcblx0XHRpZiAoIG5hbWUgPT09IFwiZGF0YVwiICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvYmpbIG5hbWUgXSApICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGlmICggbmFtZSAhPT0gXCJ0b0pTT05cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaW50ZXJuYWxEYXRhKCBlbGVtLCBuYW1lLCBkYXRhLCBwdnQgLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdGlmICggIWFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgcmV0LCB0aGlzQ2FjaGUsXG5cdFx0aW50ZXJuYWxLZXkgPSBqUXVlcnkuZXhwYW5kbyxcblxuXHRcdC8vIFdlIGhhdmUgdG8gaGFuZGxlIERPTSBub2RlcyBhbmQgSlMgb2JqZWN0cyBkaWZmZXJlbnRseSBiZWNhdXNlIElFNi03XG5cdFx0Ly8gY2FuJ3QgR0Mgb2JqZWN0IHJlZmVyZW5jZXMgcHJvcGVybHkgYWNyb3NzIHRoZSBET00tSlMgYm91bmRhcnlcblx0XHRpc05vZGUgPSBlbGVtLm5vZGVUeXBlLFxuXG5cdFx0Ly8gT25seSBET00gbm9kZXMgbmVlZCB0aGUgZ2xvYmFsIGpRdWVyeSBjYWNoZTsgSlMgb2JqZWN0IGRhdGEgaXNcblx0XHQvLyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgb2JqZWN0IHNvIEdDIGNhbiBvY2N1ciBhdXRvbWF0aWNhbGx5XG5cdFx0Y2FjaGUgPSBpc05vZGUgPyBqUXVlcnkuY2FjaGUgOiBlbGVtLFxuXG5cdFx0Ly8gT25seSBkZWZpbmluZyBhbiBJRCBmb3IgSlMgb2JqZWN0cyBpZiBpdHMgY2FjaGUgYWxyZWFkeSBleGlzdHMgYWxsb3dzXG5cdFx0Ly8gdGhlIGNvZGUgdG8gc2hvcnRjdXQgb24gdGhlIHNhbWUgcGF0aCBhcyBhIERPTSBub2RlIHdpdGggbm8gY2FjaGVcblx0XHRpZCA9IGlzTm9kZSA/IGVsZW1bIGludGVybmFsS2V5IF0gOiBlbGVtWyBpbnRlcm5hbEtleSBdICYmIGludGVybmFsS2V5O1xuXG5cdC8vIEF2b2lkIGRvaW5nIGFueSBtb3JlIHdvcmsgdGhhbiB3ZSBuZWVkIHRvIHdoZW4gdHJ5aW5nIHRvIGdldCBkYXRhIG9uIGFuXG5cdC8vIG9iamVjdCB0aGF0IGhhcyBubyBkYXRhIGF0IGFsbFxuXHRpZiAoICggIWlkIHx8ICFjYWNoZVsgaWQgXSB8fCAoICFwdnQgJiYgIWNhY2hlWyBpZCBdLmRhdGEgKSApICYmXG5cdFx0ZGF0YSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmICggIWlkICkge1xuXG5cdFx0Ly8gT25seSBET00gbm9kZXMgbmVlZCBhIG5ldyB1bmlxdWUgSUQgZm9yIGVhY2ggZWxlbWVudCBzaW5jZSB0aGVpciBkYXRhXG5cdFx0Ly8gZW5kcyB1cCBpbiB0aGUgZ2xvYmFsIGNhY2hlXG5cdFx0aWYgKCBpc05vZGUgKSB7XG5cdFx0XHRpZCA9IGVsZW1bIGludGVybmFsS2V5IF0gPSBkZWxldGVkSWRzLnBvcCgpIHx8IGpRdWVyeS5ndWlkKys7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlkID0gaW50ZXJuYWxLZXk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhY2FjaGVbIGlkIF0gKSB7XG5cblx0XHQvLyBBdm9pZCBleHBvc2luZyBqUXVlcnkgbWV0YWRhdGEgb24gcGxhaW4gSlMgb2JqZWN0cyB3aGVuIHRoZSBvYmplY3Rcblx0XHQvLyBpcyBzZXJpYWxpemVkIHVzaW5nIEpTT04uc3RyaW5naWZ5XG5cdFx0Y2FjaGVbIGlkIF0gPSBpc05vZGUgPyB7fSA6IHsgdG9KU09OOiBqUXVlcnkubm9vcCB9O1xuXHR9XG5cblx0Ly8gQW4gb2JqZWN0IGNhbiBiZSBwYXNzZWQgdG8galF1ZXJ5LmRhdGEgaW5zdGVhZCBvZiBhIGtleS92YWx1ZSBwYWlyOyB0aGlzIGdldHNcblx0Ly8gc2hhbGxvdyBjb3BpZWQgb3ZlciBvbnRvIHRoZSBleGlzdGluZyBjYWNoZVxuXHRpZiAoIHR5cGVvZiBuYW1lID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0aWYgKCBwdnQgKSB7XG5cdFx0XHRjYWNoZVsgaWQgXSA9IGpRdWVyeS5leHRlbmQoIGNhY2hlWyBpZCBdLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhY2hlWyBpZCBdLmRhdGEgPSBqUXVlcnkuZXh0ZW5kKCBjYWNoZVsgaWQgXS5kYXRhLCBuYW1lICk7XG5cdFx0fVxuXHR9XG5cblx0dGhpc0NhY2hlID0gY2FjaGVbIGlkIF07XG5cblx0Ly8galF1ZXJ5IGRhdGEoKSBpcyBzdG9yZWQgaW4gYSBzZXBhcmF0ZSBvYmplY3QgaW5zaWRlIHRoZSBvYmplY3QncyBpbnRlcm5hbCBkYXRhXG5cdC8vIGNhY2hlIGluIG9yZGVyIHRvIGF2b2lkIGtleSBjb2xsaXNpb25zIGJldHdlZW4gaW50ZXJuYWwgZGF0YSBhbmQgdXNlci1kZWZpbmVkXG5cdC8vIGRhdGEuXG5cdGlmICggIXB2dCApIHtcblx0XHRpZiAoICF0aGlzQ2FjaGUuZGF0YSApIHtcblx0XHRcdHRoaXNDYWNoZS5kYXRhID0ge307XG5cdFx0fVxuXG5cdFx0dGhpc0NhY2hlID0gdGhpc0NhY2hlLmRhdGE7XG5cdH1cblxuXHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHR0aGlzQ2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSBdID0gZGF0YTtcblx0fVxuXG5cdC8vIENoZWNrIGZvciBib3RoIGNvbnZlcnRlZC10by1jYW1lbCBhbmQgbm9uLWNvbnZlcnRlZCBkYXRhIHByb3BlcnR5IG5hbWVzXG5cdC8vIElmIGEgZGF0YSBwcm9wZXJ0eSB3YXMgc3BlY2lmaWVkXG5cdGlmICggdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHQvLyBGaXJzdCBUcnkgdG8gZmluZCBhcy1pcyBwcm9wZXJ0eSBkYXRhXG5cdFx0cmV0ID0gdGhpc0NhY2hlWyBuYW1lIF07XG5cblx0XHQvLyBUZXN0IGZvciBudWxsfHVuZGVmaW5lZCBwcm9wZXJ0eSBkYXRhXG5cdFx0aWYgKCByZXQgPT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gVHJ5IHRvIGZpbmQgdGhlIGNhbWVsQ2FzZWQgcHJvcGVydHlcblx0XHRcdHJldCA9IHRoaXNDYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApIF07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IHRoaXNDYWNoZTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSwgcHZ0ICkge1xuXHRpZiAoICFhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dmFyIHRoaXNDYWNoZSwgaSxcblx0XHRpc05vZGUgPSBlbGVtLm5vZGVUeXBlLFxuXG5cdFx0Ly8gU2VlIGpRdWVyeS5kYXRhIGZvciBtb3JlIGluZm9ybWF0aW9uXG5cdFx0Y2FjaGUgPSBpc05vZGUgPyBqUXVlcnkuY2FjaGUgOiBlbGVtLFxuXHRcdGlkID0gaXNOb2RlID8gZWxlbVsgalF1ZXJ5LmV4cGFuZG8gXSA6IGpRdWVyeS5leHBhbmRvO1xuXG5cdC8vIElmIHRoZXJlIGlzIGFscmVhZHkgbm8gY2FjaGUgZW50cnkgZm9yIHRoaXMgb2JqZWN0LCB0aGVyZSBpcyBub1xuXHQvLyBwdXJwb3NlIGluIGNvbnRpbnVpbmdcblx0aWYgKCAhY2FjaGVbIGlkIF0gKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKCBuYW1lICkge1xuXG5cdFx0dGhpc0NhY2hlID0gcHZ0ID8gY2FjaGVbIGlkIF0gOiBjYWNoZVsgaWQgXS5kYXRhO1xuXG5cdFx0aWYgKCB0aGlzQ2FjaGUgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBuYW1lcyBmb3IgZGF0YSBrZXlzXG5cdFx0XHRpZiAoICFqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXG5cdFx0XHRcdC8vIHRyeSB0aGUgc3RyaW5nIGFzIGEga2V5IGJlZm9yZSBhbnkgbWFuaXB1bGF0aW9uXG5cdFx0XHRcdGlmICggbmFtZSBpbiB0aGlzQ2FjaGUgKSB7XG5cdFx0XHRcdFx0bmFtZSA9IFsgbmFtZSBdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gc3BsaXQgdGhlIGNhbWVsIGNhc2VkIHZlcnNpb24gYnkgc3BhY2VzIHVubGVzcyBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzXG5cdFx0XHRcdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKTtcblx0XHRcdFx0XHRpZiAoIG5hbWUgaW4gdGhpc0NhY2hlICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IFsgbmFtZSBdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gbmFtZS5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSWYgXCJuYW1lXCIgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXaGVuIGRhdGEgaXMgaW5pdGlhbGx5IGNyZWF0ZWQsIHZpYSAoXCJrZXlcIiwgXCJ2YWxcIikgc2lnbmF0dXJlLFxuXHRcdFx0XHQvLyBrZXlzIHdpbGwgYmUgY29udmVydGVkIHRvIGNhbWVsQ2FzZS5cblx0XHRcdFx0Ly8gU2luY2UgdGhlcmUgaXMgbm8gd2F5IHRvIHRlbGwgX2hvd18gYSBrZXkgd2FzIGFkZGVkLCByZW1vdmVcblx0XHRcdFx0Ly8gYm90aCBwbGFpbiBrZXkgYW5kIGNhbWVsQ2FzZSBrZXkuICMxMjc4NlxuXHRcdFx0XHQvLyBUaGlzIHdpbGwgb25seSBwZW5hbGl6ZSB0aGUgYXJyYXkgYXJndW1lbnQgcGF0aC5cblx0XHRcdFx0bmFtZSA9IG5hbWUuY29uY2F0KCBqUXVlcnkubWFwKCBuYW1lLCBqUXVlcnkuY2FtZWxDYXNlICkgKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IG5hbWUubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzQ2FjaGVbIG5hbWVbIGkgXSBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGVyZSBpcyBubyBkYXRhIGxlZnQgaW4gdGhlIGNhY2hlLCB3ZSB3YW50IHRvIGNvbnRpbnVlXG5cdFx0XHQvLyBhbmQgbGV0IHRoZSBjYWNoZSBvYmplY3QgaXRzZWxmIGdldCBkZXN0cm95ZWRcblx0XHRcdGlmICggcHZ0ID8gIWlzRW1wdHlEYXRhT2JqZWN0KCB0aGlzQ2FjaGUgKSA6ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggdGhpc0NhY2hlICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZWUgalF1ZXJ5LmRhdGEgZm9yIG1vcmUgaW5mb3JtYXRpb25cblx0aWYgKCAhcHZ0ICkge1xuXHRcdGRlbGV0ZSBjYWNoZVsgaWQgXS5kYXRhO1xuXG5cdFx0Ly8gRG9uJ3QgZGVzdHJveSB0aGUgcGFyZW50IGNhY2hlIHVubGVzcyB0aGUgaW50ZXJuYWwgZGF0YSBvYmplY3Rcblx0XHQvLyBoYWQgYmVlbiB0aGUgb25seSB0aGluZyBsZWZ0IGluIGl0XG5cdFx0aWYgKCAhaXNFbXB0eURhdGFPYmplY3QoIGNhY2hlWyBpZCBdICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cblx0Ly8gRGVzdHJveSB0aGUgY2FjaGVcblx0aWYgKCBpc05vZGUgKSB7XG5cdFx0alF1ZXJ5LmNsZWFuRGF0YSggWyBlbGVtIF0sIHRydWUgKTtcblxuXHQvLyBVc2UgZGVsZXRlIHdoZW4gc3VwcG9ydGVkIGZvciBleHBhbmRvcyBvciBgY2FjaGVgIGlzIG5vdCBhIHdpbmRvdyBwZXIgaXNXaW5kb3cgKCMxMDA4MClcblx0LyoganNoaW50IGVxZXFlcTogZmFsc2UgKi9cblx0fSBlbHNlIGlmICggc3VwcG9ydC5kZWxldGVFeHBhbmRvIHx8IGNhY2hlICE9IGNhY2hlLndpbmRvdyApIHtcblx0XHQvKiBqc2hpbnQgZXFlcWVxOiB0cnVlICovXG5cdFx0ZGVsZXRlIGNhY2hlWyBpZCBdO1xuXG5cdC8vIFdoZW4gYWxsIGVsc2UgZmFpbHMsIHVuZGVmaW5lZFxuXHR9IGVsc2Uge1xuXHRcdGNhY2hlWyBpZCBdID0gdW5kZWZpbmVkO1xuXHR9XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0Y2FjaGU6IHt9LFxuXG5cdC8vIFRoZSBmb2xsb3dpbmcgZWxlbWVudHMgKHNwYWNlLXN1ZmZpeGVkIHRvIGF2b2lkIE9iamVjdC5wcm90b3R5cGUgY29sbGlzaW9ucylcblx0Ly8gdGhyb3cgdW5jYXRjaGFibGUgZXhjZXB0aW9ucyBpZiB5b3UgYXR0ZW1wdCB0byBzZXQgZXhwYW5kbyBwcm9wZXJ0aWVzXG5cdG5vRGF0YToge1xuXHRcdFwiYXBwbGV0IFwiOiB0cnVlLFxuXHRcdFwiZW1iZWQgXCI6IHRydWUsXG5cblx0XHQvLyAuLi5idXQgRmxhc2ggb2JqZWN0cyAod2hpY2ggaGF2ZSB0aGlzIGNsYXNzaWQpICpjYW4qIGhhbmRsZSBleHBhbmRvc1xuXHRcdFwib2JqZWN0IFwiOiBcImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMFwiXG5cdH0sXG5cblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0ZWxlbSA9IGVsZW0ubm9kZVR5cGUgPyBqUXVlcnkuY2FjaGVbIGVsZW1bIGpRdWVyeS5leHBhbmRvIF0gXSA6IGVsZW1bIGpRdWVyeS5leHBhbmRvIF07XG5cdFx0cmV0dXJuICEhZWxlbSAmJiAhaXNFbXB0eURhdGFPYmplY3QoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gaW50ZXJuYWxEYXRhKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBpbnRlcm5hbERhdGEoIGVsZW0sIG5hbWUsIGRhdGEsIHRydWUgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGludGVybmFsUmVtb3ZlRGF0YSggZWxlbSwgbmFtZSwgdHJ1ZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIFNwZWNpYWwgZXhwZWN0aW9ucyBvZiAuZGF0YSBiYXNpY2FsbHkgdGh3YXJ0IGpRdWVyeS5hY2Nlc3MsXG5cdFx0Ly8gc28gaW1wbGVtZW50IHRoZSByZWxldmFudCBiZWhhdmlvciBvdXJzZWx2ZXNcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0galF1ZXJ5LmRhdGEoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWpRdWVyeS5fZGF0YSggZWxlbSwgXCJwYXJzZWRBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUxMStcblx0XHRcdFx0XHRcdC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxuXHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuXHRcdFx0XHRcdFx0XHRpZiAoIG5hbWUuaW5kZXhPZiggXCJkYXRhLVwiICkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIGVsZW0sIFwicGFyc2VkQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kYXRhKCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgP1xuXG5cdFx0XHQvLyBTZXRzIG9uZSB2YWx1ZVxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRhdGEoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKSA6XG5cblx0XHRcdC8vIEdldHMgb25lIHZhbHVlXG5cdFx0XHQvLyBUcnkgdG8gZmV0Y2ggYW55IGludGVybmFsbHkgc3RvcmVkIGRhdGEgZmlyc3Rcblx0XHRcdGVsZW0gPyBkYXRhQXR0ciggZWxlbSwga2V5LCBqUXVlcnkuZGF0YSggZWxlbSwga2V5ICkgKSA6IHVuZGVmaW5lZDtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZURhdGEoIHRoaXMsIGtleSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IGpRdWVyeS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIG5vdCBpbnRlbmRlZCBmb3IgcHVibGljIGNvbnN1bXB0aW9uIC0gZ2VuZXJhdGVzIGEgcXVldWVIb29rcyBvYmplY3QsXG5cdC8vIG9yIHJldHVybnMgdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBqUXVlcnkuX2RhdGEoIGVsZW0sIGtleSApIHx8IGpRdWVyeS5fZGF0YSggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCB0eXBlICsgXCJxdWV1ZVwiICk7XG5cdFx0XHRcdGpRdWVyeS5fcmVtb3ZlRGF0YSggZWxlbSwga2V5ICk7XG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHNldHRlciA9IDI7XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0c2V0dGVyLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG5cdFx0XHRcdC8vIGVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWyAwIF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0fSxcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0gKTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0galF1ZXJ5Ll9kYXRhKCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXNvbHZlKCk7XG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApO1xuXHR9XG59ICk7XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIHNocmlua1dyYXBCbG9ja3NWYWw7XG5cblx0c3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBzaHJpbmtXcmFwQmxvY2tzVmFsICE9IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2hyaW5rV3JhcEJsb2Nrc1ZhbDtcblx0XHR9XG5cblx0XHQvLyBXaWxsIGJlIGNoYW5nZWQgbGF0ZXIgaWYgbmVlZGVkLlxuXHRcdHNocmlua1dyYXBCbG9ja3NWYWwgPSBmYWxzZTtcblxuXHRcdC8vIE1pbmlmaWVkOiB2YXIgYixjLGRcblx0XHR2YXIgZGl2LCBib2R5LCBjb250YWluZXI7XG5cblx0XHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXTtcblx0XHRpZiAoICFib2R5IHx8ICFib2R5LnN0eWxlICkge1xuXG5cdFx0XHQvLyBUZXN0IGZpcmVkIHRvbyBlYXJseSBvciBpbiBhbiB1bnN1cHBvcnRlZCBlbnZpcm9ubWVudCwgZXhpdC5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTZXR1cFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4XCI7XG5cdFx0Ym9keS5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU2XG5cdFx0Ly8gQ2hlY2sgaWYgZWxlbWVudHMgd2l0aCBsYXlvdXQgc2hyaW5rLXdyYXAgdGhlaXIgY2hpbGRyZW5cblx0XHRpZiAoIHR5cGVvZiBkaXYuc3R5bGUuem9vbSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblxuXHRcdFx0Ly8gUmVzZXQgQ1NTOiBib3gtc2l6aW5nOyBkaXNwbGF5OyBtYXJnaW47IGJvcmRlclxuXHRcdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjksIEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7XCIgK1xuXHRcdFx0XHRcImJveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtcIiArXG5cdFx0XHRcdFwicGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MVwiO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKS5zdHlsZS53aWR0aCA9IFwiNXB4XCI7XG5cdFx0XHRzaHJpbmtXcmFwQmxvY2tzVmFsID0gZGl2Lm9mZnNldFdpZHRoICE9PSAzO1xuXHRcdH1cblxuXHRcdGJvZHkucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0cmV0dXJuIHNocmlua1dyYXBCbG9ja3NWYWw7XG5cdH07XG5cbn0gKSgpO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbiBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0IWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cdH07XG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsXG5cdFx0c2NhbGUgPSAxLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIHR3ZWVuLmN1cigpOyB9IDpcblx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApOyB9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHRkbyB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxuXHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xuXG5cdFx0XHQvLyBBZGp1c3QgYW5kIGFwcGx5XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcblx0XHQvLyBCcmVhayB0aGUgbG9vcCBpZiBzY2FsZSBpcyB1bmNoYW5nZWQgb3IgcGVyZmVjdCwgb3IgaWYgd2UndmUganVzdCBoYWQgZW5vdWdoLlxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcblx0XHQpO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdHJhdyA/IHZhbHVlIDogdmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRlbGVtcyA6XG5cblx0XHQvLyBHZXRzXG5cdFx0YnVsayA/XG5cdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdGxlbmd0aCA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcbnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcblxudmFyIHJ0YWdOYW1lID0gKCAvPChbXFx3Oi1dKykvICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG52YXIgcmxlYWRpbmdXaGl0ZXNwYWNlID0gKCAvXlxccysvICk7XG5cbnZhciBub2RlTmFtZXMgPSBcImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8XCIgK1xuXHRcdFwiZGV0YWlsc3xkaWFsb2d8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFpbnxcIiArXG5cdFx0XCJtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cGljdHVyZXxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGVtcGxhdGV8dGltZXx2aWRlb1wiO1xuXG5cblxuZnVuY3Rpb24gY3JlYXRlU2FmZUZyYWdtZW50KCBkb2N1bWVudCApIHtcblx0dmFyIGxpc3QgPSBub2RlTmFtZXMuc3BsaXQoIFwifFwiICksXG5cdFx0c2FmZUZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cblx0aWYgKCBzYWZlRnJhZy5jcmVhdGVFbGVtZW50ICkge1xuXHRcdHdoaWxlICggbGlzdC5sZW5ndGggKSB7XG5cdFx0XHRzYWZlRnJhZy5jcmVhdGVFbGVtZW50KFxuXHRcdFx0XHRsaXN0LnBvcCgpXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gc2FmZUZyYWc7XG59XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFNldHVwXG5cdGRpdi5pbm5lckhUTUwgPSBcIiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPlwiO1xuXG5cdC8vIElFIHN0cmlwcyBsZWFkaW5nIHdoaXRlc3BhY2Ugd2hlbiAuaW5uZXJIVE1MIGlzIHVzZWRcblx0c3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSA9IGRpdi5maXJzdENoaWxkLm5vZGVUeXBlID09PSAzO1xuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IHRib2R5IGVsZW1lbnRzIGFyZW4ndCBhdXRvbWF0aWNhbGx5IGluc2VydGVkXG5cdC8vIElFIHdpbGwgaW5zZXJ0IHRoZW0gaW50byBlbXB0eSB0YWJsZXNcblx0c3VwcG9ydC50Ym9keSA9ICFkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwidGJvZHlcIiApLmxlbmd0aDtcblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBsaW5rIGVsZW1lbnRzIGdldCBzZXJpYWxpemVkIGNvcnJlY3RseSBieSBpbm5lckhUTUxcblx0Ly8gVGhpcyByZXF1aXJlcyBhIHdyYXBwZXIgZWxlbWVudCBpbiBJRVxuXHRzdXBwb3J0Lmh0bWxTZXJpYWxpemUgPSAhIWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJsaW5rXCIgKS5sZW5ndGg7XG5cblx0Ly8gTWFrZXMgc3VyZSBjbG9uaW5nIGFuIGh0bWw1IGVsZW1lbnQgZG9lcyBub3QgY2F1c2UgcHJvYmxlbXNcblx0Ly8gV2hlcmUgb3V0ZXJIVE1MIGlzIHVuZGVmaW5lZCwgdGhpcyBzdGlsbCB3b3Jrc1xuXHRzdXBwb3J0Lmh0bWw1Q2xvbmUgPVxuXHRcdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwibmF2XCIgKS5jbG9uZU5vZGUoIHRydWUgKS5vdXRlckhUTUwgIT09IFwiPDpuYXY+PC86bmF2PlwiO1xuXG5cdC8vIENoZWNrIGlmIGEgZGlzY29ubmVjdGVkIGNoZWNrYm94IHdpbGwgcmV0YWluIGl0cyBjaGVja2VkXG5cdC8vIHZhbHVlIG9mIHRydWUgYWZ0ZXIgYXBwZW5kZWQgdG8gdGhlIERPTSAoSUU2LzcpXG5cdGlucHV0LnR5cGUgPSBcImNoZWNrYm94XCI7XG5cdGlucHV0LmNoZWNrZWQgPSB0cnVlO1xuXHRmcmFnbWVudC5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0c3VwcG9ydC5hcHBlbmRDaGVja2VkID0gaW5wdXQuY2hlY2tlZDtcblxuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHQvLyBTdXBwb3J0OiBJRTYtSUUxMStcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcblxuXHQvLyAjMTEyMTcgLSBXZWJLaXQgbG9zZXMgY2hlY2sgd2hlbiB0aGUgbmFtZSBpcyBhZnRlciB0aGUgY2hlY2tlZCBhdHRyaWJ1dGVcblx0ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwicmFkaW9cIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xuXG5cdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblxuXHQvLyBTdXBwb3J0OiBTYWZhcmkgNS4xLCBpT1MgNS4xLCBBbmRyb2lkIDQueCwgQW5kcm9pZCAyLjNcblx0Ly8gb2xkIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHQvLyBDbG9uZWQgZWxlbWVudHMga2VlcCBhdHRhY2hFdmVudCBoYW5kbGVycywgd2UgdXNlIGFkZEV2ZW50TGlzdGVuZXIgb24gSUU5K1xuXHRzdXBwb3J0Lm5vQ2xvbmVFdmVudCA9ICEhZGl2LmFkZEV2ZW50TGlzdGVuZXI7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHQvLyBTaW5jZSBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzIGFyZSB0aGUgc2FtZSBpbiBJRSxcblx0Ly8gY2xlYW5EYXRhIG11c3Qgc2V0IHByb3BlcnRpZXMgdG8gdW5kZWZpbmVkIHJhdGhlciB0aGFuIHVzZSByZW1vdmVBdHRyaWJ1dGVcblx0ZGl2WyBqUXVlcnkuZXhwYW5kbyBdID0gMTtcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gIWRpdi5nZXRBdHRyaWJ1dGUoIGpRdWVyeS5leHBhbmRvICk7XG59ICkoKTtcblxuXG4vLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxudmFyIHdyYXBNYXAgPSB7XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXHRsZWdlbmQ6IFsgMSwgXCI8ZmllbGRzZXQ+XCIsIFwiPC9maWVsZHNldD5cIiBdLFxuXHRhcmVhOiBbIDEsIFwiPG1hcD5cIiwgXCI8L21hcD5cIiBdLFxuXG5cdC8vIFN1cHBvcnQ6IElFOFxuXHRwYXJhbTogWyAxLCBcIjxvYmplY3Q+XCIsIFwiPC9vYmplY3Q+XCIgXSxcblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHQvLyBJRTYtOCBjYW4ndCBzZXJpYWxpemUgbGluaywgc2NyaXB0LCBzdHlsZSwgb3IgYW55IGh0bWw1IChOb1Njb3BlKSB0YWdzLFxuXHQvLyB1bmxlc3Mgd3JhcHBlZCBpbiBhIGRpdiB3aXRoIG5vbi1icmVha2luZyBjaGFyYWN0ZXJzIGluIGZyb250IG9mIGl0LlxuXHRfZGVmYXVsdDogc3VwcG9ydC5odG1sU2VyaWFsaXplID8gWyAwLCBcIlwiLCBcIlwiIF0gOiBbIDEsIFwiWDxkaXY+XCIsIFwiPC9kaXY+XCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUU4LUlFOVxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xuXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cdHZhciBlbGVtcywgZWxlbSxcblx0XHRpID0gMCxcblx0XHRmb3VuZCA9IHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0XHRjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdFx0dW5kZWZpbmVkO1xuXG5cdGlmICggIWZvdW5kICkge1xuXHRcdGZvciAoIGZvdW5kID0gW10sIGVsZW1zID0gY29udGV4dC5jaGlsZE5vZGVzIHx8IGNvbnRleHQ7XG5cdFx0XHQoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT0gbnVsbDtcblx0XHRcdGkrK1xuXHRcdCkge1xuXHRcdFx0aWYgKCAhdGFnIHx8IGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgdGFnICkgKSB7XG5cdFx0XHRcdGZvdW5kLnB1c2goIGVsZW0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggZm91bmQsIGdldEFsbCggZWxlbSwgdGFnICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIGpRdWVyeS5ub2RlTmFtZSggY29udGV4dCwgdGFnICkgP1xuXHRcdGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIGZvdW5kICkgOlxuXHRcdGZvdW5kO1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRpID0gMDtcblx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdGpRdWVyeS5fZGF0YShcblx0XHRcdGVsZW0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBqUXVlcnkuX2RhdGEoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvLFxuXHRydGJvZHkgPSAvPHRib2R5L2k7XG5cbmZ1bmN0aW9uIGZpeERlZmF1bHRDaGVja2VkKCBlbGVtICkge1xuXHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsZW0udHlwZSApICkge1xuXHRcdGVsZW0uZGVmYXVsdENoZWNrZWQgPSBlbGVtLmNoZWNrZWQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGosIGVsZW0sIGNvbnRhaW5zLFxuXHRcdHRtcCwgdGFnLCB0Ym9keSwgd3JhcCxcblx0XHRsID0gZWxlbXMubGVuZ3RoLFxuXG5cdFx0Ly8gRW5zdXJlIGEgc2FmZSBmcmFnbWVudFxuXHRcdHNhZmUgPSBjcmVhdGVTYWZlRnJhZ21lbnQoIGNvbnRleHQgKSxcblxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCBqUXVlcnkudHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IHNhZmUuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNYW51YWxseSBhZGQgbGVhZGluZyB3aGl0ZXNwYWNlIHJlbW92ZWQgYnkgSUVcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSAmJiBybGVhZGluZ1doaXRlc3BhY2UudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIHJsZWFkaW5nV2hpdGVzcGFjZS5leGVjKCBlbGVtIClbIDAgXSApICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZW1vdmUgSUUncyBhdXRvaW5zZXJ0ZWQgPHRib2R5PiBmcm9tIHRhYmxlIGZyYWdtZW50c1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnRib2R5ICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RyaW5nIHdhcyBhIDx0YWJsZT4sICptYXkqIGhhdmUgc3B1cmlvdXMgPHRib2R5PlxuXHRcdFx0XHRcdGVsZW0gPSB0YWcgPT09IFwidGFibGVcIiAmJiAhcnRib2R5LnRlc3QoIGVsZW0gKSA/XG5cdFx0XHRcdFx0XHR0bXAuZmlyc3RDaGlsZCA6XG5cblx0XHRcdFx0XHRcdC8vIFN0cmluZyB3YXMgYSBiYXJlIDx0aGVhZD4gb3IgPHRmb290PlxuXHRcdFx0XHRcdFx0d3JhcFsgMSBdID09PSBcIjx0YWJsZT5cIiAmJiAhcnRib2R5LnRlc3QoIGVsZW0gKSA/XG5cdFx0XHRcdFx0XHRcdHRtcCA6XG5cdFx0XHRcdFx0XHRcdDA7XG5cblx0XHRcdFx0XHRqID0gZWxlbSAmJiBlbGVtLmNoaWxkTm9kZXMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoICggdGJvZHkgPSBlbGVtLmNoaWxkTm9kZXNbIGogXSApLCBcInRib2R5XCIgKSAmJlxuXHRcdFx0XHRcdFx0XHQhdGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHRcdFx0ZWxlbS5yZW1vdmVDaGlsZCggdGJvZHkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIEZpeCAjMTIzOTIgZm9yIFdlYktpdCBhbmQgSUUgPiA5XG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0XHRcdFx0Ly8gRml4ICMxMjM5MiBmb3Igb2xkSUVcblx0XHRcdFx0d2hpbGUgKCB0bXAuZmlyc3RDaGlsZCApIHtcblx0XHRcdFx0XHR0bXAucmVtb3ZlQ2hpbGQoIHRtcC5maXJzdENoaWxkICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lciBmb3IgcHJvcGVyIGNsZWFudXBcblx0XHRcdFx0dG1wID0gc2FmZS5sYXN0Q2hpbGQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gRml4ICMxMTM1NjogQ2xlYXIgZWxlbWVudHMgZnJvbSBmcmFnbWVudFxuXHRpZiAoIHRtcCApIHtcblx0XHRzYWZlLnJlbW92ZUNoaWxkKCB0bXAgKTtcblx0fVxuXG5cdC8vIFJlc2V0IGRlZmF1bHRDaGVja2VkIGZvciBhbnkgcmFkaW9zIGFuZCBjaGVja2JveGVzXG5cdC8vIGFib3V0IHRvIGJlIGFwcGVuZGVkIHRvIHRoZSBET00gaW4gSUUgNi83ICgjODA2MClcblx0aWYgKCAhc3VwcG9ydC5hcHBlbmRDaGVja2VkICkge1xuXHRcdGpRdWVyeS5ncmVwKCBnZXRBbGwoIG5vZGVzLCBcImlucHV0XCIgKSwgZml4RGVmYXVsdENoZWNrZWQgKTtcblx0fVxuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggc2FmZS5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0bXAgPSBudWxsO1xuXG5cdHJldHVybiBzYWZlO1xufVxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBpLCBldmVudE5hbWUsXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDkgKGxhY2sgc3VibWl0L2NoYW5nZSBidWJibGUpLCBGaXJlZm94IChsYWNrIGZvY3VzKGluIHwgb3V0KSBldmVudHMpXG5cdGZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIGNoYW5nZTogdHJ1ZSwgZm9jdXNpbjogdHJ1ZSB9ICkge1xuXHRcdGV2ZW50TmFtZSA9IFwib25cIiArIGk7XG5cblx0XHRpZiAoICEoIHN1cHBvcnRbIGkgXSA9IGV2ZW50TmFtZSBpbiB3aW5kb3cgKSApIHtcblxuXHRcdFx0Ly8gQmV3YXJlIG9mIENTUCByZXN0cmljdGlvbnMgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUClcblx0XHRcdGRpdi5zZXRBdHRyaWJ1dGUoIGV2ZW50TmFtZSwgXCJ0XCIgKTtcblx0XHRcdHN1cHBvcnRbIGkgXSA9IGRpdi5hdHRyaWJ1dGVzWyBldmVudE5hbWUgXS5leHBhbmRvID09PSBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHQvLyBOdWxsIGVsZW1lbnRzIHRvIGF2b2lkIGxlYWtzIGluIElFLlxuXHRkaXYgPSBudWxsO1xufSApKCk7XG5cblxudmFyIHJmb3JtRWxlbXMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksXG5cdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXG5cdHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cdFx0dmFyIHRtcCwgZXZlbnRzLCB0LCBoYW5kbGVPYmpJbixcblx0XHRcdHNwZWNpYWwsIGV2ZW50SGFuZGxlLCBoYW5kbGVPYmosXG5cdFx0XHRoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGpRdWVyeS5fZGF0YSggZWxlbSApO1xuXG5cdFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcblx0XHRpZiAoICFlbGVtRGF0YSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcblx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuXHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcblx0XHRpZiAoICFoYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRoYW5kbGVyLmd1aWQgPSBqUXVlcnkuZ3VpZCsrO1xuXHRcdH1cblxuXHRcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3Rcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdCggIWUgfHwgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlICkgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZXZlbnRIYW5kbGUuZWxlbSwgYXJndW1lbnRzICkgOlxuXHRcdFx0XHRcdHVuZGVmaW5lZDtcblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBlbGVtIGFzIGEgcHJvcGVydHkgb2YgdGhlIGhhbmRsZSBmbiB0byBwcmV2ZW50IGEgbWVtb3J5IGxlYWtcblx0XHRcdC8vIHdpdGggSUUgbm9uLW5hdGl2ZSBldmVudHNcblx0XHRcdGV2ZW50SGFuZGxlLmVsZW0gPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lci9hdHRhY2hFdmVudCBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZ2xvYmFsIGV2ZW50IGhhbmRsZXIgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUsIGZhbHNlICk7XG5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBlbGVtLmF0dGFjaEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hdHRhY2hFdmVudCggXCJvblwiICsgdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBOdWxsaWZ5IGVsZW0gdG8gcHJldmVudCBtZW1vcnkgbGVha3MgaW4gSUVcblx0XHRlbGVtID0gbnVsbDtcblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblx0XHR2YXIgaiwgaGFuZGxlT2JqLCB0bXAsXG5cdFx0XHRvcmlnQ291bnQsIHQsIGV2ZW50cyxcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLFxuXHRcdFx0bmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGpRdWVyeS5oYXNEYXRhKCBlbGVtICkgJiYgalF1ZXJ5Ll9kYXRhKCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGVsZXRlIGVsZW1EYXRhLmhhbmRsZTtcblxuXHRcdFx0Ly8gcmVtb3ZlRGF0YSBhbHNvIGNoZWNrcyBmb3IgZW1wdGluZXNzIGFuZCBjbGVhcnMgdGhlIGV4cGFuZG8gaWYgZW1wdHlcblx0XHRcdC8vIHNvIHVzZSBpdCBpbnN0ZWFkIG9mIGRlbGV0ZVxuXHRcdFx0alF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCBcImV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXHRcdHZhciBoYW5kbGUsIG9udHlwZSwgY3VyLFxuXHRcdFx0YnViYmxlVHlwZSwgc3BlY2lhbCwgdG1wLCBpLFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBqUXVlcnkuX2RhdGEoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRqUXVlcnkuX2RhdGEoIGN1ciwgXCJoYW5kbGVcIiApO1xuXG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0IHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZVxuXHRcdFx0XHQpICYmIGFjY2VwdERhdGEoIGVsZW0gKVxuXHRcdFx0KSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBDYW4ndCB1c2UgYW4gLmlzRnVuY3Rpb24oKSBjaGVjayBoZXJlIGJlY2F1c2UgSUU2LzcgZmFpbHMgdGhhdCB0ZXN0LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGVsZW1bIHR5cGUgXSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRlbGVtWyB0eXBlIF0oKTtcblx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSUU8OSBkaWVzIG9uIGZvY3VzL2JsdXIgdG8gaGlkZGVuIGVsZW1lbnQgKCMxNDg2LCMxMjUxOClcblx0XHRcdFx0XHRcdC8vIG9ubHkgcmVwcm9kdWNpYmxlIG9uIHdpblhQIElFOCBuYXRpdmUsIG5vdCBJRTkgaW4gSUU4IG1vZGVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApO1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cdFx0XHRoYW5kbGVycyA9ICggalF1ZXJ5Ll9kYXRhKCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbIDAgXSA9IGV2ZW50O1xuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBTdXBwb3J0IChhdCBsZWFzdCk6IENocm9tZSwgSUU5XG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0Ly9cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PD00Mitcblx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBpbiBGRiBidXQgZG9uJ3QgYmxvY2sgSUUgcmFkaW8gZXZlbnRzICgjMzg2MSwgZ2gtMjM0Mylcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXBlICYmXG5cdFx0XHQoIGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiB8fCBpc05hTiggZXZlbnQuYnV0dG9uICkgfHwgZXZlbnQuYnV0dG9uIDwgMSApICkge1xuXG5cdFx0XHQvKiBqc2hpbnQgZXFlcWVxOiBmYWxzZSAqL1xuXHRcdFx0Zm9yICggOyBjdXIgIT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblx0XHRcdFx0LyoganNoaW50IGVxZXFlcTogdHJ1ZSAqL1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgKCBjdXIuZGlzYWJsZWQgIT09IHRydWUgfHwgZXZlbnQudHlwZSAhPT0gXCJjbGlja1wiICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSApIHtcblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYSB3cml0YWJsZSBjb3B5IG9mIHRoZSBldmVudCBvYmplY3QgYW5kIG5vcm1hbGl6ZSBzb21lIHByb3BlcnRpZXNcblx0XHR2YXIgaSwgcHJvcCwgY29weSxcblx0XHRcdHR5cGUgPSBldmVudC50eXBlLFxuXHRcdFx0b3JpZ2luYWxFdmVudCA9IGV2ZW50LFxuXHRcdFx0Zml4SG9vayA9IHRoaXMuZml4SG9va3NbIHR5cGUgXTtcblxuXHRcdGlmICggIWZpeEhvb2sgKSB7XG5cdFx0XHR0aGlzLmZpeEhvb2tzWyB0eXBlIF0gPSBmaXhIb29rID1cblx0XHRcdFx0cm1vdXNlRXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5tb3VzZUhvb2tzIDpcblx0XHRcdFx0cmtleUV2ZW50LnRlc3QoIHR5cGUgKSA/IHRoaXMua2V5SG9va3MgOlxuXHRcdFx0XHR7fTtcblx0XHR9XG5cdFx0Y29weSA9IGZpeEhvb2sucHJvcHMgPyB0aGlzLnByb3BzLmNvbmNhdCggZml4SG9vay5wcm9wcyApIDogdGhpcy5wcm9wcztcblxuXHRcdGV2ZW50ID0gbmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXG5cdFx0aSA9IGNvcHkubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0cHJvcCA9IGNvcHlbIGkgXTtcblx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnaW5hbEV2ZW50WyBwcm9wIF07XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIEZpeCB0YXJnZXQgcHJvcGVydHkgKCMxOTI1KVxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IG9yaWdpbmFsRXZlbnQuc3JjRWxlbWVudCB8fCBkb2N1bWVudDtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgNi04K1xuXHRcdC8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpXG5cdFx0aWYgKCBldmVudC50YXJnZXQubm9kZVR5cGUgPT09IDMgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gRm9yIG1vdXNlL2tleSBldmVudHMsIG1ldGFLZXk9PWZhbHNlIGlmIGl0J3MgdW5kZWZpbmVkICgjMzM2OCwgIzExMzI4KVxuXHRcdGV2ZW50Lm1ldGFLZXkgPSAhIWV2ZW50Lm1ldGFLZXk7XG5cblx0XHRyZXR1cm4gZml4SG9vay5maWx0ZXIgPyBmaXhIb29rLmZpbHRlciggZXZlbnQsIG9yaWdpbmFsRXZlbnQgKSA6IGV2ZW50O1xuXHR9LFxuXG5cdC8vIEluY2x1ZGVzIHNvbWUgZXZlbnQgcHJvcHMgc2hhcmVkIGJ5IEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50XG5cdHByb3BzOiAoIFwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGV0YWlsIGV2ZW50UGhhc2UgXCIgK1xuXHRcdFwibWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiICkuc3BsaXQoIFwiIFwiICksXG5cblx0Zml4SG9va3M6IHt9LFxuXG5cdGtleUhvb2tzOiB7XG5cdFx0cHJvcHM6IFwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KCBcIiBcIiApLFxuXHRcdGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRtb3VzZUhvb2tzOiB7XG5cdFx0cHJvcHM6ICggXCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIFwiICtcblx0XHRcdFwicGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xuXHRcdFx0dmFyIGJvZHksIGV2ZW50RG9jLCBkb2MsXG5cdFx0XHRcdGJ1dHRvbiA9IG9yaWdpbmFsLmJ1dHRvbixcblx0XHRcdFx0ZnJvbUVsZW1lbnQgPSBvcmlnaW5hbC5mcm9tRWxlbWVudDtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBhZ2VYL1kgaWYgbWlzc2luZyBhbmQgY2xpZW50WC9ZIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBldmVudC5wYWdlWCA9PSBudWxsICYmIG9yaWdpbmFsLmNsaWVudFggIT0gbnVsbCApIHtcblx0XHRcdFx0ZXZlbnREb2MgPSBldmVudC50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcblx0XHRcdFx0ZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0XHRib2R5ID0gZXZlbnREb2MuYm9keTtcblxuXHRcdFx0XHRldmVudC5wYWdlWCA9IG9yaWdpbmFsLmNsaWVudFggK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xuXHRcdFx0XHRldmVudC5wYWdlWSA9IG9yaWdpbmFsLmNsaWVudFkgK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxUb3AgIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgIHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudFRvcCAgfHwgYm9keSAmJiBib2R5LmNsaWVudFRvcCAgfHwgMCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgcmVsYXRlZFRhcmdldCwgaWYgbmVjZXNzYXJ5XG5cdFx0XHRpZiAoICFldmVudC5yZWxhdGVkVGFyZ2V0ICYmIGZyb21FbGVtZW50ICkge1xuXHRcdFx0XHRldmVudC5yZWxhdGVkVGFyZ2V0ID0gZnJvbUVsZW1lbnQgPT09IGV2ZW50LnRhcmdldCA/XG5cdFx0XHRcdFx0b3JpZ2luYWwudG9FbGVtZW50IDpcblx0XHRcdFx0XHRmcm9tRWxlbWVudDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdFx0Ly8gTm90ZTogYnV0dG9uIGlzIG5vdCBub3JtYWxpemVkLCBzbyBkb24ndCB1c2UgaXRcblx0XHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRldmVudC53aGljaCA9ICggYnV0dG9uICYgMSA/IDEgOiAoIGJ1dHRvbiAmIDIgPyAzIDogKCBidXR0b24gJiA0ID8gMiA6IDAgKSApICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGZvY3VzOiB7XG5cblx0XHRcdC8vIEZpcmUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyAhPT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmZvY3VzICkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRcdFx0XHRcdC8vIElmIHdlIGVycm9yIG9uIGZvY3VzIHRvIGhpZGRlbiBlbGVtZW50ICgjMTQ4NiwgIzEyNTE4KSxcblx0XHRcdFx0XHRcdC8vIGxldCAudHJpZ2dlcigpIHJ1biB0aGUgaGFuZGxlcnNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNpblwiXG5cdFx0fSxcblx0XHRibHVyOiB7XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuYmx1ciApIHtcblx0XHRcdFx0XHR0aGlzLmJsdXIoKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNvdXRcIlxuXHRcdH0sXG5cdFx0Y2xpY2s6IHtcblxuXHRcdFx0Ly8gRm9yIGNoZWNrYm94LCBmaXJlIG5hdGl2ZSBldmVudCBzbyBjaGVja2VkIHN0YXRlIHdpbGwgYmUgcmlnaHRcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5ub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgJiYgdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayApIHtcblx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXG5cdFx0XHRcdC8vIFByZXZpb3VzbHksIGBvcmlnaW5hbEV2ZW50OiB7fWAgd2FzIHNldCBoZXJlLCBzbyBzdG9wUHJvcGFnYXRpb24gY2FsbFxuXHRcdFx0XHQvLyB3b3VsZCBub3QgYmUgdHJpZ2dlcmVkIG9uIGRvbm9yIGV2ZW50LCBzaW5jZSBpbiBvdXIgb3duXG5cdFx0XHRcdC8vIGpRdWVyeS5ldmVudC5zdG9wUHJvcGFnYXRpb24gZnVuY3Rpb24gd2UgaGFkIGEgY2hlY2sgZm9yIGV4aXN0ZW5jZSBvZlxuXHRcdFx0XHQvLyBvcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbiBtZXRob2QsIHNvLCBjb25zZXF1ZW50bHkgaXQgd291bGQgYmUgYSBub29wLlxuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBHdWFyZCBmb3Igc2ltdWxhdGVkIGV2ZW50cyB3YXMgbW92ZWQgdG8galF1ZXJ5LmV2ZW50LnN0b3BQcm9wYWdhdGlvbiBmdW5jdGlvblxuXHRcdFx0XHQvLyBzaW5jZSBgb3JpZ2luYWxFdmVudGAgc2hvdWxkIHBvaW50IHRvIHRoZSBvcmlnaW5hbCBldmVudCBmb3IgdGhlXG5cdFx0XHRcdC8vIGNvbnN0YW5jeSB3aXRoIG90aGVyIGV2ZW50cyBhbmQgZm9yIG1vcmUgZm9jdXNlZCBsb2dpY1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXG5cdFx0aWYgKCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgP1xuXHRmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdFx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdFx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHRcdH1cblx0fSA6XG5cdGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cdFx0dmFyIG5hbWUgPSBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0aWYgKCBlbGVtLmRldGFjaEV2ZW50ICkge1xuXG5cdFx0XHQvLyAjODU0NSwgIzcwNTQsIHByZXZlbnRpbmcgbWVtb3J5IGxlYWtzIGZvciBjdXN0b20gZXZlbnRzIGluIElFNi04XG5cdFx0XHQvLyBkZXRhY2hFdmVudCBuZWVkZWQgcHJvcGVydHkgb24gZWxlbWVudCwgYnkgbmFtZSBvZiB0aGF0IGV2ZW50LFxuXHRcdFx0Ly8gdG8gcHJvcGVybHkgZXhwb3NlIGl0IHRvIEdDXG5cdFx0XHRpZiAoIHR5cGVvZiBlbGVtWyBuYW1lIF0gPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdGVsZW1bIG5hbWUgXSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uZGV0YWNoRXZlbnQoIG5hbWUsIGhhbmRsZSApO1xuXHRcdH1cblx0fTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdGlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkV2ZW50KCBzcmMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBFdmVudCBvYmplY3Rcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XG5cdFx0dGhpcy5vcmlnaW5hbEV2ZW50ID0gc3JjO1xuXHRcdHRoaXMudHlwZSA9IHNyYy50eXBlO1xuXG5cdFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcblx0XHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XG5cdFx0XHRcdHNyYy5kZWZhdWx0UHJldmVudGVkID09PSB1bmRlZmluZWQgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8IDksIEFuZHJvaWQgPCA0LjBcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcblx0XHRpZiAoICFlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHByZXZlbnREZWZhdWx0IGV4aXN0cywgcnVuIGl0IG9uIHRoZSBvcmlnaW5hbCBldmVudFxuXHRcdGlmICggZS5wcmV2ZW50RGVmYXVsdCApIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0Ly8gT3RoZXJ3aXNlIHNldCB0aGUgcmV0dXJuVmFsdWUgcHJvcGVydHkgb2YgdGhlIG9yaWdpbmFsIGV2ZW50IHRvIGZhbHNlXG5cdFx0fSBlbHNlIHtcblx0XHRcdGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblx0XHR9XG5cdH0sXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggIWUgfHwgdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiBzdG9wUHJvcGFnYXRpb24gZXhpc3RzLCBydW4gaXQgb24gdGhlIG9yaWdpbmFsIGV2ZW50XG5cdFx0aWYgKCBlLnN0b3BQcm9wYWdhdGlvbiApIHtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBTZXQgdGhlIGNhbmNlbEJ1YmJsZSBwcm9wZXJ0eSBvZiB0aGUgb3JpZ2luYWwgZXZlbnQgdG8gdHJ1ZVxuXHRcdGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG4vLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuLy9cbi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcbi8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG4vLyBJRSBzdWJtaXQgZGVsZWdhdGlvblxuaWYgKCAhc3VwcG9ydC5zdWJtaXQgKSB7XG5cblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWwuc3VibWl0ID0ge1xuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gT25seSBuZWVkIHRoaXMgZm9yIGRlbGVnYXRlZCBmb3JtIHN1Ym1pdCBldmVudHNcblx0XHRcdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImZvcm1cIiApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExhenktYWRkIGEgc3VibWl0IGhhbmRsZXIgd2hlbiBhIGRlc2NlbmRhbnQgZm9ybSBtYXkgcG90ZW50aWFsbHkgYmUgc3VibWl0dGVkXG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdFwiLCBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBOb2RlIG5hbWUgY2hlY2sgYXZvaWRzIGEgVk1MLXJlbGF0ZWQgY3Jhc2ggaW4gSUUgKCM5ODA3KVxuXHRcdFx0XHR2YXIgZWxlbSA9IGUudGFyZ2V0LFxuXHRcdFx0XHRcdGZvcm0gPSBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApIHx8IGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJidXR0b25cIiApID9cblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdFx0XHQvLyBXZSB1c2UgalF1ZXJ5LnByb3AgaW5zdGVhZCBvZiBlbGVtLmZvcm1cblx0XHRcdFx0XHRcdC8vIHRvIGFsbG93IGZpeGluZyB0aGUgSUU4IGRlbGVnYXRlZCBzdWJtaXQgaXNzdWUgKGdoLTIzMzIpXG5cdFx0XHRcdFx0XHQvLyBieSAzcmQgcGFydHkgcG9seWZpbGxzL3dvcmthcm91bmRzLlxuXHRcdFx0XHRcdFx0alF1ZXJ5LnByb3AoIGVsZW0sIFwiZm9ybVwiICkgOlxuXHRcdFx0XHRcdFx0dW5kZWZpbmVkO1xuXG5cdFx0XHRcdGlmICggZm9ybSAmJiAhalF1ZXJ5Ll9kYXRhKCBmb3JtLCBcInN1Ym1pdFwiICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZm9ybSwgXCJzdWJtaXQuX3N1Ym1pdFwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5fc3VibWl0QnViYmxlID0gdHJ1ZTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0alF1ZXJ5Ll9kYXRhKCBmb3JtLCBcInN1Ym1pdFwiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gcmV0dXJuIHVuZGVmaW5lZCBzaW5jZSB3ZSBkb24ndCBuZWVkIGFuIGV2ZW50IGxpc3RlbmVyXG5cdFx0fSxcblxuXHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBJZiBmb3JtIHdhcyBzdWJtaXR0ZWQgYnkgdGhlIHVzZXIsIGJ1YmJsZSB0aGUgZXZlbnQgdXAgdGhlIHRyZWVcblx0XHRcdGlmICggZXZlbnQuX3N1Ym1pdEJ1YmJsZSApIHtcblx0XHRcdFx0ZGVsZXRlIGV2ZW50Ll9zdWJtaXRCdWJibGU7XG5cdFx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICYmICFldmVudC5pc1RyaWdnZXIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBcInN1Ym1pdFwiLCB0aGlzLnBhcmVudE5vZGUsIGV2ZW50ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBPbmx5IG5lZWQgdGhpcyBmb3IgZGVsZWdhdGVkIGZvcm0gc3VibWl0IGV2ZW50c1xuXHRcdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiZm9ybVwiICkgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGRlbGVnYXRlZCBoYW5kbGVyczsgY2xlYW5EYXRhIGV2ZW50dWFsbHkgcmVhcHMgc3VibWl0IGhhbmRsZXJzIGF0dGFjaGVkIGFib3ZlXG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCBcIi5fc3VibWl0XCIgKTtcblx0XHR9XG5cdH07XG59XG5cbi8vIElFIGNoYW5nZSBkZWxlZ2F0aW9uIGFuZCBjaGVja2JveC9yYWRpbyBmaXhcbmlmICggIXN1cHBvcnQuY2hhbmdlICkge1xuXG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsLmNoYW5nZSA9IHtcblxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKCByZm9ybUVsZW1zLnRlc3QoIHRoaXMubm9kZU5hbWUgKSApIHtcblxuXHRcdFx0XHQvLyBJRSBkb2Vzbid0IGZpcmUgY2hhbmdlIG9uIGEgY2hlY2svcmFkaW8gdW50aWwgYmx1cjsgdHJpZ2dlciBpdCBvbiBjbGlja1xuXHRcdFx0XHQvLyBhZnRlciBhIHByb3BlcnR5Y2hhbmdlLiBFYXQgdGhlIGJsdXItY2hhbmdlIGluIHNwZWNpYWwuY2hhbmdlLmhhbmRsZS5cblx0XHRcdFx0Ly8gVGhpcyBzdGlsbCBmaXJlcyBvbmNoYW5nZSBhIHNlY29uZCB0aW1lIGZvciBjaGVjay9yYWRpbyBhZnRlciBibHVyLlxuXHRcdFx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiIHx8IHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIFwicHJvcGVydHljaGFuZ2UuX2NoYW5nZVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lID09PSBcImNoZWNrZWRcIiApIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5fanVzdENoYW5nZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcImNsaWNrLl9jaGFuZ2VcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLl9qdXN0Q2hhbmdlZCAmJiAhZXZlbnQuaXNUcmlnZ2VyICkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9qdXN0Q2hhbmdlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBBbGxvdyB0cmlnZ2VyZWQsIHNpbXVsYXRlZCBjaGFuZ2UgZXZlbnRzICgjMTE1MDApXG5cdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIFwiY2hhbmdlXCIsIHRoaXMsIGV2ZW50ICk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVsZWdhdGVkIGV2ZW50OyBsYXp5LWFkZCBhIGNoYW5nZSBoYW5kbGVyIG9uIGRlc2NlbmRhbnQgaW5wdXRzXG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCBcImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2VcIiwgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gZS50YXJnZXQ7XG5cblx0XHRcdFx0aWYgKCByZm9ybUVsZW1zLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJiAhalF1ZXJ5Ll9kYXRhKCBlbGVtLCBcImNoYW5nZVwiICkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZWxlbSwgXCJjaGFuZ2UuX2NoYW5nZVwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSAmJiAhZXZlbnQuaXNTaW11bGF0ZWQgJiYgIWV2ZW50LmlzVHJpZ2dlciApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBcImNoYW5nZVwiLCB0aGlzLnBhcmVudE5vZGUsIGV2ZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGpRdWVyeS5fZGF0YSggZWxlbSwgXCJjaGFuZ2VcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIGVsZW0gPSBldmVudC50YXJnZXQ7XG5cblx0XHRcdC8vIFN3YWxsb3cgbmF0aXZlIGNoYW5nZSBldmVudHMgZnJvbSBjaGVja2JveC9yYWRpbywgd2UgYWxyZWFkeSB0cmlnZ2VyZWQgdGhlbSBhYm92ZVxuXHRcdFx0aWYgKCB0aGlzICE9PSBlbGVtIHx8IGV2ZW50LmlzU2ltdWxhdGVkIHx8IGV2ZW50LmlzVHJpZ2dlciB8fFxuXHRcdFx0XHQoIGVsZW0udHlwZSAhPT0gXCJyYWRpb1wiICYmIGVsZW0udHlwZSAhPT0gXCJjaGVja2JveFwiICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIGV2ZW50LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgXCIuX2NoYW5nZVwiICk7XG5cblx0XHRcdHJldHVybiAhcmZvcm1FbGVtcy50ZXN0KCB0aGlzLm5vZGVOYW1lICk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBTdXBwb3J0OiBGaXJlZm94XG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuLy9cbi8vIFN1cHBvcnQ6IENocm9tZSwgU2FmYXJpXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5pZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdGpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdH07XG5cblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGpRdWVyeS5fZGF0YSggZG9jLCBmaXggKTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGpRdWVyeS5fZGF0YSggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0galF1ZXJ5Ll9kYXRhKCBkb2MsIGZpeCApIC0gMTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHRcdGpRdWVyeS5fcmVtb3ZlRGF0YSggZG9jLCBmaXggKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbnZhciByaW5saW5lalF1ZXJ5ID0gLyBqUXVlcnlcXGQrPVwiKD86bnVsbHxcXGQrKVwiL2csXG5cdHJub3NoaW1jYWNoZSA9IG5ldyBSZWdFeHAoIFwiPCg/OlwiICsgbm9kZU5hbWVzICsgXCIpW1xcXFxzLz5dXCIsIFwiaVwiICksXG5cdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2ksXG5cblx0Ly8gU3VwcG9ydDogSUUgMTAtMTEsIEVkZ2UgMTAyNDArXG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG5cdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJzY3JpcHRUeXBlTWFza2VkID0gL150cnVlXFwvKC4qKS8sXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZyxcblx0c2FmZUZyYWdtZW50ID0gY3JlYXRlU2FmZUZyYWdtZW50KCBkb2N1bWVudCApLFxuXHRmcmFnbWVudERpdiA9IHNhZmVGcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIE1hbmlwdWxhdGluZyB0YWJsZXMgcmVxdWlyZXMgYSB0Ym9keVxuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSA/XG5cblx0XHRlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8XG5cdFx0XHRlbGVtLmFwcGVuZENoaWxkKCBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0Ym9keVwiICkgKSA6XG5cdFx0ZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHR2YXIgbWF0Y2ggPSByc2NyaXB0VHlwZU1hc2tlZC5leGVjKCBlbGVtLnR5cGUgKTtcblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cdHJldHVybiBlbGVtO1xufVxuXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgfHwgIWpRdWVyeS5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgdHlwZSwgaSwgbCxcblx0XHRvbGREYXRhID0galF1ZXJ5Ll9kYXRhKCBzcmMgKSxcblx0XHRjdXJEYXRhID0galF1ZXJ5Ll9kYXRhKCBkZXN0LCBvbGREYXRhICksXG5cdFx0ZXZlbnRzID0gb2xkRGF0YS5ldmVudHM7XG5cblx0aWYgKCBldmVudHMgKSB7XG5cdFx0ZGVsZXRlIGN1ckRhdGEuaGFuZGxlO1xuXHRcdGN1ckRhdGEuZXZlbnRzID0ge307XG5cblx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gbWFrZSB0aGUgY2xvbmVkIHB1YmxpYyBkYXRhIG9iamVjdCBhIGNvcHkgZnJvbSB0aGUgb3JpZ2luYWxcblx0aWYgKCBjdXJEYXRhLmRhdGEgKSB7XG5cdFx0Y3VyRGF0YS5kYXRhID0galF1ZXJ5LmV4dGVuZCgge30sIGN1ckRhdGEuZGF0YSApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGZpeENsb25lTm9kZUlzc3Vlcyggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUsIGUsIGRhdGE7XG5cblx0Ly8gV2UgZG8gbm90IG5lZWQgdG8gZG8gYW55dGhpbmcgZm9yIG5vbi1FbGVtZW50c1xuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0bm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gSUU2LTggY29waWVzIGV2ZW50cyBib3VuZCB2aWEgYXR0YWNoRXZlbnQgd2hlbiB1c2luZyBjbG9uZU5vZGUuXG5cdGlmICggIXN1cHBvcnQubm9DbG9uZUV2ZW50ICYmIGRlc3RbIGpRdWVyeS5leHBhbmRvIF0gKSB7XG5cdFx0ZGF0YSA9IGpRdWVyeS5fZGF0YSggZGVzdCApO1xuXG5cdFx0Zm9yICggZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZGVzdCwgZSwgZGF0YS5oYW5kbGUgKTtcblx0XHR9XG5cblx0XHQvLyBFdmVudCBkYXRhIGdldHMgcmVmZXJlbmNlZCBpbnN0ZWFkIG9mIGNvcGllZCBpZiB0aGUgZXhwYW5kbyBnZXRzIGNvcGllZCB0b29cblx0XHRkZXN0LnJlbW92ZUF0dHJpYnV0ZSggalF1ZXJ5LmV4cGFuZG8gKTtcblx0fVxuXG5cdC8vIElFIGJsYW5rcyBjb250ZW50cyB3aGVuIGNsb25pbmcgc2NyaXB0cywgYW5kIHRyaWVzIHRvIGV2YWx1YXRlIG5ld2x5LXNldCB0ZXh0XG5cdGlmICggbm9kZU5hbWUgPT09IFwic2NyaXB0XCIgJiYgZGVzdC50ZXh0ICE9PSBzcmMudGV4dCApIHtcblx0XHRkaXNhYmxlU2NyaXB0KCBkZXN0ICkudGV4dCA9IHNyYy50ZXh0O1xuXHRcdHJlc3RvcmVTY3JpcHQoIGRlc3QgKTtcblxuXHQvLyBJRTYtMTAgaW1wcm9wZXJseSBjbG9uZXMgY2hpbGRyZW4gb2Ygb2JqZWN0IGVsZW1lbnRzIHVzaW5nIGNsYXNzaWQuXG5cdC8vIElFMTAgdGhyb3dzIE5vTW9kaWZpY2F0aW9uQWxsb3dlZEVycm9yIGlmIHBhcmVudCBpcyBudWxsLCAjMTIxMzIuXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcIm9iamVjdFwiICkge1xuXHRcdGlmICggZGVzdC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZGVzdC5vdXRlckhUTUwgPSBzcmMub3V0ZXJIVE1MO1xuXHRcdH1cblxuXHRcdC8vIFRoaXMgcGF0aCBhcHBlYXJzIHVuYXZvaWRhYmxlIGZvciBJRTkuIFdoZW4gY2xvbmluZyBhbiBvYmplY3Rcblx0XHQvLyBlbGVtZW50IGluIElFOSwgdGhlIG91dGVySFRNTCBzdHJhdGVneSBhYm92ZSBpcyBub3Qgc3VmZmljaWVudC5cblx0XHQvLyBJZiB0aGUgc3JjIGhhcyBpbm5lckhUTUwgYW5kIHRoZSBkZXN0aW5hdGlvbiBkb2VzIG5vdCxcblx0XHQvLyBjb3B5IHRoZSBzcmMuaW5uZXJIVE1MIGludG8gdGhlIGRlc3QuaW5uZXJIVE1MLiAjMTAzMjRcblx0XHRpZiAoIHN1cHBvcnQuaHRtbDVDbG9uZSAmJiAoIHNyYy5pbm5lckhUTUwgJiYgIWpRdWVyeS50cmltKCBkZXN0LmlubmVySFRNTCApICkgKSB7XG5cdFx0XHRkZXN0LmlubmVySFRNTCA9IHNyYy5pbm5lckhUTUw7XG5cdFx0fVxuXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcblxuXHRcdC8vIElFNi04IGZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3hcblx0XHQvLyBvciByYWRpbyBidXR0b24uIFdvcnNlLCBJRTYtNyBmYWlsIHRvIGdpdmUgdGhlIGNsb25lZCBlbGVtZW50XG5cdFx0Ly8gYSBjaGVja2VkIGFwcGVhcmFuY2UgaWYgdGhlIGRlZmF1bHRDaGVja2VkIHZhbHVlIGlzbid0IGFsc28gc2V0XG5cblx0XHRkZXN0LmRlZmF1bHRDaGVja2VkID0gZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0XHQvLyBJRTYtNyBnZXQgY29uZnVzZWQgYW5kIGVuZCB1cCBzZXR0aW5nIHRoZSB2YWx1ZSBvZiBhIGNsb25lZFxuXHRcdC8vIGNoZWNrYm94L3JhZGlvIGJ1dHRvbiB0byBhbiBlbXB0eSBzdHJpbmcgaW5zdGVhZCBvZiBcIm9uXCJcblx0XHRpZiAoIGRlc3QudmFsdWUgIT09IHNyYy52YWx1ZSApIHtcblx0XHRcdGRlc3QudmFsdWUgPSBzcmMudmFsdWU7XG5cdFx0fVxuXG5cdC8vIElFNi04IGZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkXG5cdC8vIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcIm9wdGlvblwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFNlbGVjdGVkID0gZGVzdC5zZWxlY3RlZCA9IHNyYy5kZWZhdWx0U2VsZWN0ZWQ7XG5cblx0Ly8gSUU2LTggZmFpbHMgdG8gc2V0IHRoZSBkZWZhdWx0VmFsdWUgdG8gdGhlIGNvcnJlY3QgdmFsdWUgd2hlblxuXHQvLyBjbG9uaW5nIG90aGVyIHR5cGVzIG9mIGlucHV0IGZpZWxkc1xuXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0ZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHtcblxuXHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdGFyZ3MgPSBjb25jYXQuYXBwbHkoIFtdLCBhcmdzICk7XG5cblx0dmFyIGZpcnN0LCBub2RlLCBoYXNTY3JpcHRzLFxuXHRcdHNjcmlwdHMsIGRvYywgZnJhZ21lbnQsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIFBoYW50b21KUzwyXG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhalF1ZXJ5Ll9kYXRhKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoXG5cdFx0XHRcdFx0XHRcdFx0KCBub2RlLnRleHQgfHwgbm9kZS50ZXh0Q29udGVudCB8fCBub2RlLmlubmVySFRNTCB8fCBcIlwiIClcblx0XHRcdFx0XHRcdFx0XHRcdC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKVxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGaXggIzExODA5OiBBdm9pZCBsZWFraW5nIG1lbW9yeVxuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdCA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSggZWxlbSwgc2VsZWN0b3IsIGtlZXBEYXRhICkge1xuXHR2YXIgbm9kZSxcblx0XHRlbGVtcyA9IHNlbGVjdG9yID8galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIGVsZW0gKSA6IGVsZW0sXG5cdFx0aSA9IDA7XG5cblx0Zm9yICggOyAoIG5vZGUgPSBlbGVtc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBkZXN0RWxlbWVudHMsIG5vZGUsIGNsb25lLCBpLCBzcmNFbGVtZW50cyxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHRpZiAoIHN1cHBvcnQuaHRtbDVDbG9uZSB8fCBqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSB8fFxuXHRcdFx0IXJub3NoaW1jYWNoZS50ZXN0KCBcIjxcIiArIGVsZW0ubm9kZU5hbWUgKyBcIj5cIiApICkge1xuXG5cdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICk7XG5cblx0XHQvLyBJRTw9OCBkb2VzIG5vdCBwcm9wZXJseSBjbG9uZSBkZXRhY2hlZCwgdW5rbm93biBlbGVtZW50IG5vZGVzXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYWdtZW50RGl2LmlubmVySFRNTCA9IGVsZW0ub3V0ZXJIVE1MO1xuXHRcdFx0ZnJhZ21lbnREaXYucmVtb3ZlQ2hpbGQoIGNsb25lID0gZnJhZ21lbnREaXYuZmlyc3RDaGlsZCApO1xuXHRcdH1cblxuXHRcdGlmICggKCAhc3VwcG9ydC5ub0Nsb25lRXZlbnQgfHwgIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgKSAmJlxuXHRcdFx0XHQoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJiAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cDovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHQvLyBGaXggYWxsIElFIGNsb25pbmcgaXNzdWVzXG5cdFx0XHRmb3IgKCBpID0gMDsgKCBub2RlID0gc3JjRWxlbWVudHNbIGkgXSApICE9IG51bGw7ICsraSApIHtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhhdCB0aGUgZGVzdGluYXRpb24gbm9kZSBpcyBub3QgbnVsbDsgRml4ZXMgIzk1ODdcblx0XHRcdFx0aWYgKCBkZXN0RWxlbWVudHNbIGkgXSApIHtcblx0XHRcdFx0XHRmaXhDbG9uZU5vZGVJc3N1ZXMoIG5vZGUsIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgKCBub2RlID0gc3JjRWxlbWVudHNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggbm9kZSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0ZGVzdEVsZW1lbnRzID0gc3JjRWxlbWVudHMgPSBub2RlID0gbnVsbDtcblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcywgLyogaW50ZXJuYWwgKi8gZm9yY2VBY2NlcHREYXRhICkge1xuXHRcdHZhciBlbGVtLCB0eXBlLCBpZCwgZGF0YSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0aW50ZXJuYWxLZXkgPSBqUXVlcnkuZXhwYW5kbyxcblx0XHRcdGNhY2hlID0galF1ZXJ5LmNhY2hlLFxuXHRcdFx0YXR0cmlidXRlcyA9IHN1cHBvcnQuYXR0cmlidXRlcyxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZm9yY2VBY2NlcHREYXRhIHx8IGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHRpZCA9IGVsZW1bIGludGVybmFsS2V5IF07XG5cdFx0XHRcdGRhdGEgPSBpZCAmJiBjYWNoZVsgaWQgXTtcblxuXHRcdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGNhY2hlIG9ubHkgaWYgaXQgd2FzIG5vdCBhbHJlYWR5IHJlbW92ZWQgYnkgalF1ZXJ5LmV2ZW50LnJlbW92ZVxuXHRcdFx0XHRcdGlmICggY2FjaGVbIGlkIF0gKSB7XG5cblx0XHRcdFx0XHRcdGRlbGV0ZSBjYWNoZVsgaWQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdFx0XHRcdFx0Ly8gSUUgZG9lcyBub3QgYWxsb3cgdXMgdG8gZGVsZXRlIGV4cGFuZG8gcHJvcGVydGllcyBmcm9tIG5vZGVzXG5cdFx0XHRcdFx0XHQvLyBJRSBjcmVhdGVzIGV4cGFuZG8gYXR0cmlidXRlcyBhbG9uZyB3aXRoIHRoZSBwcm9wZXJ0eVxuXHRcdFx0XHRcdFx0Ly8gSUUgZG9lcyBub3QgaGF2ZSBhIHJlbW92ZUF0dHJpYnV0ZSBmdW5jdGlvbiBvbiBEb2N1bWVudCBub2Rlc1xuXHRcdFx0XHRcdFx0aWYgKCAhYXR0cmlidXRlcyAmJiB0eXBlb2YgZWxlbS5yZW1vdmVBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBpbnRlcm5hbEtleSApO1xuXG5cdFx0XHRcdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0XHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwN1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZWxlbVsgaW50ZXJuYWxLZXkgXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZGVsZXRlZElkcy5wdXNoKCBpZCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0Ly8gS2VlcCBkb21NYW5pcCBleHBvc2VkIHVudGlsIDMuMCAoZ2gtMjIyNSlcblx0ZG9tTWFuaXA6IGRvbU1hbmlwLFxuXG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZChcblx0XHRcdFx0XHQoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApLmNyZWF0ZVRleHROb2RlKCB2YWx1ZSApXG5cdFx0XHRcdCk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RDaGlsZCApIHtcblx0XHRcdFx0ZWxlbS5yZW1vdmVDaGlsZCggZWxlbS5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBzZWxlY3QsIGVuc3VyZSB0aGF0IGl0IGRpc3BsYXlzIGVtcHR5ICgjMTIzMzYpXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0XHRpZiAoIGVsZW0ub3B0aW9ucyAmJiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwic2VsZWN0XCIgKSApIHtcblx0XHRcdFx0ZWxlbS5vcHRpb25zLmxlbmd0aCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MLnJlcGxhY2UoIHJpbmxpbmVqUXVlcnksIFwiXCIgKSA6XG5cdFx0XHRcdFx0dW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0KCBzdXBwb3J0Lmh0bWxTZXJpYWxpemUgfHwgIXJub3NoaW1jYWNoZS50ZXN0KCB2YWx1ZSApICApICYmXG5cdFx0XHRcdCggc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSB8fCAhcmxlYWRpbmdXaGl0ZXNwYWNlLnRlc3QoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcblxuXHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdH0sIGlnbm9yZWQgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCgge1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMTtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBNb2Rlcm4gYnJvd3NlcnMgY2FuIGFwcGx5IGpRdWVyeSBjb2xsZWN0aW9ucyBhcyBhcnJheXMsIGJ1dCBvbGRJRSBuZWVkcyBhIC5nZXQoKVxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG5cblxudmFyIGlmcmFtZSxcblx0ZWxlbWRpc3BsYXkgPSB7XG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94XG5cdFx0Ly8gV2UgaGF2ZSB0byBwcmUtZGVmaW5lIHRoZXNlIHZhbHVlcyBmb3IgRkYgKCMxMDIyNylcblx0XHRIVE1MOiBcImJsb2NrXCIsXG5cdFx0Qk9EWTogXCJibG9ja1wiXG5cdH07XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIGFjdHVhbCBkaXNwbGF5IG9mIGEgZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbm9kZU5hbWUgb2YgdGhlIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkb2MgRG9jdW1lbnQgb2JqZWN0XG4gKi9cblxuLy8gQ2FsbGVkIG9ubHkgZnJvbSB3aXRoaW4gZGVmYXVsdERpc3BsYXlcbmZ1bmN0aW9uIGFjdHVhbERpc3BsYXkoIG5hbWUsIGRvYyApIHtcblx0dmFyIGVsZW0gPSBqUXVlcnkoIGRvYy5jcmVhdGVFbGVtZW50KCBuYW1lICkgKS5hcHBlbmRUbyggZG9jLmJvZHkgKSxcblxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtWyAwIF0sIFwiZGlzcGxheVwiICk7XG5cblx0Ly8gV2UgZG9uJ3QgaGF2ZSBhbnkgZGF0YSBzdG9yZWQgb24gdGhlIGVsZW1lbnQsXG5cdC8vIHNvIHVzZSBcImRldGFjaFwiIG1ldGhvZCBhcyBmYXN0IHdheSB0byBnZXQgcmlkIG9mIHRoZSBlbGVtZW50XG5cdGVsZW0uZGV0YWNoKCk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbi8qKlxuICogVHJ5IHRvIGRldGVybWluZSB0aGUgZGVmYXVsdCBkaXNwbGF5IHZhbHVlIG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBub2RlTmFtZVxuICovXG5mdW5jdGlvbiBkZWZhdWx0RGlzcGxheSggbm9kZU5hbWUgKSB7XG5cdHZhciBkb2MgPSBkb2N1bWVudCxcblx0XHRkaXNwbGF5ID0gZWxlbWRpc3BsYXlbIG5vZGVOYW1lIF07XG5cblx0aWYgKCAhZGlzcGxheSApIHtcblx0XHRkaXNwbGF5ID0gYWN0dWFsRGlzcGxheSggbm9kZU5hbWUsIGRvYyApO1xuXG5cdFx0Ly8gSWYgdGhlIHNpbXBsZSB3YXkgZmFpbHMsIHJlYWQgZnJvbSBpbnNpZGUgYW4gaWZyYW1lXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiB8fCAhZGlzcGxheSApIHtcblxuXHRcdFx0Ly8gVXNlIHRoZSBhbHJlYWR5LWNyZWF0ZWQgaWZyYW1lIGlmIHBvc3NpYmxlXG5cdFx0XHRpZnJhbWUgPSAoIGlmcmFtZSB8fCBqUXVlcnkoIFwiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPlwiICkgKVxuXHRcdFx0XHQuYXBwZW5kVG8oIGRvYy5kb2N1bWVudEVsZW1lbnQgKTtcblxuXHRcdFx0Ly8gQWx3YXlzIHdyaXRlIGEgbmV3IEhUTUwgc2tlbGV0b24gc28gV2Via2l0IGFuZCBGaXJlZm94IGRvbid0IGNob2tlIG9uIHJldXNlXG5cdFx0XHRkb2MgPSAoIGlmcmFtZVsgMCBdLmNvbnRlbnRXaW5kb3cgfHwgaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50ICkuZG9jdW1lbnQ7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0XHRkb2Mud3JpdGUoKTtcblx0XHRcdGRvYy5jbG9zZSgpO1xuXG5cdFx0XHRkaXNwbGF5ID0gYWN0dWFsRGlzcGxheSggbm9kZU5hbWUsIGRvYyApO1xuXHRcdFx0aWZyYW1lLmRldGFjaCgpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHRoZSBjb3JyZWN0IGRlZmF1bHQgZGlzcGxheVxuXHRcdGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdID0gZGlzcGxheTtcblx0fVxuXG5cdHJldHVybiBkaXNwbGF5O1xufVxudmFyIHJtYXJnaW4gPSAoIC9ebWFyZ2luLyApO1xuXG52YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBwaXhlbE1hcmdpblJpZ2h0VmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCxcblx0XHRyZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwsIHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCxcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXG5cdGlmICggIWRpdi5zdHlsZSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRkaXYuc3R5bGUuY3NzVGV4dCA9IFwiZmxvYXQ6bGVmdDtvcGFjaXR5Oi41XCI7XG5cblx0Ly8gU3VwcG9ydDogSUU8OVxuXHQvLyBNYWtlIHN1cmUgdGhhdCBlbGVtZW50IG9wYWNpdHkgZXhpc3RzIChhcyBvcHBvc2VkIHRvIGZpbHRlcilcblx0c3VwcG9ydC5vcGFjaXR5ID0gZGl2LnN0eWxlLm9wYWNpdHkgPT09IFwiMC41XCI7XG5cblx0Ly8gVmVyaWZ5IHN0eWxlIGZsb2F0IGV4aXN0ZW5jZVxuXHQvLyAoSUUgdXNlcyBzdHlsZUZsb2F0IGluc3RlYWQgb2YgY3NzRmxvYXQpXG5cdHN1cHBvcnQuY3NzRmxvYXQgPSAhIWRpdi5zdHlsZS5jc3NGbG9hdDtcblxuXHRkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG5cdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cblx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtcIiArXG5cdFx0XCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblx0ZGl2LmlubmVySFRNTCA9IFwiXCI7XG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0Ly8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcblx0Ly8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG5cdHN1cHBvcnQuYm94U2l6aW5nID0gZGl2LnN0eWxlLmJveFNpemluZyA9PT0gXCJcIiB8fCBkaXYuc3R5bGUuTW96Qm94U2l6aW5nID09PSBcIlwiIHx8XG5cdFx0ZGl2LnN0eWxlLldlYmtpdEJveFNpemluZyA9PT0gXCJcIjtcblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0cmVsaWFibGVIaWRkZW5PZmZzZXRzOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggcGl4ZWxQb3NpdGlvblZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbDtcblx0XHR9LFxuXG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBXZSdyZSBjaGVja2luZyBmb3IgcGl4ZWxQb3NpdGlvblZhbCBoZXJlIGluc3RlYWQgb2YgYm94U2l6aW5nUmVsaWFibGVWYWxcblx0XHRcdC8vIHNpbmNlIHRoYXQgY29tcHJlc3NlcyBiZXR0ZXIgYW5kIHRoZXkncmUgY29tcHV0ZWQgdG9nZXRoZXIgYW55d2F5LlxuXHRcdFx0aWYgKCBwaXhlbFBvc2l0aW9uVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblxuXHRcdHBpeGVsTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMC00LjNcblx0XHRcdGlmICggcGl4ZWxQb3NpdGlvblZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBpeGVsTWFyZ2luUmlnaHRWYWw7XG5cdFx0fSxcblxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBwaXhlbFBvc2l0aW9uVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXG5cdFx0cmVsaWFibGVNYXJnaW5SaWdodDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRpZiAoIHBpeGVsUG9zaXRpb25WYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpblJpZ2h0VmFsO1xuXHRcdH0sXG5cblx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggb25seSwgQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSAzN1xuXHRcdFx0aWYgKCBwaXhlbFBvc2l0aW9uVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsO1xuXHRcdH1cblx0fSApO1xuXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXHRcdHZhciBjb250ZW50cywgZGl2U3R5bGUsXG5cdFx0XHRkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHQvLyBTZXR1cFxuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHQvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcblx0XHRcdFwiLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O1wiICtcblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ0b3A6MSU7d2lkdGg6NTAlXCI7XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gQXNzdW1lIHJlYXNvbmFibGUgdmFsdWVzIGluIHRoZSBhYnNlbmNlIG9mIGdldENvbXB1dGVkU3R5bGVcblx0XHRwaXhlbFBvc2l0aW9uVmFsID0gYm94U2l6aW5nUmVsaWFibGVWYWwgPSByZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSBmYWxzZTtcblx0XHRwaXhlbE1hcmdpblJpZ2h0VmFsID0gcmVsaWFibGVNYXJnaW5SaWdodFZhbCA9IHRydWU7XG5cblx0XHQvLyBDaGVjayBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzbyB0aGF0IHRoaXMgY29kZSBpcyBub3QgcnVuIGluIElFPDkuXG5cdFx0aWYgKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSApIHtcblx0XHRcdGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApO1xuXHRcdFx0cGl4ZWxQb3NpdGlvblZhbCA9ICggZGl2U3R5bGUgfHwge30gKS50b3AgIT09IFwiMSVcIjtcblx0XHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9ICggZGl2U3R5bGUgfHwge30gKS5tYXJnaW5MZWZ0ID09PSBcIjJweFwiO1xuXHRcdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSAoIGRpdlN0eWxlIHx8IHsgd2lkdGg6IFwiNHB4XCIgfSApLndpZHRoID09PSBcIjRweFwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XG5cdFx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRcdGRpdi5zdHlsZS5tYXJnaW5SaWdodCA9IFwiNTAlXCI7XG5cdFx0XHRwaXhlbE1hcmdpblJpZ2h0VmFsID0gKCBkaXZTdHlsZSB8fCB7IG1hcmdpblJpZ2h0OiBcIjRweFwiIH0gKS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0Ly8gRGl2IHdpdGggZXhwbGljaXQgd2lkdGggYW5kIG5vIG1hcmdpbi1yaWdodCBpbmNvcnJlY3RseVxuXHRcdFx0Ly8gZ2V0cyBjb21wdXRlZCBtYXJnaW4tcmlnaHQgYmFzZWQgb24gd2lkdGggb2YgY29udGFpbmVyICgjMzMzMylcblx0XHRcdC8vIFdlYktpdCBCdWcgMTMzNDMgLSBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgd3JvbmcgdmFsdWUgZm9yIG1hcmdpbi1yaWdodFxuXHRcdFx0Y29udGVudHMgPSBkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHQvLyBSZXNldCBDU1M6IGJveC1zaXppbmc7IGRpc3BsYXk7IG1hcmdpbjsgYm9yZGVyOyBwYWRkaW5nXG5cdFx0XHRjb250ZW50cy5zdHlsZS5jc3NUZXh0ID0gZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7XCIgK1xuXHRcdFx0XHRcImJveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIjtcblx0XHRcdGNvbnRlbnRzLnN0eWxlLm1hcmdpblJpZ2h0ID0gY29udGVudHMuc3R5bGUud2lkdGggPSBcIjBcIjtcblx0XHRcdGRpdi5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XG5cblx0XHRcdHJlbGlhYmxlTWFyZ2luUmlnaHRWYWwgPVxuXHRcdFx0XHQhcGFyc2VGbG9hdCggKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggY29udGVudHMgKSB8fCB7fSApLm1hcmdpblJpZ2h0ICk7XG5cblx0XHRcdGRpdi5yZW1vdmVDaGlsZCggY29udGVudHMgKTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRTYtOFxuXHRcdC8vIEZpcnN0IGNoZWNrIHRoYXQgZ2V0Q2xpZW50UmVjdHMgd29ya3MgYXMgZXhwZWN0ZWRcblx0XHQvLyBDaGVjayBpZiB0YWJsZSBjZWxscyBzdGlsbCBoYXZlIG9mZnNldFdpZHRoL0hlaWdodCB3aGVuIHRoZXkgYXJlIHNldFxuXHRcdC8vIHRvIGRpc3BsYXk6bm9uZSBhbmQgdGhlcmUgYXJlIHN0aWxsIG90aGVyIHZpc2libGUgdGFibGUgY2VsbHMgaW4gYVxuXHRcdC8vIHRhYmxlIHJvdzsgaWYgc28sIG9mZnNldFdpZHRoL0hlaWdodCBhcmUgbm90IHJlbGlhYmxlIGZvciB1c2Ugd2hlblxuXHRcdC8vIGRldGVybWluaW5nIGlmIGFuIGVsZW1lbnQgaGFzIGJlZW4gaGlkZGVuIGRpcmVjdGx5IHVzaW5nXG5cdFx0Ly8gZGlzcGxheTpub25lIChpdCBpcyBzdGlsbCBzYWZlIHRvIHVzZSBvZmZzZXRzIGlmIGEgcGFyZW50IGVsZW1lbnQgaXNcblx0XHQvLyBoaWRkZW47IGRvbiBzYWZldHkgZ29nZ2xlcyBhbmQgc2VlIGJ1ZyAjNDUxMiBmb3IgbW9yZSBpbmZvcm1hdGlvbikuXG5cdFx0ZGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRyZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBkaXYuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPT09IDA7XG5cdFx0aWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgKSB7XG5cdFx0XHRkaXYuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRkaXYuaW5uZXJIVE1MID0gXCI8dGFibGU+PHRyPjx0ZD48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+XCI7XG5cdFx0XHRjb250ZW50cyA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJ0ZFwiICk7XG5cdFx0XHRjb250ZW50c1sgMCBdLnN0eWxlLmNzc1RleHQgPSBcIm1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmVcIjtcblx0XHRcdHJlbGlhYmxlSGlkZGVuT2Zmc2V0c1ZhbCA9IGNvbnRlbnRzWyAwIF0ub2Zmc2V0SGVpZ2h0ID09PSAwO1xuXHRcdFx0aWYgKCByZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgKSB7XG5cdFx0XHRcdGNvbnRlbnRzWyAwIF0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdGNvbnRlbnRzWyAxIF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHRyZWxpYWJsZUhpZGRlbk9mZnNldHNWYWwgPSBjb250ZW50c1sgMCBdLm9mZnNldEhlaWdodCA9PT0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUZWFyZG93blxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdH1cblxufSApKCk7XG5cblxudmFyIGdldFN0eWxlcywgY3VyQ1NTLFxuXHRycG9zaXRpb24gPSAvXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87XG5cbmlmICggd2luZG93LmdldENvbXB1dGVkU3R5bGUgKSB7XG5cdGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU8PTExKywgRmlyZWZveDw9MzArICgjMTUwOTgsICMxNDE1MClcblx0XHQvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcblx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0dmlldyA9IHdpbmRvdztcblx0XHR9XG5cblx0XHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG5cdH07XG5cblx0Y3VyQ1NTID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHRcdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdFx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgaW4gSUU5LCBzZWUgIzEyNTM3XG5cdFx0cmV0ID0gY29tcHV0ZWQgPyBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXSA6IHVuZGVmaW5lZDtcblxuXHRcdC8vIFN1cHBvcnQ6IE9wZXJhIDEyLjF4IG9ubHlcblx0XHQvLyBGYWxsIGJhY2sgdG8gc3R5bGUgZXZlbiB3aXRob3V0IGNvbXB1dGVkXG5cdFx0Ly8gY29tcHV0ZWQgaXMgdW5kZWZpbmVkIGZvciBlbGVtcyBvbiBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRpZiAoICggcmV0ID09PSBcIlwiIHx8IHJldCA9PT0gdW5kZWZpbmVkICkgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0XHQvLyBDaHJvbWUgPCAxNyBhbmQgU2FmYXJpIDUuMCB1c2VzIFwiY29tcHV0ZWQgdmFsdWVcIlxuXHRcdFx0Ly8gaW5zdGVhZCBvZiBcInVzZWQgdmFsdWVcIiBmb3IgbWFyZ2luLXJpZ2h0XG5cdFx0XHQvLyBTYWZhcmkgNS4xLjcgKGF0IGxlYXN0KSByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIGEgbGFyZ2VyIHNldCBvZiB2YWx1ZXMsXG5cdFx0XHQvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzXG5cdFx0XHQvLyB0aGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0XHQvLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0XHRtYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoO1xuXG5cdFx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcblxuXHRcdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XG5cdFx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUVcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldHVybiByZXQgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRyZXQgOlxuXHRcdFx0cmV0ICsgXCJcIjtcblx0fTtcbn0gZWxzZSBpZiAoIGRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUgKSB7XG5cdGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLmN1cnJlbnRTdHlsZTtcblx0fTtcblxuXHRjdXJDU1MgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdFx0dmFyIGxlZnQsIHJzLCByc0xlZnQsIHJldCxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0cmV0ID0gY29tcHV0ZWQgPyBjb21wdXRlZFsgbmFtZSBdIDogdW5kZWZpbmVkO1xuXG5cdFx0Ly8gQXZvaWQgc2V0dGluZyByZXQgdG8gZW1wdHkgc3RyaW5nIGhlcmVcblx0XHQvLyBzbyB3ZSBkb24ndCBkZWZhdWx0IHRvIGF1dG9cblx0XHRpZiAoIHJldCA9PSBudWxsICYmIHN0eWxlICYmIHN0eWxlWyBuYW1lIF0gKSB7XG5cdFx0XHRyZXQgPSBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIEZyb20gdGhlIGF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcblx0XHQvLyBodHRwOi8vZXJpay5lYWUubmV0L2FyY2hpdmVzLzIwMDcvMDcvMjcvMTguNTQuMTUvI2NvbW1lbnQtMTAyMjkxXG5cblx0XHQvLyBJZiB3ZSdyZSBub3QgZGVhbGluZyB3aXRoIGEgcmVndWxhciBwaXhlbCBudW1iZXJcblx0XHQvLyBidXQgYSBudW1iZXIgdGhhdCBoYXMgYSB3ZWlyZCBlbmRpbmcsIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBwaXhlbHNcblx0XHQvLyBidXQgbm90IHBvc2l0aW9uIGNzcyBhdHRyaWJ1dGVzLCBhcyB0aG9zZSBhcmVcblx0XHQvLyBwcm9wb3J0aW9uYWwgdG8gdGhlIHBhcmVudCBlbGVtZW50IGluc3RlYWRcblx0XHQvLyBhbmQgd2UgY2FuJ3QgbWVhc3VyZSB0aGUgcGFyZW50IGluc3RlYWQgYmVjYXVzZSBpdFxuXHRcdC8vIG1pZ2h0IHRyaWdnZXIgYSBcInN0YWNraW5nIGRvbGxzXCIgcHJvYmxlbVxuXHRcdGlmICggcm51bW5vbnB4LnRlc3QoIHJldCApICYmICFycG9zaXRpb24udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHRsZWZ0ID0gc3R5bGUubGVmdDtcblx0XHRcdHJzID0gZWxlbS5ydW50aW1lU3R5bGU7XG5cdFx0XHRyc0xlZnQgPSBycyAmJiBycy5sZWZ0O1xuXG5cdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRpZiAoIHJzTGVmdCApIHtcblx0XHRcdFx0cnMubGVmdCA9IGVsZW0uY3VycmVudFN0eWxlLmxlZnQ7XG5cdFx0XHR9XG5cdFx0XHRzdHlsZS5sZWZ0ID0gbmFtZSA9PT0gXCJmb250U2l6ZVwiID8gXCIxZW1cIiA6IHJldDtcblx0XHRcdHJldCA9IHN0eWxlLnBpeGVsTGVmdCArIFwicHhcIjtcblxuXHRcdFx0Ly8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlc1xuXHRcdFx0c3R5bGUubGVmdCA9IGxlZnQ7XG5cdFx0XHRpZiAoIHJzTGVmdCApIHtcblx0XHRcdFx0cnMubGVmdCA9IHJzTGVmdDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0dXJuIHJldCA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHJldCA6XG5cdFx0XHRyZXQgKyBcIlwiIHx8IFwiYXV0b1wiO1xuXHR9O1xufVxuXG5cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHRcdHJhbHBoYSA9IC9hbHBoYVxcKFteKV0qXFwpL2ksXG5cdHJvcGFjaXR5ID0gL29wYWNpdHlcXHMqPVxccyooW14pXSopL2ksXG5cblx0Ly8gc3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZSBleGNlcHRcblx0Ly8gXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0Ly8gc2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOlxuXHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG5cdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0cm51bXNwbGl0ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSguKikkXCIsIFwiaVwiICksXG5cblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH0sXG5cblx0Y3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiT1wiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblxuXG4vLyByZXR1cm4gYSBjc3MgcHJvcGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcblxuXHQvLyBzaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxuXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRyZXR1cm4gbmFtZTtcblx0fVxuXG5cdC8vIGNoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0dmFyIGNhcE5hbWUgPSBuYW1lLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSwgaGlkZGVuLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdHZhbHVlc1sgaW5kZXggXSA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJvbGRkaXNwbGF5XCIgKTtcblx0XHRkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuXHRcdGlmICggc2hvdyApIHtcblxuXHRcdFx0Ly8gUmVzZXQgdGhlIGlubGluZSBkaXNwbGF5IG9mIHRoaXMgZWxlbWVudCB0byBsZWFybiBpZiBpdCBpc1xuXHRcdFx0Ly8gYmVpbmcgaGlkZGVuIGJ5IGNhc2NhZGVkIHJ1bGVzIG9yIG5vdFxuXHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICYmIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZWxlbWVudHMgd2hpY2ggaGF2ZSBiZWVuIG92ZXJyaWRkZW4gd2l0aCBkaXNwbGF5OiBub25lXG5cdFx0XHQvLyBpbiBhIHN0eWxlc2hlZXQgdG8gd2hhdGV2ZXIgdGhlIGRlZmF1bHQgYnJvd3NlciBzdHlsZSBpc1xuXHRcdFx0Ly8gZm9yIHN1Y2ggYW4gZWxlbWVudFxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW4oIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID1cblx0XHRcdFx0XHRqUXVlcnkuX2RhdGEoIGVsZW0sIFwib2xkZGlzcGxheVwiLCBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZGRlbiA9IGlzSGlkZGVuKCBlbGVtICk7XG5cblx0XHRcdGlmICggZGlzcGxheSAmJiBkaXNwbGF5ICE9PSBcIm5vbmVcIiB8fCAhaGlkZGVuICkge1xuXHRcdFx0XHRqUXVlcnkuX2RhdGEoXG5cdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcIm9sZGRpc3BsYXlcIixcblx0XHRcdFx0XHRoaWRkZW4gPyBkaXNwbGF5IDogalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiBtb3N0IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wXG5cdC8vIHRvIGF2b2lkIHRoZSBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRpZiAoICFzaG93IHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHwgZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/IHZhbHVlc1sgaW5kZXggXSB8fCBcIlwiIDogXCJub25lXCI7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRzO1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXHR2YXIgbWF0Y2hlcyA9IHJudW1zcGxpdC5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAxIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAyIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XG5cdHZhciBpID0gZXh0cmEgPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSA/XG5cblx0XHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cblx0XHQ0IDpcblxuXHRcdC8vIE90aGVyd2lzZSBpbml0aWFsaXplIGZvciBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHByb3BlcnRpZXNcblx0XHRuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMCxcblxuXHRcdHZhbCA9IDA7XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gYm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxuXHRcdGlmICggZXh0cmEgPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0JvcmRlckJveCApIHtcblxuXHRcdFx0Ly8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBhdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCwgc28gYWRkIHBhZGRpbmdcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gYXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBub3IgcGFkZGluZywgc28gYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJwYWRkaW5nXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggb2Zmc2V0IHByb3BlcnR5LCB3aGljaCBpcyBlcXVpdmFsZW50IHRvIHRoZSBib3JkZXItYm94IHZhbHVlXG5cdHZhciB2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZSxcblx0XHR2YWwgPSBuYW1lID09PSBcIndpZHRoXCIgPyBlbGVtLm9mZnNldFdpZHRoIDogZWxlbS5vZmZzZXRIZWlnaHQsXG5cdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cdFx0aXNCb3JkZXJCb3ggPSBzdXBwb3J0LmJveFNpemluZyAmJlxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBJRTExIG9ubHlcblx0Ly8gSW4gSUUgMTEgZnVsbHNjcmVlbiBlbGVtZW50cyBpbnNpZGUgb2YgYW4gaWZyYW1lIGhhdmVcblx0Ly8gMTAweCB0b28gc21hbGwgZGltZW5zaW9ucyAoZ2gtMTc2NCkuXG5cdGlmICggZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCAmJiB3aW5kb3cudG9wICE9PSB3aW5kb3cgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdGlmICggZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHZhbCA9IE1hdGgucm91bmQoIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbIG5hbWUgXSAqIDEwMCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIHNvbWUgbm9uLWh0bWwgZWxlbWVudHMgcmV0dXJuIHVuZGVmaW5lZCBmb3Igb2Zmc2V0V2lkdGgsIHNvIGNoZWNrIGZvciBudWxsL3VuZGVmaW5lZFxuXHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcblx0Ly8gTWF0aE1MIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDkxNjY4XG5cdGlmICggdmFsIDw9IDAgfHwgdmFsID09IG51bGwgKSB7XG5cblx0XHQvLyBGYWxsIGJhY2sgdG8gY29tcHV0ZWQgdGhlbiB1bmNvbXB1dGVkIGNzcyBpZiBuZWNlc3Nhcnlcblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdGlmICggdmFsIDwgMCB8fCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdHZhbCA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBDb21wdXRlZCB1bml0IGlzIG5vdCBwaXhlbHMuIFN0b3AgaGVyZSBhbmQgcmV0dXJuLlxuXHRcdGlmICggcm51bW5vbnB4LnRlc3QoIHZhbCApICkge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cblx0XHQvLyB3ZSBuZWVkIHRoZSBjaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuXHRcdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3ggJiZcblx0XHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgbmFtZSBdICk7XG5cblx0XHQvLyBOb3JtYWxpemUgXCJcIiwgYXV0bywgYW5kIHByZXBhcmUgZm9yIGV4dHJhXG5cdFx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblx0fVxuXG5cdC8vIHVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXG5cdHJldHVybiAoIHZhbCArXG5cdFx0YXVnbWVudFdpZHRoT3JIZWlnaHQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0bmFtZSxcblx0XHRcdGV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRzdHlsZXNcblx0XHQpXG5cdCkgKyBcInB4XCI7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcblx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdGNzc0hvb2tzOiB7XG5cdFx0b3BhY2l0eToge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG5cdGNzc051bWJlcjoge1xuXHRcdFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcIjogdHJ1ZSxcblx0XHRcImNvbHVtbkNvdW50XCI6IHRydWUsXG5cdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwiZmxleEdyb3dcIjogdHJ1ZSxcblx0XHRcImZsZXhTaHJpbmtcIjogdHJ1ZSxcblx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcImxpbmVIZWlnaHRcIjogdHJ1ZSxcblx0XHRcIm9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcIm9yZGVyXCI6IHRydWUsXG5cdFx0XCJvcnBoYW5zXCI6IHRydWUsXG5cdFx0XCJ3aWRvd3NcIjogdHJ1ZSxcblx0XHRcInpJbmRleFwiOiB0cnVlLFxuXHRcdFwiem9vbVwiOiB0cnVlXG5cdH0sXG5cblx0Ly8gQWRkIGluIHByb3BlcnRpZXMgd2hvc2UgbmFtZXMgeW91IHdpc2ggdG8gZml4IGJlZm9yZVxuXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXG5cdGNzc1Byb3BzOiB7XG5cblx0XHQvLyBub3JtYWxpemUgZmxvYXQgY3NzIHByb3BlcnR5XG5cdFx0XCJmbG9hdFwiOiBzdXBwb3J0LmNzc0Zsb2F0ID8gXCJjc3NGbG9hdFwiIDogXCJzdHlsZUZsb2F0XCJcblx0fSxcblxuXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxuXHRzdHlsZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlLCBleHRyYSApIHtcblxuXHRcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdHZhciByZXQsIHR5cGUsIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8XG5cdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XG5cblx0XHQvLyBnZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uXG5cdFx0Ly8gZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgdmVyc2lvblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7XG5cdFx0XHRcdHZhbHVlID0gYWRqdXN0Q1NTKCBlbGVtLCBuYW1lLCByZXQgKTtcblxuXHRcdFx0XHQvLyBGaXhlcyBidWcgIzkyMzdcblx0XHRcdFx0dHlwZSA9IFwibnVtYmVyXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldC4gU2VlOiAjNzExNlxuXHRcdFx0aWYgKCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRml4ZXMgIzg5MDgsIGl0IGNhbiBiZSBkb25lIG1vcmUgY29ycmVjdGx5IGJ5IHNwZWNpZmluZyBzZXR0ZXJzIGluIGNzc0hvb2tzLFxuXHRcdFx0Ly8gYnV0IGl0IHdvdWxkIG1lYW4gdG8gZGVmaW5lIGVpZ2h0XG5cdFx0XHQvLyAoZm9yIGV2ZXJ5IHByb2JsZW1hdGljIHByb3BlcnR5KSBpZGVudGljYWwgZnVuY3Rpb25zXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFXG5cdFx0XHRcdC8vIFN3YWxsb3cgZXJyb3JzIGZyb20gJ2ludmFsaWQnIENTUyB2YWx1ZXMgKCM1NTA5KVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIG51bSwgdmFsLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gZ2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvblxuXHRcdC8vIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly9jb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiwgY29udmVydGluZyB0byBudW1iZXIgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdC8vIGNlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHQvLyBob3dldmVyLCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0IGZyb20gdGhpc1xuXHRcdFx0XHRyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJlxuXHRcdFx0XHRcdGVsZW0ub2Zmc2V0V2lkdGggPT09IDAgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBzdHlsZXMgPSBleHRyYSAmJiBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIGV4dHJhID9cblx0XHRcdFx0YXVnbWVudFdpZHRoT3JIZWlnaHQoXG5cdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdHN1cHBvcnQuYm94U2l6aW5nICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpIDogMFxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmlmICggIXN1cHBvcnQub3BhY2l0eSApIHtcblx0alF1ZXJ5LmNzc0hvb2tzLm9wYWNpdHkgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cblx0XHRcdC8vIElFIHVzZXMgZmlsdGVycyBmb3Igb3BhY2l0eVxuXHRcdFx0cmV0dXJuIHJvcGFjaXR5LnRlc3QoICggY29tcHV0ZWQgJiYgZWxlbS5jdXJyZW50U3R5bGUgP1xuXHRcdFx0XHRlbGVtLmN1cnJlbnRTdHlsZS5maWx0ZXIgOlxuXHRcdFx0XHRlbGVtLnN0eWxlLmZpbHRlciApIHx8IFwiXCIgKSA/XG5cdFx0XHRcdFx0KCAwLjAxICogcGFyc2VGbG9hdCggUmVnRXhwLiQxICkgKSArIFwiXCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkID8gXCIxXCIgOiBcIlwiO1xuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0XHRcdGN1cnJlbnRTdHlsZSA9IGVsZW0uY3VycmVudFN0eWxlLFxuXHRcdFx0XHRvcGFjaXR5ID0galF1ZXJ5LmlzTnVtZXJpYyggdmFsdWUgKSA/IFwiYWxwaGEob3BhY2l0eT1cIiArIHZhbHVlICogMTAwICsgXCIpXCIgOiBcIlwiLFxuXHRcdFx0XHRmaWx0ZXIgPSBjdXJyZW50U3R5bGUgJiYgY3VycmVudFN0eWxlLmZpbHRlciB8fCBzdHlsZS5maWx0ZXIgfHwgXCJcIjtcblxuXHRcdFx0Ly8gSUUgaGFzIHRyb3VibGUgd2l0aCBvcGFjaXR5IGlmIGl0IGRvZXMgbm90IGhhdmUgbGF5b3V0XG5cdFx0XHQvLyBGb3JjZSBpdCBieSBzZXR0aW5nIHRoZSB6b29tIGxldmVsXG5cdFx0XHRzdHlsZS56b29tID0gMTtcblxuXHRcdFx0Ly8gaWYgc2V0dGluZyBvcGFjaXR5IHRvIDEsIGFuZCBubyBvdGhlciBmaWx0ZXJzIGV4aXN0IC1cblx0XHRcdC8vIGF0dGVtcHQgdG8gcmVtb3ZlIGZpbHRlciBhdHRyaWJ1dGUgIzY2NTJcblx0XHRcdC8vIGlmIHZhbHVlID09PSBcIlwiLCB0aGVuIHJlbW92ZSBpbmxpbmUgb3BhY2l0eSAjMTI2ODVcblx0XHRcdGlmICggKCB2YWx1ZSA+PSAxIHx8IHZhbHVlID09PSBcIlwiICkgJiZcblx0XHRcdFx0XHRqUXVlcnkudHJpbSggZmlsdGVyLnJlcGxhY2UoIHJhbHBoYSwgXCJcIiApICkgPT09IFwiXCIgJiZcblx0XHRcdFx0XHRzdHlsZS5yZW1vdmVBdHRyaWJ1dGUgKSB7XG5cblx0XHRcdFx0Ly8gU2V0dGluZyBzdHlsZS5maWx0ZXIgdG8gbnVsbCwgXCJcIiAmIFwiIFwiIHN0aWxsIGxlYXZlIFwiZmlsdGVyOlwiIGluIHRoZSBjc3NUZXh0XG5cdFx0XHRcdC8vIGlmIFwiZmlsdGVyOlwiIGlzIHByZXNlbnQgYXQgYWxsLCBjbGVhclR5cGUgaXMgZGlzYWJsZWQsIHdlIHdhbnQgdG8gYXZvaWQgdGhpc1xuXHRcdFx0XHQvLyBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUgaXMgSUUgT25seSwgYnV0IHNvIGFwcGFyZW50bHkgaXMgdGhpcyBjb2RlIHBhdGguLi5cblx0XHRcdFx0c3R5bGUucmVtb3ZlQXR0cmlidXRlKCBcImZpbHRlclwiICk7XG5cblx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgbm8gZmlsdGVyIHN0eWxlIGFwcGxpZWQgaW4gYSBjc3MgcnVsZVxuXHRcdFx0XHQvLyBvciB1bnNldCBpbmxpbmUgb3BhY2l0eSwgd2UgYXJlIGRvbmVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiB8fCBjdXJyZW50U3R5bGUgJiYgIWN1cnJlbnRTdHlsZS5maWx0ZXIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIG90aGVyd2lzZSwgc2V0IG5ldyBmaWx0ZXIgdmFsdWVzXG5cdFx0XHRzdHlsZS5maWx0ZXIgPSByYWxwaGEudGVzdCggZmlsdGVyICkgP1xuXHRcdFx0XHRmaWx0ZXIucmVwbGFjZSggcmFscGhhLCBvcGFjaXR5ICkgOlxuXHRcdFx0XHRmaWx0ZXIgKyBcIiBcIiArIG9wYWNpdHk7XG5cdFx0fVxuXHR9O1xufVxuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luUmlnaHQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gc3dhcCggZWxlbSwgeyBcImRpc3BsYXlcIjogXCJpbmxpbmUtYmxvY2tcIiB9LFxuXHRcdFx0XHRjdXJDU1MsIFsgZWxlbSwgXCJtYXJnaW5SaWdodFwiIF0gKTtcblx0XHR9XG5cdH1cbik7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPD0xMStcblx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU4IG9ubHlcblx0XHRcdFx0Ly8gZ2V0Q2xpZW50UmVjdHMoKSBlcnJvcnMgb24gZGlzY29ubmVjdGVkIGVsZW1zXG5cdFx0XHRcdCggalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSA/XG5cdFx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0MFxuXHRcdFx0XHQpXG5cdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIGFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCAhcm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuKCB0aGlzICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHNcblx0XHRcdC8vIHNvLCBzaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdC5cblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMgaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gdXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQgLSB1c2UgY3NzSG9vayBpZiBpdHMgdGhlcmUgLSB1c2UgLnN0eWxlIGlmIGl0c1xuXHRcdFx0Ly8gYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGVcblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHxcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OVxuLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBDb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgdGltZXJJZCxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG4vLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5XG5mdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdGZ4Tm93ID0gdW5kZWZpbmVkO1xuXHR9ICk7XG5cdHJldHVybiAoIGZ4Tm93ID0galF1ZXJ5Lm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9LFxuXHRcdGkgPSAwO1xuXG5cdC8vIGlmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gaWYgd2UgZG9uJ3QgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNCA7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIHdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHQvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW4oIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGpRdWVyeS5fZGF0YSggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIGhhbmRsZSBxdWV1ZTogZmFsc2UgcHJvbWlzZXNcblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gZG9pbmcgdGhpcyBtYWtlcyBzdXJlIHRoYXQgdGhlIGNvbXBsZXRlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWRcblx0XHRcdC8vIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBoZWlnaHQvd2lkdGggb3ZlcmZsb3cgcGFzc1xuXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcImhlaWdodFwiIGluIHByb3BzIHx8IFwid2lkdGhcIiBpbiBwcm9wcyApICkge1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbm90aGluZyBzbmVha3Mgb3V0XG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdFxuXHRcdC8vIGNoYW5nZSB0aGUgb3ZlcmZsb3cgYXR0cmlidXRlIHdoZW4gb3ZlcmZsb3dYIGFuZFxuXHRcdC8vIG92ZXJmbG93WSBhcmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBTZXQgZGlzcGxheSBwcm9wZXJ0eSB0byBpbmxpbmUtYmxvY2sgZm9yIGhlaWdodC93aWR0aFxuXHRcdC8vIGFuaW1hdGlvbnMgb24gaW5saW5lIGVsZW1lbnRzIHRoYXQgYXJlIGhhdmluZyB3aWR0aC9oZWlnaHQgYW5pbWF0ZWRcblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblxuXHRcdC8vIFRlc3QgZGVmYXVsdCBkaXNwbGF5IGlmIGRpc3BsYXkgaXMgY3VycmVudGx5IFwibm9uZVwiXG5cdFx0Y2hlY2tEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgP1xuXHRcdFx0alF1ZXJ5Ll9kYXRhKCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApIHx8IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5O1xuXG5cdFx0aWYgKCBjaGVja0Rpc3BsYXkgPT09IFwiaW5saW5lXCIgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHQvLyBpbmxpbmUtbGV2ZWwgZWxlbWVudHMgYWNjZXB0IGlubGluZS1ibG9jaztcblx0XHRcdC8vIGJsb2NrLWxldmVsIGVsZW1lbnRzIG5lZWQgdG8gYmUgaW5saW5lIHdpdGggbGF5b3V0XG5cdFx0XHRpZiAoICFzdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQgfHwgZGVmYXVsdERpc3BsYXkoIGVsZW0ubm9kZU5hbWUgKSA9PT0gXCJpbmxpbmVcIiApIHtcblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdHlsZS56b29tID0gMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGlmICggIXN1cHBvcnQuc2hyaW5rV3JhcEJsb2NrcygpICkge1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0XHR9ICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gc2hvdy9oaWRlIHBhc3Ncblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy5leGVjKCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBkYXRhU2hvdyBsZWZ0IG92ZXIgZnJvbSBhIHN0b3BwZWQgaGlkZSBvciBzaG93XG5cdFx0XHRcdC8vIGFuZCB3ZSBhcmUgZ29pbmcgdG8gcHJvY2VlZCB3aXRoIHNob3csIHdlIHNob3VsZCBwcmV0ZW5kIHRvIGJlIGhpZGRlblxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblxuXHRcdC8vIEFueSBub24tZnggdmFsdWUgc3RvcHMgdXMgZnJvbSByZXN0b3JpbmcgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWVcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGlzcGxheSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRpZiAoICFqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YVNob3cgPSBqUXVlcnkuX2RhdGEoIGVsZW0sIFwiZnhzaG93XCIsIHt9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gc3RvcmUgc3RhdGUgaWYgaXRzIHRvZ2dsZSAtIGVuYWJsZXMgLnN0b3AoKS50b2dnbGUoKSB0byBcInJldmVyc2VcIlxuXHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHR9XG5cdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRqUXVlcnkoIGVsZW0gKS5zaG93KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeSggZWxlbSApLmhpZGUoKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcm9wO1xuXHRcdFx0alF1ZXJ5Ll9yZW1vdmVEYXRhKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdHR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cblx0XHRcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xuXHRcdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gdHdlZW4uc3RhcnQ7XG5cdFx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRcdHR3ZWVuLmVuZCA9IHR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRcdHR3ZWVuLnN0YXJ0ID0gcHJvcCA9PT0gXCJ3aWR0aFwiIHx8IHByb3AgPT09IFwiaGVpZ2h0XCIgPyAxIDogMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHQvLyBJZiB0aGlzIGlzIGEgbm9vcCBsaWtlIC5oaWRlKCkuaGlkZSgpLCByZXN0b3JlIGFuIG92ZXJ3cml0dGVuIGRpc3BsYXkgdmFsdWVcblx0fSBlbHNlIGlmICggKCBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5ICkgPT09IFwiaW5saW5lXCIgKSB7XG5cdFx0c3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIG5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b250IG92ZXJ3cml0ZSBrZXlzIGFscmVhZHkgcHJlc2VudC5cblx0XHRcdC8vIGFsc28gLSByZXVzaW5nICdpbmRleCcgZnJvbSBhYm92ZSBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGRvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjNcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2UoIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRwcm9wczogalF1ZXJ5LmV4dGVuZCgge30sIHByb3BlcnRpZXMgKSxcblx0XHRcdG9wdHM6IGpRdWVyeS5leHRlbmQoIHRydWUsIHtcblx0XHRcdFx0c3BlY2lhbEVhc2luZzoge30sXG5cdFx0XHRcdGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdFxuXHRcdFx0fSwgb3B0aW9ucyApLFxuXHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuXHRcdFx0b3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0c3RhcnRUaW1lOiBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHR0d2VlbnM6IFtdLFxuXHRcdFx0Y3JlYXRlVHdlZW46IGZ1bmN0aW9uKCBwcm9wLCBlbmQgKSB7XG5cdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcblx0XHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cblx0XHRcdFx0XHQvLyBpZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyByZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lXG5cdFx0XHRcdC8vIG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdGlmICggZ290b0VuZCApIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fSApLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0Ly8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4Lm9mZiA/IDAgOiB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID8gb3B0LmR1cmF0aW9uIDpcblx0XHRvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyA/XG5cdFx0XHRqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0Ly8gbm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIHNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW4gKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIGFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBqUXVlcnkuX2RhdGEoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBqUXVlcnkuX2RhdGEoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gc3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZFxuXHRcdFx0Ly8gdGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaCB3aWxsIGRlcXVldWVcblx0XHRcdC8vIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0galF1ZXJ5Ll9kYXRhKCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIGVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gZW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBsb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyB0dXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnNcbmpRdWVyeS5lYWNoKCB7XG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXG5cdHNsaWRlVXA6IGdlbkZ4KCBcImhpZGVcIiApLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoIFwidG9nZ2xlXCIgKSxcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXG5cdGZhZGVPdXQ6IHsgb3BhY2l0eTogXCJoaWRlXCIgfSxcblx0ZmFkZVRvZ2dsZTogeyBvcGFjaXR5OiBcInRvZ2dsZVwiIH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdGkgPSAwO1xuXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gQ2hlY2tzIHRoZSB0aW1lciBoYXMgbm90IGFscmVhZHkgYmVlbiByZW1vdmVkXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0aWYgKCB0aW1lcigpICkge1xuXHRcdGpRdWVyeS5meC5zdGFydCgpO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS50aW1lcnMucG9wKCk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzO1xuXG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gd2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cdHRpbWVySWQgPSBudWxsO1xufTtcblxualF1ZXJ5LmZ4LnNwZWVkcyA9IHtcblx0c2xvdzogNjAwLFxuXHRmYXN0OiAyMDAsXG5cblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHA6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0gKTtcbn07XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGEsXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvcHRpb25cIiApICk7XG5cblx0Ly8gU2V0dXBcblx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApO1xuXHRkaXYuc2V0QXR0cmlidXRlKCBcImNsYXNzTmFtZVwiLCBcInRcIiApO1xuXHRkaXYuaW5uZXJIVE1MID0gXCIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz5cIjtcblx0YSA9IGRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJhXCIgKVsgMCBdO1xuXG5cdC8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFwcHMgKFdXQSlcblx0Ly8gYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImNoZWNrYm94XCIgKTtcblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdGEgPSBkaXYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYVwiIClbIDAgXTtcblxuXHQvLyBGaXJzdCBiYXRjaCBvZiB0ZXN0cy5cblx0YS5zdHlsZS5jc3NUZXh0ID0gXCJ0b3A6MXB4XCI7XG5cblx0Ly8gVGVzdCBzZXRBdHRyaWJ1dGUgb24gY2FtZWxDYXNlIGNsYXNzLlxuXHQvLyBJZiBpdCB3b3Jrcywgd2UgbmVlZCBhdHRyRml4ZXMgd2hlbiBkb2luZyBnZXQvc2V0QXR0cmlidXRlIChpZTYvNylcblx0c3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGUgPSBkaXYuY2xhc3NOYW1lICE9PSBcInRcIjtcblxuXHQvLyBHZXQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZyb20gZ2V0QXR0cmlidXRlXG5cdC8vIChJRSB1c2VzIC5jc3NUZXh0IGluc3RlYWQpXG5cdHN1cHBvcnQuc3R5bGUgPSAvdG9wLy50ZXN0KCBhLmdldEF0dHJpYnV0ZSggXCJzdHlsZVwiICkgKTtcblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBVUkxzIGFyZW4ndCBtYW5pcHVsYXRlZFxuXHQvLyAoSUUgbm9ybWFsaXplcyBpdCBieSBkZWZhdWx0KVxuXHRzdXBwb3J0LmhyZWZOb3JtYWxpemVkID0gYS5nZXRBdHRyaWJ1dGUoIFwiaHJlZlwiICkgPT09IFwiL2FcIjtcblxuXHQvLyBDaGVjayB0aGUgZGVmYXVsdCBjaGVja2JveC9yYWRpbyB2YWx1ZSAoXCJcIiBvbiBXZWJLaXQ7IFwib25cIiBlbHNld2hlcmUpXG5cdHN1cHBvcnQuY2hlY2tPbiA9ICEhaW5wdXQudmFsdWU7XG5cblx0Ly8gTWFrZSBzdXJlIHRoYXQgYSBzZWxlY3RlZC1ieS1kZWZhdWx0IG9wdGlvbiBoYXMgYSB3b3JraW5nIHNlbGVjdGVkIHByb3BlcnR5LlxuXHQvLyAoV2ViS2l0IGRlZmF1bHRzIHRvIGZhbHNlIGluc3RlYWQgb2YgdHJ1ZSwgSUUgdG9vLCBpZiBpdCdzIGluIGFuIG9wdGdyb3VwKVxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFRlc3RzIGZvciBlbmN0eXBlIHN1cHBvcnQgb24gYSBmb3JtICgjNjc0Mylcblx0c3VwcG9ydC5lbmN0eXBlID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImZvcm1cIiApLmVuY3R5cGU7XG5cblx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIG9wdGlvbnMgaW5zaWRlIGRpc2FibGVkIHNlbGVjdHMgYXJlbid0IG1hcmtlZCBhcyBkaXNhYmxlZFxuXHQvLyAoV2ViS2l0IG1hcmtzIHRoZW0gYXMgZGlzYWJsZWQpXG5cdHNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG5cdHN1cHBvcnQub3B0RGlzYWJsZWQgPSAhb3B0LmRpc2FibGVkO1xuXG5cdC8vIFN1cHBvcnQ6IElFOCBvbmx5XG5cdC8vIENoZWNrIGlmIHdlIGNhbiB0cnVzdCBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRzdXBwb3J0LmlucHV0ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcblxuXHQvLyBDaGVjayBpZiBhbiBpbnB1dCBtYWludGFpbnMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cblx0aW5wdXQudmFsdWUgPSBcInRcIjtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBycmV0dXJuID0gL1xcci9nLFxuXHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0aG9va3MgJiZcblx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApICkgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIiA/XG5cblx0XHRcdFx0XHQvLyBoYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdFx0cmV0LnJlcGxhY2UoIHJyZXR1cm4sIFwiXCIgKSA6XG5cblx0XHRcdFx0XHQvLyBoYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0XHRyZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXHRcdFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAhPSBudWxsID9cblx0XHRcdFx0XHR2YWwgOlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUxMC0xMStcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdGpRdWVyeS50cmltKCBqUXVlcnkudGV4dCggZWxlbSApICkucmVwbGFjZSggcnNwYWNlcywgXCIgXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiIHx8IGluZGV4IDwgMCxcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IGluZGV4IDwgMCA/XG5cdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0b25lID8gaW5kZXggOiAwO1xuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gb2xkSUUgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQoIHN1cHBvcnQub3B0RGlzYWJsZWQgP1xuXHRcdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdG9wdGlvbi5nZXRBdHRyaWJ1dGUoIFwiZGlzYWJsZWRcIiApID09PSBudWxsICkgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHQhalF1ZXJ5Lm5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTZcblx0XHRcdFx0XHRcdC8vIFdoZW4gbmV3IG9wdGlvbiBlbGVtZW50IGlzIGFkZGVkIHRvIHNlbGVjdCBib3ggd2UgbmVlZCB0b1xuXHRcdFx0XHRcdFx0Ly8gZm9yY2UgcmVmbG93IG9mIG5ld2x5IGFkZGVkIG5vZGUgaW4gb3JkZXIgdG8gd29ya2Fyb3VuZCBkZWxheVxuXHRcdFx0XHRcdFx0Ly8gb2YgaW5pdGlhbGl6YXRpb24gcHJvcGVydGllc1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gb3B0aW9uU2V0ID0gdHJ1ZTtcblxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIF8gKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gV2lsbCBiZSBleGVjdXRlZCBvbmx5IGluIElFNlxuXHRcdFx0XHRcdFx0XHRvcHRpb24uc2Nyb2xsSGVpZ2h0O1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBvcHRpb25zO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG5vZGVIb29rLCBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGUsXG5cdHJ1c2VEZWZhdWx0ID0gL14oPzpjaGVja2VkfHNlbGVjdGVkKSQvaSxcblx0Z2V0U2V0QXR0cmlidXRlID0gc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGUsXG5cdGdldFNldElucHV0ID0gc3VwcG9ydC5pbnB1dDtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IGF0dHJpYnV0ZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlID09PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBhdHRyaWJ1dGVzIGFyZSBsb3dlcmNhc2Vcblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cdFx0XHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogbm9kZUhvb2sgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0Ly8gU2V0dGluZyB0aGUgdHlwZSBvbiBhIHJhZGlvIGJ1dHRvbiBhZnRlciB0aGUgdmFsdWUgcmVzZXRzIHRoZSB2YWx1ZSBpbiBJRTgtOVxuXHRcdFx0XHRcdC8vIFJlc2V0IHZhbHVlIHRvIGRlZmF1bHQgaW4gY2FzZSB0eXBlIGlzIHNldCBhZnRlciB2YWx1ZSBkdXJpbmcgY3JlYXRpb25cblx0XHRcdFx0XHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnZhbHVlID0gdmFsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdHZhciBuYW1lLCBwcm9wTmFtZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRwcm9wTmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblxuXHRcdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgZ2V0IHNwZWNpYWwgdHJlYXRtZW50ICgjMTA4NzApXG5cdFx0XHRcdGlmICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdFx0XHQvLyBTZXQgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB0byBmYWxzZVxuXHRcdFx0XHRcdGlmICggZ2V0U2V0SW5wdXQgJiYgZ2V0U2V0QXR0cmlidXRlIHx8ICFydXNlRGVmYXVsdC50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0XHRcdFx0Ly8gQWxzbyBjbGVhciBkZWZhdWx0Q2hlY2tlZC9kZWZhdWx0U2VsZWN0ZWQgKGlmIGFwcHJvcHJpYXRlKVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBqUXVlcnkuY2FtZWxDYXNlKCBcImRlZmF1bHQtXCIgKyBuYW1lICkgXSA9XG5cdFx0XHRcdFx0XHRcdGVsZW1bIHByb3BOYW1lIF0gPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2VlICM5Njk5IGZvciBleHBsYW5hdGlvbiBvZiB0aGlzIGFwcHJvYWNoIChzZXR0aW5nIGZpcnN0LCB0aGVuIHJlbW92YWwpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmF0dHIoIGVsZW0sIG5hbWUsIFwiXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBnZXRTZXRBdHRyaWJ1dGUgPyBuYW1lIDogcHJvcE5hbWUgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSG9va3MgZm9yIGJvb2xlYW4gYXR0cmlidXRlc1xuYm9vbEhvb2sgPSB7XG5cdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdGlmICggdmFsdWUgPT09IGZhbHNlICkge1xuXG5cdFx0XHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdH0gZWxzZSBpZiAoIGdldFNldElucHV0ICYmIGdldFNldEF0dHJpYnV0ZSB8fCAhcnVzZURlZmF1bHQudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBJRTw4IG5lZWRzIHRoZSAqcHJvcGVydHkqIG5hbWVcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCAhZ2V0U2V0QXR0cmlidXRlICYmIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSwgbmFtZSApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdFx0Ly8gVXNlIGRlZmF1bHRDaGVja2VkIGFuZCBkZWZhdWx0U2VsZWN0ZWQgZm9yIG9sZElFXG5cdFx0XHRlbGVtWyBqUXVlcnkuY2FtZWxDYXNlKCBcImRlZmF1bHQtXCIgKyBuYW1lICkgXSA9IGVsZW1bIG5hbWUgXSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRpZiAoIGdldFNldElucHV0ICYmIGdldFNldEF0dHJpYnV0ZSB8fCAhcnVzZURlZmF1bHQudGVzdCggbmFtZSApICkge1xuXHRcdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRcdHZhciByZXQsIGhhbmRsZTtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbmFtZSBdO1xuXHRcdFx0XHRhdHRySGFuZGxlWyBuYW1lIF0gPSByZXQ7XG5cdFx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdG51bGw7XG5cdFx0XHRcdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGhhbmRsZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW1bIGpRdWVyeS5jYW1lbENhc2UoIFwiZGVmYXVsdC1cIiArIG5hbWUgKSBdID9cblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdG51bGw7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG4vLyBmaXggb2xkSUUgYXR0cm9wZXJ0aWVzXG5pZiAoICFnZXRTZXRJbnB1dCB8fCAhZ2V0U2V0QXR0cmlidXRlICkge1xuXHRqUXVlcnkuYXR0ckhvb2tzLnZhbHVlID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdC8vIERvZXMgbm90IHJldHVybiBzbyB0aGF0IHNldEF0dHJpYnV0ZSBpcyBhbHNvIHVzZWRcblx0XHRcdFx0ZWxlbS5kZWZhdWx0VmFsdWUgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gVXNlIG5vZGVIb29rIGlmIGRlZmluZWQgKCMxOTU0KTsgb3RoZXJ3aXNlIHNldEF0dHJpYnV0ZSBpcyBmaW5lXG5cdFx0XHRcdHJldHVybiBub2RlSG9vayAmJiBub2RlSG9vay5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBJRTYvNyBkbyBub3Qgc3VwcG9ydCBnZXR0aW5nL3NldHRpbmcgc29tZSBhdHRyaWJ1dGVzIHdpdGggZ2V0L3NldEF0dHJpYnV0ZVxuaWYgKCAhZ2V0U2V0QXR0cmlidXRlICkge1xuXG5cdC8vIFVzZSB0aGlzIGZvciBhbnkgYXR0cmlidXRlIGluIElFNi83XG5cdC8vIFRoaXMgZml4ZXMgYWxtb3N0IGV2ZXJ5IElFNi83IGlzc3VlXG5cdG5vZGVIb29rID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkge1xuXG5cdFx0XHQvLyBTZXQgdGhlIGV4aXN0aW5nIG9yIGNyZWF0ZSBhIG5ldyBhdHRyaWJ1dGUgbm9kZVxuXHRcdFx0dmFyIHJldCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApO1xuXHRcdFx0aWYgKCAhcmV0ICkge1xuXHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZU5vZGUoXG5cdFx0XHRcdFx0KCByZXQgPSBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCBuYW1lICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXQudmFsdWUgPSB2YWx1ZSArPSBcIlwiO1xuXG5cdFx0XHQvLyBCcmVhayBhc3NvY2lhdGlvbiB3aXRoIGNsb25lZCBlbGVtZW50cyBieSBhbHNvIHVzaW5nIHNldEF0dHJpYnV0ZSAoIzk2NDYpXG5cdFx0XHRpZiAoIG5hbWUgPT09IFwidmFsdWVcIiB8fCB2YWx1ZSA9PT0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSApIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvLyBTb21lIGF0dHJpYnV0ZXMgYXJlIGNvbnN0cnVjdGVkIHdpdGggZW1wdHktc3RyaW5nIHZhbHVlcyB3aGVuIG5vdCBkZWZpbmVkXG5cdGF0dHJIYW5kbGUuaWQgPSBhdHRySGFuZGxlLm5hbWUgPSBhdHRySGFuZGxlLmNvb3JkcyA9XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdFx0dmFyIHJldDtcblx0XHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0XHRyZXR1cm4gKCByZXQgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSApICYmIHJldC52YWx1ZSAhPT0gXCJcIiA/XG5cdFx0XHRcdFx0cmV0LnZhbHVlIDpcblx0XHRcdFx0XHRudWxsO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0Ly8gRml4aW5nIHZhbHVlIHJldHJpZXZhbCBvbiBhIGJ1dHRvbiByZXF1aXJlcyB0aGlzIG1vZHVsZVxuXHRqUXVlcnkudmFsSG9va3MuYnV0dG9uID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0XHR2YXIgcmV0ID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICk7XG5cdFx0XHRpZiAoIHJldCAmJiByZXQuc3BlY2lmaWVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0LnZhbHVlO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2V0OiBub2RlSG9vay5zZXRcblx0fTtcblxuXHQvLyBTZXQgY29udGVudGVkaXRhYmxlIHRvIGZhbHNlIG9uIHJlbW92YWxzKCMxMDQyOSlcblx0Ly8gU2V0dGluZyB0byBlbXB0eSBzdHJpbmcgdGhyb3dzIGFuIGVycm9yIGFzIGFuIGludmFsaWQgdmFsdWVcblx0alF1ZXJ5LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGUgPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0XHRub2RlSG9vay5zZXQoIGVsZW0sIHZhbHVlID09PSBcIlwiID8gZmFsc2UgOiB2YWx1ZSwgbmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvLyBTZXQgd2lkdGggYW5kIGhlaWdodCB0byBhdXRvIGluc3RlYWQgb2YgMCBvbiBlbXB0eSBzdHJpbmcoIEJ1ZyAjODE1MCApXG5cdC8vIFRoaXMgaXMgZm9yIHJlbW92YWxzXG5cdGpRdWVyeS5lYWNoKCBbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0XHRqUXVlcnkuYXR0ckhvb2tzWyBuYW1lIF0gPSB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgXCJhdXRvXCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9ICk7XG59XG5cbmlmICggIXN1cHBvcnQuc3R5bGUgKSB7XG5cdGpRdWVyeS5hdHRySG9va3Muc3R5bGUgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gUmV0dXJuIHVuZGVmaW5lZCBpbiB0aGUgY2FzZSBvZiBlbXB0eSBzdHJpbmdcblx0XHRcdC8vIE5vdGU6IElFIHVwcGVyY2FzZXMgY3NzIHByb3BlcnR5IG5hbWVzLCBidXQgaWYgd2Ugd2VyZSB0byAudG9Mb3dlckNhc2UoKVxuXHRcdFx0Ly8gLmNzc1RleHQsIHRoYXQgd291bGQgZGVzdHJveSBjYXNlIHNlbnNpdGl2aXR5IGluIFVSTCdzLCBsaWtlIGluIFwiYmFja2dyb3VuZFwiXG5cdFx0XHRyZXR1cm4gZWxlbS5zdHlsZS5jc3NUZXh0IHx8IHVuZGVmaW5lZDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuICggZWxlbS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgKyBcIlwiICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gdHJ5L2NhdGNoIGhhbmRsZXMgY2FzZXMgd2hlcmUgSUUgYmFsa3MgKHN1Y2ggYXMgcmVtb3ZpbmcgYSBwcm9wZXJ0eSBvbiB3aW5kb3cpXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzWyBuYW1lIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzWyBuYW1lIF07XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuXHRcdFx0XHQvLyBodHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRyZXR1cm4gdGFiaW5kZXggP1xuXHRcdFx0XHRcdHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKSA6XG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmIGVsZW0uaHJlZiA/XG5cdFx0XHRcdFx0XHRcdDAgOlxuXHRcdFx0XHRcdFx0XHQtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFNvbWUgYXR0cmlidXRlcyByZXF1aXJlIGEgc3BlY2lhbCBjYWxsIG9uIElFXG4vLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XG5pZiAoICFzdXBwb3J0LmhyZWZOb3JtYWxpemVkICkge1xuXG5cdC8vIGhyZWYvc3JjIHByb3BlcnR5IHNob3VsZCBnZXQgdGhlIGZ1bGwgbm9ybWFsaXplZCBVUkwgKCMxMDI5OS8jMTI5MTUpXG5cdGpRdWVyeS5lYWNoKCBbIFwiaHJlZlwiLCBcInNyY1wiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXSA9IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgNCApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cblxuLy8gU3VwcG9ydDogU2FmYXJpLCBJRTkrXG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XG5cblx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgaXQgYWxzbyB3b3JrcyB3aXRoIG9wdGdyb3Vwcywgc2VlICM1NzAxXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG4vLyBJRTYvNyBjYWxsIGVuY3R5cGUgZW5jb2RpbmdcbmlmICggIXN1cHBvcnQuZW5jdHlwZSApIHtcblx0alF1ZXJ5LnByb3BGaXguZW5jdHlwZSA9IFwiZW5jb2RpbmdcIjtcbn1cblxuXG5cblxudmFyIHJjbGFzcyA9IC9bXFx0XFxyXFxuXFxmXS9nO1xuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5hdHRyKCBlbGVtLCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSApIHtcblx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGN1clZhbHVlICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gb25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0galF1ZXJ5LnRyaW0oIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuYXR0ciggZWxlbSwgXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hdHRyKCBcImNsYXNzXCIsIFwiXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSApIHtcblx0XHRcdGNsYXNzZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHQoIFwiIFwiICsgY3VyVmFsdWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmF0dHIoIGVsZW0sIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0Ly8gc3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGpRdWVyeS5fZGF0YSggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgXCJmYWxzZVwiLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGpRdWVyeS5hdHRyKCB0aGlzLCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0alF1ZXJ5Ll9kYXRhKCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCJcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBnZXRDbGFzcyggZWxlbSApICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMVxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxuXG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbnZhciBydmFsaWR0b2tlbnMgPSAvKCwpfChcXFt8eyl8KH18XSl8XCIoPzpbXlwiXFxcXFxcclxcbl18XFxcXFtcIlxcXFxcXC9iZm5ydF18XFxcXHVbXFxkYS1mQS1GXXs0fSkqXCJcXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxcZClcXGQrKD86XFwuXFxkK3wpKD86W2VFXVsrLV0/XFxkK3wpL2c7XG5cbmpRdWVyeS5wYXJzZUpTT04gPSBmdW5jdGlvbiggZGF0YSApIHtcblxuXHQvLyBBdHRlbXB0IHRvIHBhcnNlIHVzaW5nIHRoZSBuYXRpdmUgSlNPTiBwYXJzZXIgZmlyc3Rcblx0aWYgKCB3aW5kb3cuSlNPTiAmJiB3aW5kb3cuSlNPTi5wYXJzZSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0Ly8gV29ya2Fyb3VuZCBmYWlsdXJlIHRvIHN0cmluZy1jYXN0IG51bGwgaW5wdXRcblx0XHRyZXR1cm4gd2luZG93LkpTT04ucGFyc2UoIGRhdGEgKyBcIlwiICk7XG5cdH1cblxuXHR2YXIgcmVxdWlyZU5vbkNvbW1hLFxuXHRcdGRlcHRoID0gbnVsbCxcblx0XHRzdHIgPSBqUXVlcnkudHJpbSggZGF0YSArIFwiXCIgKTtcblxuXHQvLyBHdWFyZCBhZ2FpbnN0IGludmFsaWQgKGFuZCBwb3NzaWJseSBkYW5nZXJvdXMpIGlucHV0IGJ5IGVuc3VyaW5nIHRoYXQgbm90aGluZyByZW1haW5zXG5cdC8vIGFmdGVyIHJlbW92aW5nIHZhbGlkIHRva2Vuc1xuXHRyZXR1cm4gc3RyICYmICFqUXVlcnkudHJpbSggc3RyLnJlcGxhY2UoIHJ2YWxpZHRva2VucywgZnVuY3Rpb24oIHRva2VuLCBjb21tYSwgb3BlbiwgY2xvc2UgKSB7XG5cblx0XHQvLyBGb3JjZSB0ZXJtaW5hdGlvbiBpZiB3ZSBzZWUgYSBtaXNwbGFjZWQgY29tbWFcblx0XHRpZiAoIHJlcXVpcmVOb25Db21tYSAmJiBjb21tYSApIHtcblx0XHRcdGRlcHRoID0gMDtcblx0XHR9XG5cblx0XHQvLyBQZXJmb3JtIG5vIG1vcmUgcmVwbGFjZW1lbnRzIGFmdGVyIHJldHVybmluZyB0byBvdXRlcm1vc3QgZGVwdGhcblx0XHRpZiAoIGRlcHRoID09PSAwICkge1xuXHRcdFx0cmV0dXJuIHRva2VuO1xuXHRcdH1cblxuXHRcdC8vIENvbW1hcyBtdXN0IG5vdCBmb2xsb3cgXCJbXCIsIFwie1wiLCBvciBcIixcIlxuXHRcdHJlcXVpcmVOb25Db21tYSA9IG9wZW4gfHwgY29tbWE7XG5cblx0XHQvLyBEZXRlcm1pbmUgbmV3IGRlcHRoXG5cdFx0Ly8gYXJyYXkvb2JqZWN0IG9wZW4gKFwiW1wiIG9yIFwie1wiKTogZGVwdGggKz0gdHJ1ZSAtIGZhbHNlIChpbmNyZW1lbnQpXG5cdFx0Ly8gYXJyYXkvb2JqZWN0IGNsb3NlIChcIl1cIiBvciBcIn1cIik6IGRlcHRoICs9IGZhbHNlIC0gdHJ1ZSAoZGVjcmVtZW50KVxuXHRcdC8vIG90aGVyIGNhc2VzIChcIixcIiBvciBwcmltaXRpdmUpOiBkZXB0aCArPSB0cnVlIC0gdHJ1ZSAobnVtZXJpYyBjYXN0KVxuXHRcdGRlcHRoICs9ICFjbG9zZSAtICFvcGVuO1xuXG5cdFx0Ly8gUmVtb3ZlIHRoaXMgdG9rZW5cblx0XHRyZXR1cm4gXCJcIjtcblx0fSApICkgP1xuXHRcdCggRnVuY3Rpb24oIFwicmV0dXJuIFwiICsgc3RyICkgKSgpIDpcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBKU09OOiBcIiArIGRhdGEgKTtcbn07XG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWwsIHRtcDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR0cnkge1xuXHRcdGlmICggd2luZG93LkRPTVBhcnNlciApIHsgLy8gU3RhbmRhcmRcblx0XHRcdHRtcCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCk7XG5cdFx0XHR4bWwgPSB0bXAucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0XHR9IGVsc2UgeyAvLyBJRVxuXHRcdFx0eG1sID0gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxET01cIiApO1xuXHRcdFx0eG1sLmFzeW5jID0gXCJmYWxzZVwiO1xuXHRcdFx0eG1sLmxvYWRYTUwoIGRhdGEgKTtcblx0XHR9XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXHRpZiAoICF4bWwgfHwgIXhtbC5kb2N1bWVudEVsZW1lbnQgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKS5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0fVxuXHRyZXR1cm4geG1sO1xufTtcblxuXG52YXJcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJ0cyA9IC8oWz8mXSlfPVteJl0qLyxcblxuXHQvLyBJRSBsZWF2ZXMgYW4gXFxyIGNoYXJhY3RlciBhdCBFT0xcblx0cmhlYWRlcnMgPSAvXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKilcXHI/JC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblx0cnVybCA9IC9eKFtcXHcuKy1dKzopKD86XFwvXFwvKD86W15cXC8/I10qQHwpKFteXFwvPyM6XSopKD86OihcXGQrKXwpfCkvLFxuXG5cdC8qIFByZWZpbHRlcnNcblx0ICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcblx0ICogMikgVGhlc2UgYXJlIGNhbGxlZDpcblx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHQgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG5cdCAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0cHJlZmlsdGVycyA9IHt9LFxuXG5cdC8qIFRyYW5zcG9ydHMgYmluZGluZ3Ncblx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0dHJhbnNwb3J0cyA9IHt9LFxuXG5cdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoIFwiKlwiICksXG5cblx0Ly8gRG9jdW1lbnQgbG9jYXRpb25cblx0YWpheExvY2F0aW9uID0gbG9jYXRpb24uaHJlZixcblxuXHQvLyBTZWdtZW50IGxvY2F0aW9uIGludG8gcGFydHNcblx0YWpheExvY1BhcnRzID0gcnVybC5leGVjKCBhamF4TG9jYXRpb24udG9Mb3dlckNhc2UoKSApIHx8IFtdO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZS5jaGFyQXQoIDAgKSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBkZWVwLCBrZXksXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cdHZhciBmaXJzdERhdGFUeXBlLCBjdCwgZmluYWxEYXRhVHlwZSwgdHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzWyBcInRocm93c1wiIF0gKSB7IC8vIGpzY3M6aWdub3JlIHJlcXVpcmVEb3ROb3RhdGlvblxuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGFqYXhMb2NhdGlvbixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGFqYXhMb2NQYXJ0c1sgMSBdICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBqUXVlcnkucGFyc2VKU09OLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhclxuXG5cdFx0XHQvLyBDcm9zcy1kb21haW4gZGV0ZWN0aW9uIHZhcnNcblx0XHRcdHBhcnRzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVycyBhcyBzdHJpbmdcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0dHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cblx0XHRcdC8vIFRoZSBqcVhIUiBzdGF0ZVxuXHRcdFx0c3RhdGUgPSAwLFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBzdGF0ZSA9PT0gMiApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSYXcgc3RyaW5nXG5cdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlID09PSAyID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0dmFyIGxuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdGlmICggIXN0YXRlICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBsbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggIXN0YXRlICkge1xuXHRcdFx0XHRcdFx0cy5taW1lVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XG5cdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIHN0YXRlIDwgMiApIHtcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKS5jb21wbGV0ZSA9IGNvbXBsZXRlRGVmZXJyZWQuYWRkO1xuXHRcdGpxWEhSLnN1Y2Nlc3MgPSBqcVhIUi5kb25lO1xuXHRcdGpxWEhSLmVycm9yID0ganFYSFIuZmFpbDtcblxuXHRcdC8vIFJlbW92ZSBoYXNoIGNoYXJhY3RlciAoIzc1MzE6IGFuZCBzdHJpbmcgcHJvbW90aW9uKVxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKCM1ODY2OiBJRTcgaXNzdWUgd2l0aCBwcm90b2NvbC1sZXNzIHVybHMpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgYWpheExvY2F0aW9uICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCByaGFzaCwgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBhamF4TG9jUGFydHNbIDEgXSArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0cy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRzLmRhdGFUeXBlcyA9IGpRdWVyeS50cmltKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gd2UgaGF2ZSBhIHByb3RvY29sOmhvc3Q6cG9ydCBtaXNtYXRjaFxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0cGFydHMgPSBydXJsLmV4ZWMoIHMudXJsLnRvTG93ZXJDYXNlKCkgKTtcblx0XHRcdHMuY3Jvc3NEb21haW4gPSAhISggcGFydHMgJiZcblx0XHRcdFx0KCBwYXJ0c1sgMSBdICE9PSBhamF4TG9jUGFydHNbIDEgXSB8fCBwYXJ0c1sgMiBdICE9PSBhamF4TG9jUGFydHNbIDIgXSB8fFxuXHRcdFx0XHRcdCggcGFydHNbIDMgXSB8fCAoIHBhcnRzWyAxIF0gPT09IFwiaHR0cDpcIiA/IFwiODBcIiA6IFwiNDQzXCIgKSApICE9PVxuXHRcdFx0XHRcdFx0KCBhamF4TG9jUGFydHNbIDMgXSB8fCAoIGFqYXhMb2NQYXJ0c1sgMSBdID09PSBcImh0dHA6XCIgPyBcIjgwXCIgOiBcIjQ0M1wiICkgKSApXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybDtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSAoIHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGEgKTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBhbnRpLWNhY2hlIGluIHVybCBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHMudXJsID0gcnRzLnRlc3QoIGNhY2hlVVJMICkgP1xuXG5cdFx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhICdfJyBwYXJhbWV0ZXIsIHNldCBpdHMgdmFsdWVcblx0XHRcdFx0XHRjYWNoZVVSTC5yZXBsYWNlKCBydHMsIFwiJDFfPVwiICsgbm9uY2UrKyApIDpcblxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSBhZGQgb25lIHRvIHRoZSBlbmRcblx0XHRcdFx0XHRjYWNoZVVSTCArICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBcIl89XCIgKyBub25jZSsrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxuXHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcIkFjY2VwdFwiLFxuXHRcdFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XG5cdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHQoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxuXHRcdFx0XHRzLmFjY2VwdHNbIFwiKlwiIF1cblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXG5cdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBzLmhlYWRlcnNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcblx0XHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxuXHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBzdGF0ZSA9PT0gMiApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIGFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Zm9yICggaSBpbiB7IHN1Y2Nlc3M6IDEsIGVycm9yOiAxLCBjb21wbGV0ZTogMSB9ICkge1xuXHRcdFx0anFYSFJbIGkgXSggc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHRyYW5zcG9ydFxuXHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XG5cdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0ZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cblx0XHRcdC8vIFNlbmQgZ2xvYmFsIGV2ZW50XG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4U2VuZFwiLCBbIGpxWEhSLCBzIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcblx0XHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHN0YXRlID0gMTtcblx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBQcm9wYWdhdGUgZXhjZXB0aW9uIGFzIGVycm9yIGlmIG5vdCBkb25lXG5cdFx0XHRcdGlmICggc3RhdGUgPCAyICkge1xuXHRcdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cblx0XHRcdFx0Ly8gU2ltcGx5IHJldGhyb3cgb3RoZXJ3aXNlXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIENhbGxlZCBvbmNlXG5cdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXRlIGlzIFwiZG9uZVwiIG5vd1xuXHRcdFx0c3RhdGUgPSAyO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuXG5cdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXG5cdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJMYXN0LU1vZGlmaWVkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcImV0YWdcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGlmIG5vIGNvbnRlbnRcblx0XHRcdFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFwiSEVBRFwiICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xuXG5cdFx0XHRcdC8vIGlmIG5vdCBtb2RpZmllZFxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub3Rtb2RpZmllZFwiO1xuXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSByZXNwb25zZS5zdGF0ZTtcblx0XHRcdFx0XHRzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcblx0XHRcdFx0XHRlcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuXHRcdFx0XHRcdGlzU3VjY2VzcyA9ICFlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBXZSBleHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dFxuXHRcdFx0XHQvLyB0aGVuIG5vcm1hbGl6ZSBzdGF0dXNUZXh0IGFuZCBzdGF0dXMgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gc2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGNhY2hlOiB0cnVlLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpc1sgMCBdICkge1xuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0dmFyIHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdENoaWxkICYmIGVsZW0uZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnBhcmVudCgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImJvZHlcIiApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0XHR9XG5cdFx0fSApLmVuZCgpO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gZ2V0RGlzcGxheSggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uc3R5bGUgJiYgZWxlbS5zdHlsZS5kaXNwbGF5IHx8IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG59XG5cbmZ1bmN0aW9uIGZpbHRlckhpZGRlbiggZWxlbSApIHtcblx0d2hpbGUgKCBlbGVtICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0aWYgKCBnZXREaXNwbGF5KCBlbGVtICkgPT09IFwibm9uZVwiIHx8IGVsZW0udHlwZSA9PT0gXCJoaWRkZW5cIiApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxualF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblxuXHQvLyBTdXBwb3J0OiBPcGVyYSA8PSAxMi4xMlxuXHQvLyBPcGVyYSByZXBvcnRzIG9mZnNldFdpZHRocyBhbmQgb2Zmc2V0SGVpZ2h0cyBsZXNzIHRoYW4gemVybyBvbiBzb21lIGVsZW1lbnRzXG5cdHJldHVybiBzdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpID9cblx0XHQoIGVsZW0ub2Zmc2V0V2lkdGggPD0gMCAmJiBlbGVtLm9mZnNldEhlaWdodCA8PSAwICYmXG5cdFx0XHQhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIDpcblx0XHRcdGZpbHRlckhpZGRlbiggZWxlbSApO1xufTtcblxualF1ZXJ5LmV4cHIuZmlsdGVycy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW4oIGVsZW0gKTtcbn07XG5cblxuXG5cbnZhciByMjAgPSAvJTIwL2csXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIG9iaiApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0cHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiICkgKyBcIl1cIixcblx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdGFkZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHJldHVybiBpdHMgdmFsdWVcblx0XHRcdHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgPyB2YWx1ZSgpIDogKCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gU2V0IHRyYWRpdGlvbmFsIHRvIHRydWUgZm9yIGpRdWVyeSA8PSAxLjMuMiBiZWhhdmlvci5cblx0aWYgKCB0cmFkaXRpb25hbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHRyYWRpdGlvbmFsID0galF1ZXJ5LmFqYXhTZXR0aW5ncyAmJiBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsO1xuXHR9XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBqUXVlcnkuaXNBcnJheSggYSApIHx8ICggYS5qcXVlcnkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBhICkgKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSApO1xuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICkucmVwbGFjZSggcjIwLCBcIitcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyhcIjpkaXNhYmxlZFwiKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG4vLyBDcmVhdGUgdGhlIHJlcXVlc3Qgb2JqZWN0XG4vLyAoVGhpcyBpcyBzdGlsbCBhdHRhY2hlZCB0byBhamF4U2V0dGluZ3MgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IHdpbmRvdy5BY3RpdmVYT2JqZWN0ICE9PSB1bmRlZmluZWQgP1xuXG5cdC8vIFN1cHBvcnQ6IElFNi1JRThcblx0ZnVuY3Rpb24oKSB7XG5cblx0XHQvLyBYSFIgY2Fubm90IGFjY2VzcyBsb2NhbCBmaWxlcywgYWx3YXlzIHVzZSBBY3RpdmVYIGZvciB0aGF0IGNhc2Vcblx0XHRpZiAoIHRoaXMuaXNMb2NhbCApIHtcblx0XHRcdHJldHVybiBjcmVhdGVBY3RpdmVYSFIoKTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5LTExXG5cdFx0Ly8gSUUgc2VlbXMgdG8gZXJyb3Igb24gY3Jvc3MtZG9tYWluIFBBVENIIHJlcXVlc3RzIHdoZW4gQWN0aXZlWCBYSFJcblx0XHQvLyBpcyB1c2VkLiBJbiBJRSA5KyBhbHdheXMgdXNlIHRoZSBuYXRpdmUgWEhSLlxuXHRcdC8vIE5vdGU6IHRoaXMgY29uZGl0aW9uIHdvbid0IGNhdGNoIEVkZ2UgYXMgaXQgZG9lc24ndCBkZWZpbmVcblx0XHQvLyBkb2N1bWVudC5kb2N1bWVudE1vZGUgYnV0IGl0IGFsc28gZG9lc24ndCBzdXBwb3J0IEFjdGl2ZVggc28gaXQgd29uJ3Rcblx0XHQvLyByZWFjaCB0aGlzIGNvZGUuXG5cdFx0aWYgKCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPiA4ICkge1xuXHRcdFx0cmV0dXJuIGNyZWF0ZVN0YW5kYXJkWEhSKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIG9sZElFIFhIUiBkb2VzIG5vdCBzdXBwb3J0IG5vbi1SRkMyNjE2IG1ldGhvZHMgKCMxMzI0MClcblx0XHQvLyBTZWUgaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL21zNTM2NjQ4KHY9dnMuODUpLmFzcHhcblx0XHQvLyBhbmQgaHR0cDovL3d3dy53My5vcmcvUHJvdG9jb2xzL3JmYzI2MTYvcmZjMjYxNi1zZWM5Lmh0bWwjc2VjOVxuXHRcdC8vIEFsdGhvdWdoIHRoaXMgY2hlY2sgZm9yIHNpeCBtZXRob2RzIGluc3RlYWQgb2YgZWlnaHRcblx0XHQvLyBzaW5jZSBJRSBhbHNvIGRvZXMgbm90IHN1cHBvcnQgXCJ0cmFjZVwiIGFuZCBcImNvbm5lY3RcIlxuXHRcdHJldHVybiAvXihnZXR8cG9zdHxoZWFkfHB1dHxkZWxldGV8b3B0aW9ucykkL2kudGVzdCggdGhpcy50eXBlICkgJiZcblx0XHRcdGNyZWF0ZVN0YW5kYXJkWEhSKCkgfHwgY3JlYXRlQWN0aXZlWEhSKCk7XG5cdH0gOlxuXG5cdC8vIEZvciBhbGwgb3RoZXIgYnJvd3NlcnMsIHVzZSB0aGUgc3RhbmRhcmQgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0XG5cdGNyZWF0ZVN0YW5kYXJkWEhSO1xuXG52YXIgeGhySWQgPSAwLFxuXHR4aHJDYWxsYmFja3MgPSB7fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuLy8gU3VwcG9ydDogSUU8MTBcbi8vIE9wZW4gcmVxdWVzdHMgbXVzdCBiZSBtYW51YWxseSBhYm9ydGVkIG9uIHVubG9hZCAoIzUyODApXG4vLyBTZWUgaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20va2IvMjg1Njc0NiBmb3IgbW9yZSBpbmZvXG5pZiAoIHdpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0d2luZG93LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIGZ1bmN0aW9uKCkge1xuXHRcdGZvciAoIHZhciBrZXkgaW4geGhyQ2FsbGJhY2tzICkge1xuXHRcdFx0eGhyQ2FsbGJhY2tzWyBrZXkgXSggdW5kZWZpbmVkLCB0cnVlICk7XG5cdFx0fVxuXHR9ICk7XG59XG5cbi8vIERldGVybWluZSBzdXBwb3J0IHByb3BlcnRpZXNcbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnhoclN1cHBvcnRlZCA9IHN1cHBvcnQuYWpheCA9ICEheGhyU3VwcG9ydGVkO1xuXG4vLyBDcmVhdGUgdHJhbnNwb3J0IGlmIHRoZSBicm93c2VyIGNhbiBwcm92aWRlIGFuIHhoclxuaWYgKCB4aHJTdXBwb3J0ZWQgKSB7XG5cblx0alF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuXHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gfHwgc3VwcG9ydC5jb3JzICkge1xuXG5cdFx0XHR2YXIgY2FsbGJhY2s7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCksXG5cdFx0XHRcdFx0XHRpZCA9ICsreGhySWQ7XG5cblx0XHRcdFx0XHQvLyBPcGVuIHRoZSBzb2NrZXRcblx0XHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHRcdFx0XHRcdC8vIElFJ3MgQWN0aXZlWE9iamVjdCB0aHJvd3MgYSAnVHlwZSBNaXNtYXRjaCcgZXhjZXB0aW9uIHdoZW4gc2V0dGluZ1xuXHRcdFx0XHRcdFx0Ly8gcmVxdWVzdCBoZWFkZXIgdG8gYSBudWxsLXZhbHVlLlxuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdC8vIFRvIGtlZXAgY29uc2lzdGVudCB3aXRoIG90aGVyIFhIUiBpbXBsZW1lbnRhdGlvbnMsIGNhc3QgdGhlIHZhbHVlXG5cdFx0XHRcdFx0XHQvLyB0byBzdHJpbmcgYW5kIGlnbm9yZSBgdW5kZWZpbmVkYC5cblx0XHRcdFx0XHRcdGlmICggaGVhZGVyc1sgaSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKyBcIlwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRcdC8vIFRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbiB3aGljaCBpcyBhY3R1YWxseVxuXHRcdFx0XHRcdC8vIGhhbmRsZWQgaW4galF1ZXJ5LmFqYXggKHNvIG5vIHRyeS9jYXRjaCBoZXJlKVxuXHRcdFx0XHRcdHhoci5zZW5kKCAoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgKSB8fCBudWxsICk7XG5cblx0XHRcdFx0XHQvLyBMaXN0ZW5lclxuXHRcdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIF8sIGlzQWJvcnQgKSB7XG5cdFx0XHRcdFx0XHR2YXIgc3RhdHVzLCBzdGF0dXNUZXh0LCByZXNwb25zZXM7XG5cblx0XHRcdFx0XHRcdC8vIFdhcyBuZXZlciBjYWxsZWQgYW5kIGlzIGFib3J0ZWQgb3IgY29tcGxldGVcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgJiYgKCBpc0Fib3J0IHx8IHhoci5yZWFkeVN0YXRlID09PSA0ICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQ2xlYW4gdXBcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIHhockNhbGxiYWNrc1sgaWQgXTtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBqUXVlcnkubm9vcDtcblxuXHRcdFx0XHRcdFx0XHQvLyBBYm9ydCBtYW51YWxseSBpZiBuZWVkZWRcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Fib3J0ICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgIT09IDQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VzID0ge307XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzID0geGhyLnN0YXR1cztcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDEwXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQWNjZXNzaW5nIGJpbmFyeS1kYXRhIHJlc3BvbnNlVGV4dCB0aHJvd3MgYW4gZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gKCMxMTQyNilcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VzLnRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZpcmVmb3ggdGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGFjY2Vzc2luZ1xuXHRcdFx0XHRcdFx0XHRcdC8vIHN0YXR1c1RleHQgZm9yIGZhdWx0eSBjcm9zcy1kb21haW4gcmVxdWVzdHNcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0O1xuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBXZSBub3JtYWxpemUgd2l0aCBXZWJraXQgZ2l2aW5nIGFuIGVtcHR5IHN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIlwiO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZpbHRlciBzdGF0dXMgZm9yIG5vbiBzdGFuZGFyZCBiZWhhdmlvcnNcblxuXHRcdFx0XHRcdFx0XHRcdC8vIElmIHRoZSByZXF1ZXN0IGlzIGxvY2FsIGFuZCB3ZSBoYXZlIGRhdGE6IGFzc3VtZSBhIHN1Y2Nlc3Ncblx0XHRcdFx0XHRcdFx0XHQvLyAoc3VjY2VzcyB3aXRoIG5vIGRhdGEgd29uJ3QgZ2V0IG5vdGlmaWVkLCB0aGF0J3MgdGhlIGJlc3Qgd2Vcblx0XHRcdFx0XHRcdFx0XHQvLyBjYW4gZG8gZ2l2ZW4gY3VycmVudCBpbXBsZW1lbnRhdGlvbnMpXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhc3RhdHVzICYmIG9wdGlvbnMuaXNMb2NhbCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1cyA9IHJlc3BvbnNlcy50ZXh0ID8gMjAwIDogNDA0O1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSUUgLSAjMTQ1MDogc29tZXRpbWVzIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDEyMjMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXMgPSAyMDQ7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIENhbGwgY29tcGxldGUgaWYgbmVlZGVkXG5cdFx0XHRcdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIHN0YXR1cywgc3RhdHVzVGV4dCwgcmVzcG9uc2VzLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRcdC8vIGB4aHIuc2VuZGAgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbiwgYnV0IGl0IHdpbGwgYmVcblx0XHRcdFx0XHQvLyBoYW5kbGVkIGluIGpRdWVyeS5hamF4IChzbyBubyB0cnkvY2F0Y2ggaGVyZSlcblx0XHRcdFx0XHRpZiAoICFvcHRpb25zLmFzeW5jICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiB3ZSdyZSBpbiBzeW5jIG1vZGUgd2UgZmlyZSB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIChJRTYgJiBJRTcpIGlmIGl0J3MgaW4gY2FjaGUgYW5kIGhhcyBiZWVuXG5cdFx0XHRcdFx0XHQvLyByZXRyaWV2ZWQgZGlyZWN0bHkgd2UgbmVlZCB0byBmaXJlIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVnaXN0ZXIgdGhlIGNhbGxiYWNrLCBidXQgZGVsYXkgaXQgaW4gY2FzZSBgeGhyLnNlbmRgIHRocm93c1xuXHRcdFx0XHRcdFx0Ly8gQWRkIHRvIHRoZSBsaXN0IG9mIGFjdGl2ZSB4aHIgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0geGhyQ2FsbGJhY2tzWyBpZCBdID0gY2FsbGJhY2s7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soIHVuZGVmaW5lZCwgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdH0gKTtcbn1cblxuLy8gRnVuY3Rpb25zIHRvIGNyZWF0ZSB4aHJzXG5mdW5jdGlvbiBjcmVhdGVTdGFuZGFyZFhIUigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFjdGl2ZVhIUigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxIVFRQXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7fVxufVxuXG5cblxuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuXHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGdsb2JhbFxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdFx0cy5nbG9iYWwgPSBmYWxzZTtcblx0fVxufSApO1xuXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblxuXHRcdHZhciBzY3JpcHQsXG5cdFx0XHRoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBqUXVlcnkoIFwiaGVhZFwiIClbIDAgXSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRyZXR1cm4ge1xuXG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY2FsbGJhY2sgKSB7XG5cblx0XHRcdFx0c2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzY3JpcHRcIiApO1xuXG5cdFx0XHRcdHNjcmlwdC5hc3luYyA9IHRydWU7XG5cblx0XHRcdFx0aWYgKCBzLnNjcmlwdENoYXJzZXQgKSB7XG5cdFx0XHRcdFx0c2NyaXB0LmNoYXJzZXQgPSBzLnNjcmlwdENoYXJzZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzY3JpcHQuc3JjID0gcy51cmw7XG5cblx0XHRcdFx0Ly8gQXR0YWNoIGhhbmRsZXJzIGZvciBhbGwgYnJvd3NlcnNcblx0XHRcdFx0c2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiggXywgaXNBYm9ydCApIHtcblxuXHRcdFx0XHRcdGlmICggaXNBYm9ydCB8fCAhc2NyaXB0LnJlYWR5U3RhdGUgfHwgL2xvYWRlZHxjb21wbGV0ZS8udGVzdCggc2NyaXB0LnJlYWR5U3RhdGUgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIG1lbW9yeSBsZWFrIGluIElFXG5cdFx0XHRcdFx0XHRzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSB0aGUgc2NyaXB0XG5cdFx0XHRcdFx0XHRpZiAoIHNjcmlwdC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0XHRzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIERlcmVmZXJlbmNlIHRoZSBzY3JpcHRcblx0XHRcdFx0XHRcdHNjcmlwdCA9IG51bGw7XG5cblx0XHRcdFx0XHRcdC8vIENhbGxiYWNrIGlmIG5vdCBhYm9ydFxuXHRcdFx0XHRcdFx0aWYgKCAhaXNBYm9ydCApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soIDIwMCwgXCJzdWNjZXNzXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gQ2lyY3VtdmVudCBJRTYgYnVncyB3aXRoIGJhc2UgZWxlbWVudHMgKCMyNzA5IGFuZCAjNDM3OCkgYnkgcHJlcGVuZGluZ1xuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoIHNjcmlwdCwgaGVhZC5maXJzdENoaWxkICk7XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggc2NyaXB0ICkge1xuXHRcdFx0XHRcdHNjcmlwdC5vbmxvYWQoIHVuZGVmaW5lZCwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gZm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBtYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIHNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gZGF0YTogc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0dmFyIHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApLFxuXHRcdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8vIEtlZXAgYSBjb3B5IG9mIHRoZSBvbGQgbG9hZCBtZXRob2RcbnZhciBfbG9hZCA9IGpRdWVyeS5mbi5sb2FkO1xuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHRpZiAoIHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIgJiYgX2xvYWQgKSB7XG5cdFx0cmV0dXJuIF9sb2FkLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fVxuXG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IGpRdWVyeS50cmltKCB1cmwuc2xpY2UoIG9mZiwgdXJsLmxlbmd0aCApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0cGFyYW1zID0gdW5kZWZpbmVkO1xuXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0fSBlbHNlIGlmICggcGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHR9XG5cblx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuXHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0gKS5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeSggXCI8ZGl2PlwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdHJlc3BvbnNlVGV4dCApO1xuXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuXHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuXG4vLyBBdHRhY2ggYSBidW5jaCBvZiBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIGNvbW1vbiBBSkFYIGV2ZW50c1xualF1ZXJ5LmVhY2goIFtcblx0XCJhamF4U3RhcnRcIixcblx0XCJhamF4U3RvcFwiLFxuXHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcImFqYXhFcnJvclwiLFxuXHRcImFqYXhTdWNjZXNzXCIsXG5cdFwiYWpheFNlbmRcIlxuXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHR9ICkubGVuZ3RoO1xufTtcblxuXG5cblxuXG4vKipcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldFdpbmRvdyggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID9cblx0XHRlbGVtIDpcblx0XHRlbGVtLm5vZGVUeXBlID09PSA5ID9cblx0XHRcdGVsZW0uZGVmYXVsdFZpZXcgfHwgZWxlbS5wYXJlbnRXaW5kb3cgOlxuXHRcdFx0ZmFsc2U7XG59XG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gc2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0alF1ZXJ5LmluQXJyYXkoIFwiYXV0b1wiLCBbIGN1ckNTU1RvcCwgY3VyQ1NTTGVmdCBdICkgPiAtMTtcblxuXHRcdC8vIG5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyIHRvcCBvciBsZWZ0XG5cdFx0Ly8gaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHZhciBkb2NFbGVtLCB3aW4sXG5cdFx0XHRib3ggPSB7IHRvcDogMCwgbGVmdDogMCB9LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGRvYyA9IGVsZW0gJiYgZWxlbS5vd25lckRvY3VtZW50O1xuXG5cdFx0aWYgKCAhZG9jICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0Ly8gTWFrZSBzdXJlIGl0J3Mgbm90IGEgZGlzY29ubmVjdGVkIERPTSBub2RlXG5cdFx0aWYgKCAhalF1ZXJ5LmNvbnRhaW5zKCBkb2NFbGVtLCBlbGVtICkgKSB7XG5cdFx0XHRyZXR1cm4gYm94O1xuXHRcdH1cblxuXHRcdC8vIElmIHdlIGRvbid0IGhhdmUgZ0JDUiwganVzdCB1c2UgMCwwIHJhdGhlciB0aGFuIGVycm9yXG5cdFx0Ly8gQmxhY2tCZXJyeSA1LCBpT1MgMyAob3JpZ2luYWwgaVBob25lKVxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0Ym94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR9XG5cdFx0d2luID0gZ2V0V2luZG93KCBkb2MgKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBib3gudG9wICArICggd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wICkgIC0gKCBkb2NFbGVtLmNsaWVudFRvcCAgfHwgMCApLFxuXHRcdFx0bGVmdDogYm94LmxlZnQgKyAoIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQgKSAtICggZG9jRWxlbS5jbGllbnRMZWZ0IHx8IDAgKVxuXHRcdH07XG5cdH0sXG5cblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdC8vIEZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB3aW5kb3cgKHBhcmVudE9mZnNldCA9IHt0b3A6MCwgbGVmdDogMH0sXG5cdFx0Ly8gYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyB3ZSBhc3N1bWUgdGhhdCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgYXZhaWxhYmxlIHdoZW4gY29tcHV0ZWQgcG9zaXRpb24gaXMgZml4ZWRcblx0XHRcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0LnRvcCAgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0Ly8gbm90ZTogd2hlbiBhbiBlbGVtZW50IGhhcyBtYXJnaW46IGF1dG8gdGhlIG9mZnNldExlZnQgYW5kIG1hcmdpbkxlZnRcblx0XHQvLyBhcmUgdGhlIHNhbWUgaW4gU2FmYXJpIGNhdXNpbmcgb2Zmc2V0LmxlZnQgdG8gaW5jb3JyZWN0bHkgYmUgMFxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6ICBvZmZzZXQudG9wICAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudCwgXCJodG1sXCIgKSAmJlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSAvWS8udGVzdCggcHJvcCApO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblx0XHRcdHZhciB3aW4gPSBnZXRXaW5kb3coIGVsZW0gKTtcblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/ICggcHJvcCBpbiB3aW4gKSA/IHdpblsgcHJvcCBdIDpcblx0XHRcdFx0XHR3aW4uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBtZXRob2QgXSA6XG5cdFx0XHRcdFx0ZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IGpRdWVyeSggd2luICkuc2Nyb2xsVG9wKClcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGgsIG51bGwgKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpPDctOCssIENocm9tZTwzNy00NCtcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHRcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCB3ZSBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5qUXVlcnkuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggaSwgcHJvcCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXG5cdFx0XHRcdC8vIGlmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSApO1xuXG5cbi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLCBjb250ZW50OiB0eXBlLCBcIlwiOiBcIm91dGVyXCIgKyBuYW1lIH0sXG5cdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gbWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gQXMgb2YgNS84LzIwMTIgdGhpcyB3aWxsIHlpZWxkIGluY29ycmVjdCByZXN1bHRzIGZvciBNb2JpbGUgU2FmYXJpLCBidXQgdGhlcmVcblx0XHRcdFx0XHQvLyBpc24ndCBhIHdob2xlIGxvdCB3ZSBjYW4gZG8uIFNlZSBwdWxsIHJlcXVlc3QgYXQgdGhpcyBVUkwgZm9yIGRpc2N1c3Npb246XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC83NjRcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHQvLyB1bmZvcnR1bmF0ZWx5LCB0aGlzIGNhdXNlcyBidWcgIzM4MzggaW4gSUU2Lzggb25seSxcblx0XHRcdFx0XHQvLyBidXQgdGhlcmUgaXMgY3VycmVudGx5IG5vIGdvb2QsIHNtYWxsIHdheSB0byBmaXggaXQuXG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxuLy8gVGhlIG51bWJlciBvZiBlbGVtZW50cyBjb250YWluZWQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXRcbmpRdWVyeS5mbi5zaXplID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmxlbmd0aDtcbn07XG5cbmpRdWVyeS5mbi5hbmRTZWxmID0galF1ZXJ5LmZuLmFkZEJhY2s7XG5cblxuXG5cbi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlclxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XG4vLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2Vcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xuLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLlxuXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxuLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhblxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cblxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeTtcblx0fSApO1xufVxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluXG4vLyBBTUQgKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCAhbm9HbG9iYWwgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxucmV0dXJuIGpRdWVyeTtcbn0pKTtcbiJdfQ==

!function(t,e){"use strict";var i={},o=(e(t),t.navigator),s=(o.userAgent,t.document),n=(e(s),s.body),r=(e(n),s.getElementsByTagName("html")[0]),h=e(r),a=t.Object,c=t.Array;(function(){var t,e=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,i=s.getElementsByTagName("script")[0].style;for(t in i)if(e.test(t))return t.match(e)[0].toLowerCase();return"WebkitOpacity"in i?"webkit":"KhtmlOpacity"in i?"khtml":""})();i.util={isArray:function(){return"function"==typeof c.isArray?c.isArray:function(t){if(void 0===t)throw new Error('"ch.util.isArray(obj)": It must receive a parameter.');return"[object Array]"===a.prototype.toString.call(t)}}(),isUrl:function(t){return void 0===t||"string"!=typeof t?!1:/^(((https|http|ftp|file):\/\/)|www\.|\.\/|(\.\.\/)+|(\/{1,2})|(\d{1,3}\.){3}\d{1,3})(((\w+|-)(\.?)(\/?))+)(\:\d{1,5}){0,1}(((\w+|-)(\.?)(\/?)(#?))+)((\?)(\w+=(\w?)+(&?))+)?(\w+#\w+)?$/.test(t)},is$:function(){return void 0===e.zepto?function(t){return t instanceof e}:function(t){return e.zepto.isZ(t)}}(),avoidTextSelection:function(){var t=arguments,i=arguments.length,o=0;if(arguments.length<1)throw new Error('"ch.util.avoidTextSelection(selector);": The selector parameter is required.');for(o;i>o;o+=1){if(!(t[o]instanceof e||e.zepto.isZ(t[o])))throw new Error('"ch.util.avoidTextSelection(selector);": The parameter must be a jQuery or Zepto selector.');h.hasClass("lt-ie10")?t[o].attr("unselectable","on"):t[o].addClass("ch-user-no-select")}},getStyles:function(e,i){if(void 0===e||1!==e.nodeType)throw new Error('"ch.util.getStyles(el, prop)": The "el" parameter is required and must be a HTMLElement.');if(void 0===i||"string"!=typeof i)throw new Error('"ch.util.getStyles(el, prop)": The "prop" parameter is required and must be a string.');return t.getComputedStyle?t.getComputedStyle(e,"").getPropertyValue(i):(i=i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),e.currentStyle[i])},clone:function(t){if(void 0===t||"object"!=typeof t)throw new Error('"ch.util.clone(obj)": The "obj" parameter is required and must be a object.');var e,i={};for(e in t)void 0!==t[e]&&(i[e]=t[e]);return i},inherits:function(t,i){if(void 0===t||"function"!=typeof t)throw new Error('"ch.util.inherits(obj, superConstructor)": The "obj" parameter is required and must be a constructor function.');if(void 0===i||"function"!=typeof i)throw new Error('"ch.util.inherits(obj, superConstructor)": The "superConstructor" parameter is required and must be a constructor function.');var o=t.prototype||{};return t.prototype=e.extend(o,i.prototype),i.prototype},prevent:function(t){"object"==typeof t&&t.preventDefault()},getScroll:function(){return{left:t.pageXOffset||s.documentElement.scrollLeft||0,top:t.pageYOffset||s.documentElement.scrollTop||0}},getOuterDimensions:function(t){var e=t.getBoundingClientRect();return{width:e.right-e.left,height:e.bottom-e.top}},getOffset:function(t){var e=t.getBoundingClientRect(),o=i.util.getPositionedParent(t,"fixed"),s=i.util.getScroll(),n={left:e.left,top:e.top};return"fixed"!==i.util.getStyles(t,"position")&&null===o&&(n.left+=s.left,n.top+=s.top),n},getPositionedParent:function(t,e){for(var o,s=t.offsetParent;void 0===o;){if(null===s){o=null;break}i.util.getStyles(s,"position")!==e?s=s.offsetParent:o=s}return o},VENDOR_PREFIX:function(){var t,e=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,i=s.getElementsByTagName("script")[0].style;for(t in i)if(e.test(t))return t.match(e)[0].toLowerCase();return"WebkitOpacity"in i?"webkit":"KhtmlOpacity"in i?"khtml":""}(),zIndex:1e3},i.support={transition:void 0!==n.style.WebkitTransition||void 0!==n.style.MozTransition||void 0!==n.style.MSTransition||void 0!==n.style.OTransition||void 0!==n.style.transition,fx:!!e.fn.slideDown,touch:"createTouch"in s},i.onlayoutchange="layoutchange",i.onresize="resize",i.onscroll="scroll",i.onpointerdown=i.support.touch?"touchstart":"mousedown",i.onpointerup=i.support.touch?"touchend":"mouseup",i.onpointermove=i.support.touch?"touchmove":"mousemove",i.onpointertap=i.support.touch?"touchend":"click",i.onpointerenter=i.support.touch?"touchstart":"mouseenter",i.onpointerleave=i.support.touch?"touchend":"mouseleave",i.onkeyinput="oninput"in s.createElement("input")?"input":"keydown",i.onkeytab="tab",i.onkeyenter="enter",i.onkeyesc="esc",i.onkeyleftarrow="left_arrow",i.onkeyuparrow="up_arrow",i.onkeyrightarrow="right_arrow",i.onkeydownarrow="down_arrow",i.onkeybackspace="backspace",i.factory=function(t,o){var s=t.prototype.name,n=t.prototype._preset||s;i[s.charAt(0).toUpperCase()+s.substr(1)]=t,e[s]=function(e,i){return new t(e,i)},e.fn[s]=function(i){var s=[];return i=void 0!==o?o.apply(this,arguments):i,e.each(this,function(){var o=e(this),r=o.data(n);void 0===r?(r=new t(o,i),o.data(n,r)):void 0!==r.emit&&r.emit("exist",i),s.push(r)}),s.length>1?s:s[0]}},h.removeClass("no-js"),i.$=t.$,i.version="1.2.0",t.ch=i}(this,this.$),function(t){"use strict";function e(){}e.prototype.on=function(t,e,i){if(void 0===t)throw new Error('ch.EventEmitter - "on(event, listener)": It should receive an event.');if(void 0===e)throw new Error('ch.EventEmitter - "on(event, listener)": It should receive a listener function.');return this._eventsCollection=this._eventsCollection||{},e.once=i||!1,void 0===this._eventsCollection[t]&&(this._eventsCollection[t]=[]),this._eventsCollection[t].push(e),this},e.prototype.once=function(t,e){return this.on(t,e,!0),this},e.prototype.off=function(t,e){if(void 0===t)throw new Error('EventEmitter - "off(event, listener)": It should receive an event.');if(void 0===e)throw new Error('EventEmitter - "off(event, listener)": It should receive a listener function.');var i,o=this._eventsCollection[t],s=0;if(void 0!==o)for(i=o.length,s;i>s;s+=1)if(o[s]===e){o.splice(s,1);break}return this},e.prototype.getListeners=function(t){if(void 0===t)throw new Error('ch.EventEmitter - "getListeners(event)": It should receive an event.');return this._eventsCollection[t]},e.prototype.emit=function(){var t,e,i=Array.prototype.slice.call(arguments,0),o=i.shift(),s=0;if(void 0===o)throw new Error('ch.EventEmitter - "emit(event)": It should receive an event.');if("string"==typeof o&&(o={type:o}),o.target||(o.target=this),void 0!==this._eventsCollection&&void 0!==this._eventsCollection[o.type])for(t=this._eventsCollection[o.type],e=t.length,s;e>s;s+=1)t[s].apply(this,i),t[s].once&&(this.off(o.type,t[s]),e-=1,s-=1);return this},t.EventEmitter=e}(this.ch),function(t,e){"use strict";function i(){function i(t){n._$content.html(t.response),n.emit("_contentchange"),n.emit("content"+t.status,t)}function o(t){n._$content.html(t),n._options.cache=!0,n.emit("_contentchange"),n.emit("contentdone")}function s(e,o){o=t.extend({method:"GET",params:"",async:!0,waiting:'<div class="ch-loading-large"></div>'},o||r),void 0!==o.cache&&(n._options.cache=o.cache),i({status:"waiting",response:o.waiting}),t.ajax({url:e,type:o.method,data:"x=x"+(""!==o.params?"&"+o.params:""),cache:n._options.cache,async:o.async,beforeSend:function(t){t.setRequestHeader("X-Requested-With","XMLHttpRequest")},success:function(t){i({status:"done",response:t})},error:function(t,e,o){i({status:"error",response:"<p>Error on ajax call.</p>",data:{jqXHR:t,textStatus:e,errorThrown:o}})}})}var n=this,r={method:this._options.method,params:this._options.params,cache:this._options.cache,async:this._options.async,waiting:this._options.waiting};this.content=function(i,r){return void 0===i?n._$content.html():(n._options.content=i,void 0===n._options.cache&&(n._options.cache=!0),"string"==typeof i?e.util.isUrl(i)?s(i,r):o(i):(e.util.is$(i)||void 0!==i.nodeType)&&o(t(i).remove(null,!0).removeClass("ch-hide")),n)},this.once("_show",function(){n.content(n._options.content),n.on("show",function(){n._options.cache||n.content(n._options.content)})})}e.Content=i}(this.ch.$,this.ch),function(t){"use strict";function e(){function e(){s.$container.removeClass("ch-hide").attr("aria-hidden","false"),s.emit("show")}function o(){s.$container.addClass("ch-hide").attr("aria-hidden","true"),s.emit("hide")}var s=this,n="ch-"+this.name+"-trigger-on",r=this._options.fx,h=t.support.fx&&"none"!==r&&r!==!1;this._shown=!1,this._show=function(){return s._shown=!0,void 0!==s.$trigger&&s.$trigger.addClass(n),s.emit("beforeshow"),h?s.$container[r]("fast",e):e(),s.emit("_show"),s},this._hide=function(){return s._shown=!1,void 0!==s.$trigger&&s.$trigger.removeClass(n),s.emit("beforehide"),h?s.$container[i[r]]("fast",o):o(),s},this._toggle=function(){return s._shown?s.hide():s.show(),s},this.on("disable",this.hide)}var i={slideDown:"slideUp",slideUp:"slideDown",fadeIn:"fadeOut",fadeOut:"fadeIn"};t.Collapsible=e}(this.ch),function(t,e,i){"use strict";function o(){var t=r?i.onresize:i.onscroll;this.refresh(),r=!1,h=!1,this.emit(t)}function s(){this._init()}var n=e(t),r=!1,h=!1,a=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}();i.util.inherits(s,i.EventEmitter),s.prototype._init=function(){var t=this;this.$el=n,this.refresh(),n.on(i.onresize+".viewport",function(){r||(r=!0,a(function(){o.call(t)}))}).on(i.onscroll+".viewport",function(){h||(h=!0,a(function(){o.call(t)}))})},s.prototype.calculateClientRect=function(){return this.top=this.left=0,this.bottom=this.$el.height(),this.right=this.$el.width(),this},s.prototype.calculateDimensions=function(){return this.calculateClientRect(),this.height=this.bottom,this.width=this.right,this},s.prototype.calculateOffset=function(){var t=i.util.getScroll();return this.offsetTop=t.top,this.offsetLeft=t.left,this.offsetRight=this.left+this.width,this.offsetBottom=this.offsetTop+this.height,this},s.prototype.calculateOrientation=function(){return this.orientation=90===Math.abs(this.$el.orientation)?"landscape":"portrait",this},s.prototype.inViewport=function(t){var e=t.getBoundingClientRect();return e.top>0&&e.right<this.width&&e.bottom<this.height&&e.left>0},s.prototype.isVisible=function(t){var e=t.getBoundingClientRect();return e.height>=this.offsetTop},s.prototype.refresh=function(){return this.calculateDimensions(),this.calculateOffset(),this.calculateOrientation(),this},i.viewport=new s}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e){if(void 0===e)throw new t.Error("ch.Positioner: Expected options defined.");this._options=i.util.clone(this._defaults),this._configure(e)}o.prototype.name="positioner",o.prototype._constructor=o,o.prototype._defaults={offsetX:0,offsetY:0,side:"center",align:"center",reference:i.viewport,position:"fixed"},o.prototype._configure=function(t){return e.extend(this._options,t),this._options.offsetX=parseInt(this._options.offsetX,10),this._options.offsetY=parseInt(this._options.offsetY,10),this.$target=t.target||this.$target,this.$reference=t.reference||this.$reference,this._reference=this._options.reference,this.$target.css("position",this._options.position),this},o.prototype.refresh=function(t){return void 0!==t&&this._configure(t),this._reference!==i.viewport&&this._calculateReference(),this._calculateTarget(),this._setPoint(),this},o.prototype._calculateReference=function(){var t,e=this.$reference[0];return e.setAttribute("data-side",this._options.side),e.setAttribute("data-align",this._options.align),this._reference=i.util.getOuterDimensions(e),e.offsetParent===this.$target[0].offsetParent?(this._reference.left=e.offsetLeft,this._reference.top=e.offsetTop):(t=i.util.getOffset(e),this._reference.left=t.left,this._reference.top=t.top),this},o.prototype._calculateTarget=function(){var t=this.$target[0];return t.setAttribute("data-side",this._options.side),t.setAttribute("data-align",this._options.align),this._target=i.util.getOuterDimensions(t),this},o.prototype._setPoint=function(){var t,e,i=this._options.side,o="top"===i||"bottom"===i?"horizontal":"right"===i||"left"===i?"vertical":"center";return"center"===o?t={top:this._reference.top+(this._reference.height/2-this._target.height/2),left:this._reference.left+(this._reference.width/2-this._target.width/2)}:"horizontal"===o?(e={left:this._reference.left,center:this._reference.left+(this._reference.width/2-this._target.width/2),right:this._reference.left+this._reference.width-this._target.width,top:this._reference.top-this._target.height,bottom:this._reference.top+this._reference.height},t={top:e[i],left:e[this._options.align]}):(e={top:this._reference.top,center:this._reference.top+(this._reference.height/2-this._target.height/2),bottom:this._reference.top+this._reference.height-this._target.height,right:this._reference.left+this._reference.width,left:this._reference.left-this._target.width},t={top:e[this._options.align],left:e[i]}),t.top+=this._options.offsetY,t.left+=this._options.offsetX,this.$target.css(t),this},i.Positioner=o}(this,this.ch.$,this.ch),function(t,e,i){"use strict";var o=e(t.document),s={8:i.onkeybackspace,9:i.onkeytab,13:i.onkeyenter,27:i.onkeyesc,37:i.onkeyleftarrow,38:i.onkeyuparrow,39:i.onkeyrightarrow,40:i.onkeydownarrow},n={_active:null,_queue:[],_collection:{},add:function(t,e,i){return void 0===this._collection[e]&&(this._collection[e]={}),void 0===this._collection[e][t]&&(this._collection[e][t]=[]),this._collection[e][t].push(i),this},remove:function(t,e,i){var o,s,n;if(void 0===t)throw new Error('Shortcuts - "remove(name, shortcut, callback)": "name" parameter must be defined.');if(void 0===e)return delete this._collection[t],this;if(void 0===i)return delete this._collection[t][e],this;for(s=this._collection[t][e],n=s.length,o=0;n>o;o+=1)s[o]===i&&s.splice(o,1);return this},on:function(t){var e=this._queue.length,i=e-1;for(i;i>=0;i-=1)this._queue[i]===t&&this._queue.splice(i,1);return this._queue.push(t),this._active=t,this},off:function(t){var e=this._queue.length,i=e-1;for(i;i>=0;i-=1)this._queue[i]===t&&(this._queue.splice(i,1),this._queue.length>0?this._active=this._queue[this._queue.length-1]:this._active=null);return this}};o.on("keydown.shortcuts",function(t){var e,i,o=t.keyCode.toString(),r=s[o],h=0;if(void 0!==r&&null!==n._active&&(e=n._collection[n._active][r],t.type=r,void 0!==e))for(i=e.length,h=0;i>h;h+=1)e[h](t)}),i.shortcuts=n}(this,this.ch.$,this.ch),function(t,e){"use strict";function i(e,i){e.one("load",function(){var o=e.length;t.setTimeout(function(){--o<=0&&i.call(e)},200)}).each(function(){if(this.complete||void 0===this.complete){var t=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=t}})}e.onImagesLoads=i}(this,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=i.util,n=0;i.util.inherits(o,i.EventEmitter),o.prototype.name="component",o.prototype.constructor=o,o.prototype._init=function(i,o){var r=this._defaults?s.clone(this._defaults):{};if(void 0===o)void 0===i?this._options=r:s.is$(i)?(this._$el=i,this._el=i[0],this._options=r):"object"==typeof i&&(o=i,i=void 0,this._options=e.extend(r,o));else{if("object"!=typeof o)throw new t.Error("Unexpected parameters were found in the '"+this.name+"' instantiation.");void 0===i?this._options=e.extend(r,o):s.is$(i)&&(this._$el=i,this._el=i[0],this._options=e.extend(r,o))}this.uid=n+=1,this._enabled=!0},o.prototype.require=function(){var t,e=0,o=arguments.length;for(e;o>e;e+=1)t=arguments[e],void 0===this[t.toLowerCase()]&&i[t].call(this);return this},o.prototype.enable=function(){return this._enabled=!0,this.emit("enable"),this},o.prototype.disable=function(){return this._enabled=!1,this.emit("disable"),this},o.prototype.destroy=function(){this.disable(),void 0!==this._el&&this._$el.removeData(this.name),this.emit("destroy")},i.Component=o}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;o._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=i.util.inherits(o,i.Component);o.prototype.name="form",o.prototype.constructor=o,o.prototype._init=function(t,e){s._init.call(this,t,e);var o=this;return this.errors=[],this._messages=this._options.messages||{},this.validations=[],this.$container=this._$el.addClass("ch-form").attr("novalidate","novalidate").on("submit.form",function(t){o.validate(t)}),this.$container.find('input[type="reset"]').on(i.onpointertap+".form",function(t){i.util.prevent(t),o.reset()}),this.on("disable",this.clear),this},o.prototype.validate=function(t){if(!this._enabled)return this;this.emit("beforevalidate");var e,o,s,n,r=this,h=0,a=r.validations.length;for(this.errors.length=0,h;a>h;h+=1)e=r.validations[h],e.validate(),e.isShown()&&r.errors.push(e);if(r.errors.length>0){for(o=r.errors[0],s=o.$trigger[0];"none"===i.util.getStyles(s,"display")&&s!==document.documentElement;)s=s.parentElement;s.scrollIntoView(),n=o.$trigger[0],"DIV"===n.tagName&&o.$trigger.find("input:first").focus(),"hidden"===n.type&&"SELECT"!==n.tagName||n.focus(),i.util.prevent(t),this.emit("error",this.errors)}else this.emit("success",t);return this},o.prototype.hasError=function(){if(!this._enabled)return!1;this.errors.length=0;var t,e=0,i=this.validations.length;for(e;i>e;e+=1)t=this.validations[e],t.hasError()&&this.errors.push(t);return this.errors.length>0},o.prototype.clear=function(){var t=0,e=this.validations.length;for(t;e>t;t+=1)this.validations[t].clear();return this.emit("clear"),this},o.prototype.reset=function(){return this.clear(),this._el.reset(),this.emit("reset"),this},o.prototype.destroy=function(){this.$container.off(".form").removeAttr("novalidate"),e.each(this.validations,function(t,e){e.destroy()}),s.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e){"use strict";function i(e){return t.extend(this,o[e.name],e),"min"!==this.name&&"max"!==this.name&&"minLength"!==this.name&&"maxLength"!==this.name||(this.message=this.message.replace("{#num#}",this.num)),this._enabled=!0,this}var o={string:{fn:function(t){return/^([a-zA-Z\u00C0-\u00C4\u00C8-\u00CF\u00D2-\u00D6\u00D9-\u00DC\u00E0-\u00E4\u00E8-\u00EF\u00F2-\u00F6\u00E9-\u00FC\u00C7\u00E7\s]*)$/i.test(t)},message:"Use only letters."},email:{fn:function(t){return/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/i.test(t)},message:"Use a valid e-mail such as name@example.com."},url:{fn:function(t){return/^((https?|ftp|file):\/\/|((www|ftp)\.)|(\/|.*\/)*)[a-z0-9-]+((\.|\/)[a-z0-9-]+)+([\/?].*)?$/i.test(t)},message:"It must be a valid URL."},minLength:{fn:function(t,e){return t.length>=e},message:"Enter at least {#num#} characters."},maxLength:{fn:function(t,e){return t.length<=e},message:"The maximum amount of characters is {#num#}."},number:{fn:function(t){return/^(-?[0-9]+)$/i.test(t)},message:"Use only numbers."},max:{fn:function(t,e){return e>=t},message:"The amount must be smaller than {#num#}."},min:{fn:function(t,e){return t>=e},message:"The amount must be higher than {#num#}."},required:{fn:function(e){var i,o=this.$trigger.hasClass("ch-form-options")?"OPTIONS":this._el.tagName;switch(o){case"OPTIONS":i=0!==this.$trigger.find("input:checked").length;break;case"SELECT":i="-1"!==e&&""!==e;break;default:i=0!==t.trim(e).length}return i},message:"Fill in this information."},custom:{message:"Error"}};i.prototype.name="condition",i.prototype.constructor=i,i.prototype.enable=function(){return this._enabled=!0,this},i.prototype.disable=function(){return this._enabled=!1,this},i.prototype.test=function(t,e){return this._enabled?this.fn.call(e,t,this.num):!0},e.Condition=i}(this.ch.$,this.ch),function(t,e){"use strict";function i(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}function o(t){i.prototype[t]=function(e){var i;if(void 0!==e&&void 0!==this.conditions[e])this.conditions[e][t]();else{for(i in this.conditions)void 0!==this.conditions[i]&&this.conditions[i][t]();s[t].call(this)}return this}}var s=e.util.inherits(i,e.Component),n=["enable","disable"],r=n.length;for(i.prototype.name="validation",i.prototype.constructor=i,i.prototype._defaults={offsetX:10},i.prototype._init=function(t,e){var i=this;return s._init.call(this,t,e),this.$trigger=this._$el,this._configureContainer(),this.conditions={},this._mergeConditions(e.conditions),this._shown=!1,this.error=null,this.on("exist",function(t){this._mergeConditions(t.conditions)}).on("disable",this.clear),this.form=i.$trigger.parents("form").data("form")||i.$trigger.parents("form").form(),this.form.validations.push(this),this._validationEvent=this.$trigger.hasClass("ch-form-options")||"SELECT"===this._el.tagName||"INPUT"===this._el.tagName&&"range"===this._el.type?"change":"blur",this},i.prototype._mergeConditions=function(t){var i=0,o=t.length;for(i;o>i;i+=1)this.conditions[t[i].name]=new e.Condition(t[i]);return this},i.prototype.validate=function(){return this.hasError()?this._error():this._success(),this},i.prototype._error=function(){var t,e=this;return this.$trigger.on(this._validationEvent+".validation",function(){(t!==this.value||"change"===e._validationEvent&&e.isShown())&&(t=this.value,e.validate()),void 0===e.conditions.required&&""===this.value&&e.clear()}),this._error=function(){return e._previousError.condition&&e._shown||("INPUT"!==e._el.nodeName&&"TEXTAREA"!==e._el.nodeName||e.$trigger.addClass("ch-validation-error"),e._showErrorMessage(e.error.message||"Error")),e.error.condition!==e._previousError.condition&&e._showErrorMessage(e.error.message||e.form._messages[e.error.condition]||"Error"),e._shown=!0,e.emit("error",e.error),e},this._error(),this},i.prototype._success=function(){return!this._shown&&this._enabled||(this._shown=!1),this.$trigger.removeClass("ch-validation-error").removeAttr("aria-label"),this._hideErrorMessage(),this.emit("success"),this},i.prototype.hasError=function(){if(this.$trigger.attr("disabled")||!this._enabled)return!1;var t,i=this.conditions.required,o=this._el.value;if(!i&&""===o&&this._shown===!1)return!1;this._previousError=e.util.clone(this.error);for(t in this.conditions)if(void 0!==this.conditions[t]&&!this.conditions[t].test(o,this))return this.error={condition:t,message:this.conditions[t].message},!0;return this.error=null,!1},i.prototype.clear=function(){return this.$trigger.removeClass("ch-validation-error").removeAttr("aria-label"),this.error=null,this._hideErrorMessage(),this._shown=!1,this.emit("clear"),this},i.prototype.and=function(){return this.$trigger},i.prototype.isShown=function(){return this._shown},i.prototype.message=function(t,e){if(void 0===t)throw new Error("validation.message(condition, message): Please, a condition parameter is required.");return void 0===e?this.conditions[t].message:(this.conditions[t].message=e,this.isShown()&&this.error.condition===t&&this._showErrorMessage(e),this)};r;)o(n[r-=1]);i.prototype.destroy=function(){this.$trigger.off(".validation").removeAttr("data-side data-align"),s.destroy.call(this)},e.factory(i)}(this,this.ch),function(t,e){"use strict";e.Validation.prototype._configureContainer=function(){var e=this;this.bubble=this._container=t.bubble({reference:e._options.reference||function(){var i,o,s=e.$trigger;return s.hasClass("ch-form-options")?s.find("h4").length>0?(o=s.find("h4"),o.wrapInner("<span>"),i=o.children()):i="LEGEND"===s.prev().prop("tagName")?s.prev():t(s.find("label")[0]):i=s,i}(),align:e._options.align,side:e._options.side,offsetY:e._options.offsetY,offsetX:e._options.offsetX})},e.Validation.prototype._showErrorMessage=function(t){return this.bubble.content(t).show(),this.$trigger.attr("aria-label","ch-"+this.bubble.name+"-"+this.bubble.uid),this},e.Validation.prototype._hideErrorMessage=function(){return this.bubble.hide(),this.$trigger.removeAttr("aria-label"),this},e.Validation.prototype.refreshPosition=function(t){return void 0===t?this.bubble._position:(this.bubble.refreshPosition(t),this)}}(this.ch.$,this.ch),function(t){"use strict";function e(t){var e,i={name:"string"};return"object"==typeof t?(e=t,i.message=e.message,delete e.message):(e={},i.message=t),e.conditions=[i],e}function i(e,i){return new t.Validation(e,i)}i.prototype.name="string",i.prototype.constructor=i,i.prototype._preset="validation",t.factory(i,e)}(this.ch),function(t,e){"use strict";function i(t,e){var i,o={name:"maxLength"};return"object"==typeof t?(i=t,o.num=i.num,o.message=i.message,delete i.num,delete i.message):(i={},o.num=t,o.message=e),i.conditions=[o],i}function o(t,i){return new e.Validation(t,i)}o.prototype.name="maxLength",o.prototype.constructor=e.MaxLength,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e){"use strict";function i(t,e){var i,o={name:"minLength"};return"object"==typeof t?(i=t,o.num=i.num,o.message=i.message,delete i.num,delete i.message):(i={},o.num=t,o.message=e),i.conditions=[o],i}function o(t,i){return new e.Validation(t,i)}o.prototype.name="minLength",o.prototype.constructor=e.MinLength,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e){"use strict";function i(t){var e,i={name:"email"};return"object"==typeof t?(e=t,i.message=e.message,delete e.message):(e={},i.message=t),e.conditions=[i],e}function o(t,i){return new e.Validation(t,i)}o.prototype.name="email",o.prototype.constructor=o,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t){"use strict";function e(t){var e,i={name:"url"};return"object"==typeof t?(e=t,i.message=e.message,delete e.message):(e={},i.message=t),e.conditions=[i],e}function i(e,i){return new t.Validation(e,i)}i.prototype.name="url",i.prototype.constructor=i,i.prototype._preset="validation",t.factory(i,e)}(this.ch),function(t){"use strict";function e(t){var e,i={name:"number"};return"object"==typeof t?(e=t,i.message=e.message,delete e.message):(e={},i.message=t),e.conditions=[i],e}function i(e,i){return new t.Validation(e,i)}i.prototype.name="number",i.prototype.constructor=i,i.prototype._preset="validation",t.factory(i,e)}(this.ch),function(t,e){"use strict";function i(t,e){var i,o={name:"min"};return"object"==typeof t?(i=t,o.num=i.num,o.message=i.message,delete i.num,delete i.message):(i={},o.num=t,o.message=e),i.conditions=[o],i}function o(t,i){return new e.Validation(t,i)}o.prototype.name="min",o.prototype.constructor=o,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e){"use strict";function i(t,e){var i,o={name:"max"};return"object"==typeof t?(i=t,o.num=i.num,o.message=i.message,delete i.num,delete i.message):(i={},o.num=t,o.message=e),i.conditions=[o],i}function o(t,i){return new e.Validation(t,i)}o.prototype.name="max",o.prototype.constructor=o,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e){"use strict";function i(t,e,i){var o,s={};return"object"==typeof t?(o=t,s.name=o.name,s.fn=o.fn,s.message=o.message,delete o.name,delete o.fn,delete o.message):(o={},s.name=t,s.fn=e,s.message=i),o.conditions=[s],o}function o(t,i){return new e.Validation(t,i)}o.prototype.name="custom",o.prototype.constructor=o,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e){"use strict";function i(t){var e,i={name:"required"};return"object"==typeof t?(e=t,i.message=e.message,delete e.message):(e={},i.message=t),e.conditions=[i],e}function o(t,i){return new e.Validation(t,i)}o.prototype.name="required",o.prototype.constructor=o,o.prototype._preset="validation",e.factory(o,i)}(this,this.ch),function(t,e,i){"use strict";function o(t){return("string"==typeof t||i.util.is$(t))&&(t={content:t}),t}function s(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var n=e(t.document),r=i.util.inherits(s,i.Component);s.prototype.name="expandable",s.prototype.constructor=s,s.prototype._defaults={_classNameTrigger:"ch-expandable-trigger ch-expandable-ico",_classNameContainer:"ch-expandable-container ch-hide",fx:!1,toggle:!0},s.prototype._init=function(t,e){r._init.call(this,t,e),this.require("Collapsible","Content");var o=this;return this.$trigger=this._$el.addClass(this._options._classNameTrigger).on(i.onpointertap+"."+this.name,function(t){i.pointerCanceled||(i.util.prevent(t),o._options.toggle?o._toggle():o.show())}),this.$container=this._$content=(this._options.container||this._$el.next()).addClass(this._options._classNameContainer).attr("aria-expanded","false"),""===this.$container.prop("id")&&this.$container.prop("id","ch-expandable-"+this.uid),this.$trigger.attr("aria-controls",this.$container.prop("id")),this.on("show",function(){n.trigger(i.onlayoutchange)}).on("hide",function(){n.trigger(i.onlayoutchange)}),i.util.avoidTextSelection(this.$trigger),this},s.prototype.show=function(t,e){return this._enabled?(this._show(),this.$container.attr("aria-expanded","true"),void 0!==t&&this.content(t,e),this):this},s.prototype.hide=function(){return this._enabled?(this._hide(),this.$container.attr("aria-expanded","false"),this):this},s.prototype.isShown=function(){return this._shown},s.prototype.destroy=function(){this.$trigger.off(".expandable").removeClass("ch-expandable-trigger ch-expandable-ico ch-user-no-select").removeAttr("aria-controls"),this.$container.removeClass("ch-expandable-container ch-hide").removeAttr("aria-expanded aria-hidden"),n.trigger(i.onlayoutchange),r.destroy.call(this)},i.factory(s,o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;o._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}function s(t){o.prototype[t]=function(e){var i,o=this.folds[e-1];if(o&&"expandable"===o.name)o[t]();else{for(i=this.folds.length;i;)o=this.folds[i-=1],"expandable"===o.name&&o[t]();n[t].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}var n=i.util.inherits(o,i.Component),r=["enable","disable"],h=r.length;for(o.prototype.name="menu",o.prototype.constructor=o,o.prototype._defaults={fx:"slideDown"},o.prototype._init=function(t,e){return n._init.call(this,t,e),this._snippet=this._el.cloneNode(!0),this.$container=this._$el.attr("role","navigation").addClass("ch-menu "+(this._options._className||"")+" "+(this._options.addClass||"")),this.folds=[],this._createExpandables(),this},o.prototype._createExpandables=function(){function t(t,n){if(i=e(n).addClass("ch-menu-fold"),o=i.children(":first-child"),"A"===o[0].tagName)i.attr("role","presentation"),o.addClass("ch-fold-trigger"),s.folds.push(o);else{var r=o.expandable({fx:s._options.fx});r.on("show",function(){s.emit("show",t+1)}).on("hide",function(){s.emit("hide")}),o.next().attr("role","menu").children().attr("role","presentation").children().attr("role","menuitem"),s.folds.push(r)}}var i,o,s=this;return e.each(this.$container.children(),t),this},o.prototype.show=function(t){return this.folds[t-1].show(),this},o.prototype.hide=function(t){return this.folds[t-1].hide(),this},o.prototype.content=function(e,i,o){if(void 0===e||"number"!=typeof e)throw new t.Error("Menu.content(fold, content, options): Expected number of fold.");return void 0===i?this.folds[e-1].content():(this.folds[e-1].content(i,o),this)};h;)s(r[h-=1]);o.prototype.destroy=function(){e.each(this.folds,function(t,e){void 0!==e.destroy&&e.destroy()}),this._el.parentNode.replaceChild(this._snippet,this._el),e(t.document).trigger(i.onlayoutchange),n.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=e(t.document),n=e("body"),r=i.util.inherits(o,i.Component),h={pointertap:i.onpointertap,pointerenter:i.onpointerenter};o.prototype.name="popover",o.prototype.constructor=o,o.prototype._defaults={_ariaRole:"dialog",_className:"",_hideDelay:400,addClass:"",fx:"fadeIn",width:"auto",height:"auto",shownby:"pointertap",hiddenby:"button",waiting:'<div class="ch-loading ch-loading-centered"></div>',position:"absolute"},o.prototype._init=function(t,o){r._init.call(this,t,o),this.require("Collapsible","Content");var n=this;return this.$container=e(["<div",' class="ch-popover ch-hide '+this._options._className+" "+this._options.addClass+'"',' role="'+this._options._ariaRole+'"',' id="ch-'+this.name+"-"+this.uid+'"',' style="z-index:'+(i.util.zIndex+=1)+";width:"+this._options.width+";height:"+this._options.height+'"',">"].join("")).on(i.onpointertap+"."+this.name,function(t){
t.stopPropagation()}),this._$content=e('<div class="ch-popover-content">').appendTo(this.$container),this._configureTrigger(),this._configureHiding(),this._positioner=new i.Positioner({target:this.$container,reference:this._options.reference,side:this._options.side,align:this._options.align,offsetX:this._options.offsetX,offsetY:this._options.offsetY,position:this._options.position}),this._refreshPositionListener=function(){return n._shown&&n._positioner.refresh(o),n},s.on(i.onlayoutchange,this._refreshPositionListener),i.viewport.on(i.onresize,this._refreshPositionListener),this.once("_show",this._refreshPositionListener).on("_contentchange",this._refreshPositionListener).on("hide",function(){n.$container.remove(null,!0)}),this},o.prototype._configureTrigger=function(){if(void 0!==this._el){var t=this,e=function(){var e=t._toggle;return"pointerenter"!==t._options.shownby&&"none"!==t._options.hiddenby&&"button"!==t._options.hiddenby||(e=function(){t._shown||t.show()}),e}();this._snippet=this._el.cloneNode(!0),this._options.reference=this._options.reference||this._$el,"none"!==this._options.shownby&&this._$el.addClass("ch-shownby-"+this._options.shownby).on(h[this._options.shownby]+"."+this.name,function(t){i.util.prevent(t),e()}),void 0===this._options.content&&("A"===this._el.nodeName&&""!==this._el.href?this._options.content=this._el.href:""===this._el.title&&""===this._el.alt||(this._options.content=this._el.title||this._el.alt,this._el.setAttribute("data-title",this._options.content),this._el.title=this._el.alt="")),this._el.setAttribute("aria-owns","ch-"+this.name+"-"+this.uid),this._el.setAttribute("aria-haspopup","true"),this.$trigger=this._$el}},o.prototype._configureHiding=function(){function o(){s=t.setTimeout(function(){n.hide()},n._options._hideDelay)}var s,n=this,r=this._options.hiddenby,h=i.onpointertap+"."+this.name,a={};"none"!==r&&("pointerleave"===r&&void 0!==this.$trigger&&(a[i.onpointerenter+"."+this.name]=function(){t.clearTimeout(s)},a[i.onpointerleave+"."+this.name]=o,this.$trigger.on(a),this.$container.on(a)),"button"!==r&&"all"!==r||e('<i class="ch-close" role="button" aria-label="Close"></i>').on(h,function(){n.hide()}).prependTo(this.$container),"pointers"!==r&&"all"!==r||void 0===this._hidingShortcuts||this._hidingShortcuts())},o.prototype._normalizeOptions=function(t){return("string"==typeof t||i.util.is$(t))&&(t={content:t}),t},o.prototype.show=function(t,e){return!this._enabled||this._shown?this:(this.$container.css("z-index",i.util.zIndex+=1).appendTo(n),this._show(),void 0!==t&&this.content(t,e),this)},o.prototype.hide=function(){return this._enabled&&this._shown?(this._hide(),this):this},o.prototype.isShown=function(){return this._shown},o.prototype.width=function(t){return void 0===t?this._options.width:(this.$container.css("width",t),this._options.width=t,this.refreshPosition(),this)},o.prototype.height=function(t){return void 0===t?this._options.height:(this.$container.css("height",t),this._options.height=t,this.refreshPosition(),this)},o.prototype.refreshPosition=function(t){return this._shown?this._positioner.refresh(t):this._positioner._configure(t),this},o.prototype.enable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!1),r.enable.call(this),this},o.prototype.disable=function(){return void 0!==this._el&&this._el.setAttribute("aria-disabled",!0),this._shown&&this.hide(),r.disable.call(this),this},o.prototype.destroy=function(){void 0!==this.$trigger&&this.$trigger.off("."+this.name).removeClass("ch-"+this.name+"-trigger").removeAttr("data-title aria-owns aria-haspopup data-side data-align role").attr({alt:this._snippet.alt,title:this._snippet.title}),s.off(i.onlayoutchange,this._refreshPositionListener),i.viewport.off(i.onresize,this._refreshPositionListener),r.destroy.call(this)},i.factory(o,o.prototype._normalizeOptions)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";var o=e(t.document);i.Popover.prototype._hidingShortcuts=function(){function t(t){t.target!==e._el&&t.target!==e.$container[0]&&0===t.button&&e.hide()}var e=this,s=i.onpointertap+"."+this.name;i.shortcuts.add(i.onkeyesc,this.uid,function(){e.hide()}),this.on("show",function(){i.shortcuts.on(e.uid),o.on(s,t)}).on("hide",function(){i.shortcuts.off(e.uid),o.off(s,t)}).once("destroy",function(){i.shortcuts.remove(e.uid,i.onkeyesc)})}}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s,n=i.util.inherits(o,i.Popover);o.prototype.name="layer",o.prototype.constructor=o,o.prototype._defaults=e.extend(i.util.clone(n._defaults),{_className:"ch-layer ch-box-lite ch-cone",_ariaRole:"tooltip",shownby:"pointerenter",hiddenby:"pointerleave",side:"bottom",align:"left",offsetX:0,offsetY:10,waiting:'<div class="ch-loading-small"></div>'}),o.prototype.show=function(t,e){return!this._enabled||this._shown?this:(void 0!==s&&s.name===this.name&&s!==this&&s.hide(),"none"!==this._options.hiddenby&&"button"!==this._options.hiddenby&&(s=this),n.show.call(this,t,e),this)},i.factory(o,n._normalizeOptions)}(this,this.ch.$,this.ch),function(t,e){"use strict";function i(i,o){return void 0!==o||void 0===i||e.util.is$(i)||(o=i,i=void 0),o=t.extend(e.util.clone(this._defaults),o),new e.Layer(i,o)}i.prototype.name="tooltip",i.prototype.constructor=i,i.prototype._defaults=t.extend(e.util.clone(e.Layer.prototype._defaults),{_className:"ch-tooltip ch-cone"}),e.factory(i,e.Layer.prototype._normalizeOptions)}(this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=i.util.inherits(o,i.Popover);o.prototype.name="bubble",o.prototype.constructor=o,o.prototype._defaults=e.extend(i.util.clone(s._defaults),{_className:"ch-bubble ch-box-icon ch-box-error ch-cone",_ariaRole:"alert",shownby:"none",hiddenby:"none",side:"right",align:"center",offsetX:10,content:"Check the information, please."}),o.prototype._init=function(t,i){return s._init.call(this,t,i),e('<i class="ch-icon-remove-sign"></i>').prependTo(this.$container),this},i.factory(o,s._normalizeOptions)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=e("body"),n=e('<div class="ch-underlay ch-hide" tabindex="-1">'),r=i.util.inherits(o,i.Popover);o.prototype.name="modal",o.prototype.constructor=o,o.prototype._defaults=e.extend(i.util.clone(r._defaults),{_className:"ch-modal ch-box-lite",_ariaRole:"dialog",width:"50%",hiddenby:"all",reference:i.viewport,waiting:'<div class="ch-loading-large ch-loading-centered"></div>',position:"fixed"}),o.prototype._showUnderlay=function(){n.css("z-index",i.util.zIndex).appendTo(s),"none"!==this._options.fx?n.fadeIn(function(){n.removeClass("ch-hide")}):n.removeClass("ch-hide")},o.prototype._hideUnderlay=function(){"none"!==this._options.fx?n.fadeOut("normal",function(){n.remove(null,!0)}):n.addClass("ch-hide").remove(null,!0)},o.prototype.show=function(t,e){if(!this._enabled||this._shown)return this;var o=this;return"all"!==this._options.hiddenby&&"pointers"!==this._options.hiddenby||n.one(i.onpointertap,function(){o.hide()}),this._showUnderlay(),r.show.call(this,t,e),this},o.prototype.hide=function(){return this._shown?(n.off(i.onpointertap),this._hideUnderlay(),r.hide.call(this),this):this},i.factory(o,r._normalizeOptions)}(this,this.ch.$,this.ch),function(t,e){"use strict";function i(i,o){return void 0!==o||void 0===i||e.util.is$(i)||(o=i,i=void 0),o=t.extend(e.util.clone(this._defaults),o),o.content=t('<div class="ch-loading-large"></div><p>'+o.content+"</p>"),new e.Modal(i,o)}i.prototype.name="transition",i.prototype.constructor=i,i.prototype._defaults=t.extend(e.util.clone(e.Modal.prototype._defaults),{_className:"ch-transition ch-box-lite",_ariaRole:"alert",hiddenby:"none",content:"Please wait..."}),e.factory(i,e.Modal.prototype._normalizeOptions)}(this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=i.util.inherits(o,i.Layer);o.prototype.name="zoom",o.prototype.constructor=o,o.prototype._defaults=e.extend(i.util.clone(s._defaults),{_className:"ch-zoom",_ariaRole:"tooltip",_hideDelay:0,fx:"none",width:"300px",height:"300px",side:"right",align:"top",offsetX:20,offsetY:0,waiting:"Loading zoom..."}),o.prototype._init=function(o,n){s._init.call(this,o,n);var r=this;return this._loaded=!1,this._$loading=e('<div class="ch-zoom-loading ch-hide"><div class="ch-loading-large"></div><p>'+this._options.waiting+"</p></div>").appendTo(this.$trigger),this._$seeker=e('<div class="ch-zoom-seeker ch-hide">').appendTo(this.$trigger),this._seeker=this._$seeker[0],this._$original=this.$trigger.children().eq(0),this._zoomed=new t.Image,i.onImagesLoads(this._$original,function(){r._originalLoaded()}),i.onImagesLoads(e(this._zoomed),function(){r._zoomedLoaded()}),this.on("imageload",function(){r._$loading.hasClass("ch-hide")||r.show()}),this.$trigger.addClass("ch-zoom-trigger").on({"click.zoom":function(t){i.util.prevent(t)},"mousemove.zoom":function(t){r._move(t)}}),this},o.prototype._originalLoaded=function(){var t=this._$original[0].width,e=this._$original[0].height,o=i.util.getOffset(this._el);this.$trigger.css({width:t,height:e}),this._$loading.css({left:(t-this._$loading.width())/2,top:(e-this._$loading.height())/2}),this._originalWidth=t,this._originalHeight=e,this._originalOffsetLeft=o.left,this._originalOffsetTop=o.top},o.prototype._zoomedLoaded=function(){this._ratioX=this._zoomed.width/this._originalWidth,this._ratioY=this._zoomed.height/this._originalHeight,this._seekerWidth=t.Math.floor(t.parseInt(this._options.width,10)/this._ratioX),this._seekerHeight=t.Math.floor(t.parseInt(this._options.height,10)/this._ratioY),this._seekerHalfWidth=t.Math.floor(this._seekerWidth/2),this._seekerHalfHeight=t.Math.floor(this._seekerHeight/2),this._seeker.style.cssText="width:"+this._seekerWidth+"px;height:"+this._seekerHeight+"px",this.content(this._zoomed),this._loaded=!0,this.emit("imageload")},o.prototype._move=function(t){if(this._enabled&&this._loaded){var e,i,o=t.pageX-this._seekerHalfWidth,s=t.pageY-this._seekerHalfHeight;e=o<=this._originalOffsetLeft?0:t.pageX+this._seekerHalfWidth>this._originalWidth+this._originalOffsetLeft?this._originalWidth-this._seekerWidth-2:o-this._originalOffsetLeft,i=s<=this._originalOffsetTop?0:t.pageY+this._seekerHalfHeight>this._originalHeight+this._originalOffsetTop?this._originalHeight-this._seekerHeight-2:s-this._originalOffsetTop,this._seeker.style.left=e+"px",this._seeker.style.top=i+"px",this._zoomed.style.cssText="left:"+-this._ratioX*e+"px;top:"+-this._ratioY*i+"px"}},o.prototype.show=function(t,e){return!this._enabled||this._shown?this:this._loaded?(this._$loading.remove(),this._$seeker.removeClass("ch-hide"),s.show.call(this,t,e),this):(this._$loading.removeClass("ch-hide"),this.loadImage(),this)},o.prototype.hide=function(){return this._shown?this._loaded?(this._$seeker.addClass("ch-hide"),s.hide.call(this),this):(this._$loading.addClass("ch-hide"),this):this},o.prototype.loadImage=function(){return this._zoomed.src=this._el.href,this},o.prototype.destroy=function(){this._$seeker.remove(),s.destroy.call(this)},i.factory(o,s._normalizeOptions)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(t){return("string"==typeof t||i.util.isArray(t))&&(t={selected:t}),t}function s(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var n=function(t){return parseInt(t,10)<10?"0"+t:t},r={"YYYY/MM/DD":function(t){return[t.year,n(t.month),n(t.day)].join("/")},"DD/MM/YYYY":function(t){return[n(t.day),n(t.month),t.year].join("/")},"MM/DD/YYYY":function(t){return[n(t.month),n(t.day),t.year].join("/")}},h=function(t){return t="today"===t?new Date:new Date(t),{"native":t,day:t.getDate(),order:t.getDay(),month:t.getMonth()+1,year:t.getFullYear()}},a={prev:'<div class="ch-calendar-prev" role="button" aria-hidden="false"></div>',next:'<div class="ch-calendar-next" role="button" aria-hidden="false"></div>'},c=i.util.inherits(s,i.Component);s.prototype.name="calendar",s.prototype.constructor=s,s.prototype._defaults={monthsNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],format:"DD/MM/YYYY"},s.prototype._init=function(t,o){c._init.call(this,t,o);var s=this;return this._snippet=this._el.cloneNode(!0),this._dates={range:{}},this._dates.today=h("today"),this._dates.current=this._dates.today,this._dates.selected=function(){var t=s._options.selected;return t?(i.util.isArray(t)?e.each(t,function(e,o){i.util.isArray(o)?(t[e][0]="today"!==t[e][0]?h(o[0]):s._dates.today,t[e][1]="today"!==t[e][1]?h(o[1]):s._dates.today):t[e]="today"!==t[e]?h(o):s._dates.today}):t="today"!==t?s._dates.current=h(t):s._dates.today,t):t}(),this._dates.today=h("today"),this._dates.range.from=function(){return void 0!==s._options.from&&s._options.from?"today"===s._options.from?s._dates.today:h(s._options.from):void 0}(),this._dates.range.to=function(){return void 0!==s._options.to&&s._options.to?"today"===s._options.to?s._dates.today:h(s._options.to):void 0}(),this._$prev=e(a.prev).attr("aria-controls","ch-calendar-grid-"+this.uid).on(i.onpointertap+"."+this.name,function(t){i.util.prevent(t),s.prevMonth()}),this._$next=e(a.next).attr("aria-controls","ch-calendar-grid-"+this.uid).on(i.onpointertap+"."+this.name,function(t){i.util.prevent(t),s.nextMonth()}),this.$container=this._$el.addClass("ch-calendar").prepend(this._$prev).prepend(this._$next).append(this._createTemplate(this._dates.current)),this._updateControls(),i.util.avoidTextSelection(s.$container),this},s.prototype._hasPrevMonth=function(){return void 0===this._dates.range.from||!(this._dates.range.from.month>=this._dates.current.month&&this._dates.range.from.year>=this._dates.current.year)},s.prototype._hasNextMonth=function(){return void 0===this._dates.range.to||!(this._dates.range.to.month<=this._dates.current.month&&this._dates.range.to.year<=this._dates.current.year)},s.prototype._updateControls=function(){return this._hasPrevMonth()?this._$prev.removeClass("ch-hide").attr("aria-hidden","false"):this._$prev.addClass("ch-hide").attr("aria-hidden","true"),this._hasNextMonth()?this._$next.removeClass("ch-hide").attr("aria-hidden","false"):this._$next.addClass("ch-hide").attr("aria-hidden","true"),this},s.prototype._updateTemplate=function(t){return this._dates.current="string"==typeof t?h(t):t,this.$container.children("table").remove(),this.$container.append(this._createTemplate(this._dates.current)),this._updateControls(),this},s.prototype._createTemplate=function(t){var e,i,o,s,n=this,r=function(){var t,e=['<thead><tr role="row">'];for(t=0;7>t;t+=1)e.push('<th role="columnheader">'+n._defaults.weekdays[t]+"</th>");return e.push("</tr></thead>"),e.join("")}(),h=['<table class="ch-calendar-month" role="grid" id="ch-calendar-grid-'+n.uid+'">',"<caption>"+n._defaults.monthsNames[t.month-1]+" - "+t.year+"</caption>",r],a=function(){var e=new Date(t.year,t.month,0).getDate(),i=new Date([t.year,t.month,"01"].join("/")).getDay(),o=i+e,s=o%7,n=s>0?7-s:0;return{previous:i,subtotal:o,total:o+n}}();for(h.push('<tbody><tr class="ch-calendar-week" role="row">'),e=0;e<a.total;e+=1)e<a.previous||e>a.subtotal-1?h.push('<td role="gridcell" class="ch-calendar-other">X</td>'):(i=e+1,o=i-a.previous,s=this._isSelected(t.year,t.month,o),h.push('<td role="gridcell"'+(s?' aria-selected="true"':"")+' class="ch-calendar-day',t.year===n._dates.today.year&&t.month===n._dates.today.month&&o===n._dates.today.day?" ch-calendar-today":null,s?" ch-calendar-selected ":null,n._dates.range.from&&o<n._dates.range.from.day&&t.month===n._dates.range.from.month&&t.year===n._dates.range.from.year||n._dates.range.to&&o>n._dates.range.to.day&&t.month===n._dates.range.to.month&&t.year===n._dates.range.to.year?" ch-calendar-disabled":null,'">'+o+"</td>"),i%7===0&&h.push('</tr><tr class="ch-calendar-week" role="row">'));return h.push("</tr></tbody></table>"),h.join("")},s.prototype._isInRange=function(t){var e=!0,i=!0;return this._dates.range.from&&(e=this._dates.range.from["native"]<=t["native"]),this._dates.range.to&&(i=this._dates.range.to["native"]>=t["native"]),e&&i},s.prototype._isSelected=function(t,o,s){var n;if(this._dates.selected){if(n=!1,i.util.isArray(this._dates.selected))e.each(this._dates.selected,function(e,r){if(i.util.isArray(r)){if(t>=r[0].year&&o>=r[0].month&&s>=r[0].day&&t<=r[1].year&&o<=r[1].month&&s<=r[1].day)return n=!0}else if(t===r.year&&o===r.month&&s===r.day)return n=!0});else if(t===this._dates.selected.year&&o===this._dates.selected.month&&s===this._dates.selected.day)return n=!0;return n}},s.prototype.select=function(t){if(!t){if(void 0===this._dates.selected)return;return r[this._options.format](this._dates.selected)}var e=h(t);return this._isInRange(e)?(this._dates.selected="today"===t?this._dates.today:e,this._updateTemplate(this._dates.selected),this.emit("select"),this):this},s.prototype.getToday=function(){return r[this._options.format](this._dates.today)},s.prototype.nextMonth=function(){return this._enabled&&this._hasNextMonth()?(12===this._dates.current.month&&(this._dates.current.month=0,this._dates.current.year+=1),this._updateTemplate([this._dates.current.year,this._dates.current.month+1,"01"].join("/")),this.emit("nextmonth"),this):this},s.prototype.prevMonth=function(){return this._enabled&&this._hasPrevMonth()?(1===this._dates.current.month&&(this._dates.current.month=13,this._dates.current.year-=1),this._updateTemplate([this._dates.current.year,this._dates.current.month-1,"01"].join("/")),this.emit("prevmonth"),this):this},s.prototype.nextYear=function(){return this._enabled&&this._hasNextMonth()?(this._updateTemplate([this._dates.current.year+1,this._dates.current.month,"01"].join("/")),this.emit("nextyear"),this):this},s.prototype.prevYear=function(){return this._enabled&&this._hasPrevMonth()?(this._updateTemplate([this._dates.current.year-1,this._dates.current.month,"01"].join("/")),this.emit("prevyear"),this):this},s.prototype.setFrom=function(t){return this._dates.range.from="auto"===t?void 0:h(t),this._updateTemplate(this._dates.current),this},s.prototype.setTo=function(t){return this._dates.range.to="auto"===t?void 0:h(t),this._updateTemplate(this._dates.current),this},s.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),e(t.document).trigger(i.onlayoutchange),c.destroy.call(this)},i.factory(s,o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=e(t.document),n=i.onpointerenter+".dropdown",r=i.util.inherits(o,i.Layer);o.prototype.name="dropdown",o.prototype.constructor=o,o.prototype._defaults=e.extend(i.util.clone(r._defaults),{_className:"ch-dropdown ch-box-lite",_ariaRole:"combobox",fx:"none",shownby:"pointertap",hiddenby:"pointers",offsetY:-1,skin:!1,shortcuts:!0}),o.prototype._init=function(t,o){r._init.call(this,t,o);var s=this,h=this.$trigger.next();return this.$trigger.addClass("ch-dropdown-trigger").prop("aria-activedescendant","ch-dropdown"+this.uid+"-selected"),i.util.avoidTextSelection(this.$trigger),this._options.skin?(this.$trigger.addClass("ch-dropdown-trigger-skin"),this.$container.addClass("ch-dropdown-skin")):this.$trigger.addClass("ch-btn-skin ch-btn-small"),this._$navigation=h.find("a").prop("role","option"),e.each(this._$navigation,function(t,i){e(i).on(n,function(){s._$navigation[s._selected=t].focus()})}),this._options.shortcuts&&void 0!==this._navigationShortcuts&&this._navigationShortcuts(),this._options.content=h,this._snippet=this._options.content[0].cloneNode(),this},o.prototype.show=function(t,e){return this._enabled?(r.show.call(this,t,e),this._options.skin&&this.$trigger.css("z-index",i.util.zIndex+=1),this._selected=-1,this):this},o.prototype.destroy=function(){this.$trigger.off(".dropdown").removeClass("ch-dropdown-trigger ch-dropdown-trigger-skin ch-user-no-select ch-btn-skin ch-btn-small").removeAttr("aria-controls").after(this._snippet),this.$container.off(".dropdown"),s.trigger(i.onlayoutchange),e.each(this._$navigation,function(t,i){e(i).off(n)}),r.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t){"use strict";t.Dropdown.prototype._highlightOption=function(t){var e=this._$navigation.length;this._shown&&this._selected!==("down_arrow"===t?e-1:0)&&(-1!==this._selected&&(this._$navigation[this._selected].blur(),this._$navigation[this._selected].removeAttribute("id")),"down_arrow"===t?this._selected+=1:this._selected-=1,this._$navigation[this._selected].focus(),this._$navigation[this._selected].id="ch-dropdown"+this.uid+"-selected")},t.Dropdown.prototype._navigationShortcuts=function(){var e=this;return t.shortcuts.add(t.onkeyuparrow,this.uid,function(i){t.util.prevent(i),e._highlightOption(i.type)}),t.shortcuts.add(t.onkeydownarrow,this.uid,function(i){t.util.prevent(i),e._highlightOption(i.type)}),this.once("destroy",function(){t.shortcuts.remove(t.onkeyuparrow,e.uid),t.shortcuts.remove(t.onkeydownarrow,e.uid)}),this}}(this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}function s(t){o.prototype[t]=function(e){var i;if(void 0!==e)this.tabpanels[e-1][t]();else{for(i=this.tabpanels.length;i;)this.tabpanels[i-=1][t]();n[t].call(this),this._el.setAttribute("aria-disabled",!this._enabled)}return this}}var n=i.util.inherits(o,i.Component),r=t.location,h=["enable","disable"],a=h.length,c=new RegExp("\\#!?\\/?(.[^\\?|\\&|\\s]+)");for(o.prototype.name="tabs",o.prototype.constructor=o,o.prototype._init=function(t,e){n._init.call(this,t,e);var i=this;return this._currentHash=function(){var t=r.hash.match(c);return null!==t?t[1]:""}(),this._snippet=this._el.cloneNode(!0),this.$container=this._$el.addClass("ch-tabs"),this.$triggers=this.$container.children(":first-child").addClass("ch-tabs-triggers").attr("role","tablist"),this.tabpanels=[],this.$panel=this.$container.children(":last-child").addClass("ch-tabs-panel ch-box-lite").attr("role","presentation"),this._$tabsPanels=this.$panel.children(),this.$triggers.find("a").each(function(t,e){i._createTab(t,e)}),this._shown=1,this._hasHash(),this},o.prototype._createTab=function(t,o){var s,n=this,r=this._$tabsPanels.eq(t),h={_classNameTrigger:"ch-tab",_classNameContainer:"ch-tabpanel ch-hide",toggle:!1};return void 0===r[0]&&(r=e('<div id="'+o.href.split("#")[1]+'">').appendTo(this.$panel),h.content=o.href,h.waiting=this._options.waiting,h.cache=this._options.cache,h.method=this._options.method),h.container=r,s=new i.Expandable(e(o),h),s._hash=o.href.split("#")[1],s.$trigger.attr("role","tab"),s.$container.attr("role","tabpanel"),s.on("show",function(){n._updateShown(t+1)}),this.tabpanels.push(s),this},o.prototype._hasHash=function(){this.emit("hide",this._shown);var t=0,e=this.tabpanels.length;for(t;e>t;t+=1)if(this.tabpanels[t]._hash===this._currentHash){this._shown=t+1;break}return this.tabpanels[this._shown-1].show(),this.emit("show",this._shown),this},o.prototype.show=function(t){return this.tabpanels[t-1].show(),this},o.prototype._updateShown=function(t){return this._shown===t?this:(this.emit("hide",this._shown),this.tabpanels[this._shown-1].hide(),this._shown=t,r.hash=this._currentHash=""===this._currentHash?"#!/"+this.tabpanels[this._shown-1]._hash:r.hash.replace(r.hash.match(c)[1],this.tabpanels[this._shown-1]._hash),this.emit("show",this._shown),this)},o.prototype.getShown=function(){return this._shown},o.prototype.content=function(e,i,o){if(void 0===e||"number"!=typeof e)throw new t.Error("Tabs.content(tab, content, options): Expected a number of tab.");return void 0===i?this.tab[e-1].content():(this.tabpanels[e-1].content(i,o),this)};a;)s(h[a-=1]);o.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),e(t.document).trigger(i.onlayoutchange),n.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var s=i.onpointertap+".carousel",n=t.Math,r=t.setTimeout,h=i.util.inherits(o,i.Component);o.prototype.name="carousel",o.prototype.constructor=o,o.prototype._defaults={async:0,arrows:!0,pagination:!1,fx:!0},o.prototype._init=function(o,n){h._init.call(this,o,n);var r=this;return this._snippet=this._el.cloneNode(!0),this._$list=this._$el.addClass("ch-carousel").children().addClass("ch-carousel-list"),this._$items=this._$list.children().addClass("ch-carousel-item"),this._$mask=e('<div class="ch-carousel-mask" role="tabpanel">').html(this._$list).appendTo(this._$el),this._maskWidth=i.util.getOuterDimensions(this._$mask[0]).width,this._itemWidth=this._$items.width(),this._itemOuterWidth=i.util.getOuterDimensions(this._$items[0]).width,this._itemExtraWidth=0,this._itemHeight=this._$items.height(),this._itemMargin=0,this._arrowsCreated=!1,this._paginationCreated=!1,this._limitPerPage=0,this._currentPage=1,this._pages=0,this._pageWidth=0,this._async=this._options.async,this._$prevArrow=e('<div class="ch-carousel-prev ch-carousel-disabled" role="button" aria-hidden="true">').on(s,function(){r.prev()}),r._$nextArrow=e('<div class="ch-carousel-next" role="button" aria-hidden="false">').on(s,function(){r.next()}),this._$pagination=e('<div class="ch-carousel-pages" role="navigation">').on(s,function(e){var i=e.target.getAttribute("data-page");null!==i&&r.select(t.parseInt(i,10))}),i.viewport.on("resize",function(){r.refresh()}),this._options.fx||this._$list.addClass("ch-carousel-nofx"),i.support.transition||this._$list.css({position:"absolute",left:"0"}),this._options.pagination&&this._addPagination(),void 0!==this._options.arrows&&this._options.arrows!==!1&&this._addArrows(),this._updateARIA(),this._updateLimitPerPage(),this._updateDistribution(),this},o.prototype._updateARIA=function(){var t,i=this,o=this._$items.length+this._async;e.each(this._$items,function(e,s){t=n.floor(e/i._limitPerPage)+1,s.setAttribute("aria-hidden",t!==i._currentPage),s.setAttribute("aria-setsize",o),s.setAttribute("aria-posinset",e+1),s.setAttribute("aria-label","page"+t)})},o.prototype._loadAsyncItems=function(){if(0!==this._async){var t,i=this._currentPage*this._limitPerPage,o=i-this._$items.length,s=this._itemWidth+this._itemExtraWidth,n=(s*this._itemHeight/this._itemWidth).toFixed(3),r=["<li",' class="ch-carousel-item"',' style="width:'+s+"px;height:"+n+"px;margin-right:"+this._itemMargin+'px"',"></li>"].join(""),h="";if(!(1>o)){for(o=this._async<o?this._async:o;o;)h+=r,o-=1;t=e(h),this._$list.append(t),this._$items=this._$list.children(),this._updateARIA(),this._async-=o,this.emit("itemsadd",t)}}},o.prototype._addPagination=function(){this._paginationCreated&&this._removePagination();for(var t,e=this,o=[],s=e._pages;s;)t=s===e._currentPage,o.unshift("<span",' role="button"',' aria-selected="'+t+'"',' aria-controls="page'+s+'"',' data-page="'+s+'"',' class="'+(t?"ch-carousel-selected":"")+'"',">"+s+"</span>"),s-=1;e._$pagination.html(o.join("")).appendTo(e._$el),i.util.avoidTextSelection(e._$pagination),e._paginationCreated=!0},o.prototype._removePagination=function(){this._paginationCreated&&(this._$pagination[0].innerHTML="",this._paginationCreated=!1)},o.prototype._standbyFX=function(t){var e=this;this._options.fx?(this._$list.addClass("ch-carousel-nofx"),t.call(this),r(function(){e._$list.removeClass("ch-carousel-nofx")},0)):t.call(this)},o.prototype._updatePages=function(){this._pages=n.ceil((this._$items.length+this._async)/this._limitPerPage),this._loadAsyncItems(),this._updateARIA(),this._updateArrows(),this._options.pagination&&this._addPagination()},o.prototype._updateLimitPerPage=function(){var t,e=this._options.limitPerPage,i=n.floor(this._maskWidth/this._itemOuterWidth)||1;void 0!==e&&i>e&&(i=e),i!==this._limitPerPage&&(t=(this._currentPage-1)*this._limitPerPage+1,this._limitPerPage=i,this._updatePages(),this.select(n.ceil(t/i)))},o.prototype._updateDistribution=function(){var t,e,o=this._limitPerPage>1,s=this._maskWidth-this._itemOuterWidth*this._limitPerPage,r=o?n.ceil(s/this._limitPerPage/2):n.ceil(s);r===this._itemExtraWidth&&r>0||(this._itemExtraWidth=r,t=o?this._limitPerPage-1:0,e=this._itemWidth+r,this._itemMargin=o?n.ceil(s/t/2):0,this._pageWidth=(this._itemOuterWidth+r+this._itemMargin)*this._limitPerPage,this._standbyFX(function(){this._$list.css("width",this._pageWidth*this._pages)}),this._$items.css({width:e,height:(e*this._itemHeight/this._itemWidth).toFixed(3),"margin-right":this._itemMargin}),this._$mask[0].style.height=i.util.getOuterDimensions(this._$items[0]).height+"px",this._standbyFX(function(){this._translate(-this._pageWidth*(this._currentPage-1))}))},o.prototype._addArrows=function(){i.util.avoidTextSelection(this._$prevArrow,this._$nextArrow),this._$el.prepend(this._$prevArrow).append(this._$nextArrow),this._arrowsCreated=!0},o.prototype._disableArrows=function(t,e){this._$prevArrow.attr("aria-disabled",t)[t?"addClass":"removeClass"]("ch-carousel-disabled"),this._$nextArrow.attr("aria-disabled",e)[e?"addClass":"removeClass"]("ch-carousel-disabled")},o.prototype._updateArrows=function(){this._arrowsCreated&&(1===this._pages?this._disableArrows(!0,!0):1===this._currentPage?this._disableArrows(!0,!1):this._currentPage===this._pages?this._disableArrows(!1,!0):this._disableArrows(!1,!1))},o.prototype._translate=function(){var t="-"+i.util.VENDOR_PREFIX+"-transform";return i.support.transition?function(e){this._$list.css(t,"translateX("+e+"px)")}:function(t){this._$list[this._options.fx?"animate":"css"]({left:t})}}(),o.prototype._switchPagination=function(t,e){if(this._paginationCreated){var i=this._$pagination.children();i.eq(t-1).attr("aria-selected",!1).removeClass("ch-carousel-selected"),i.eq(e-1).attr("aria-selected",!0).addClass("ch-carousel-selected")}},o.prototype.refresh=function(){var t=this,e=i.util.getOuterDimensions(this._$mask[0]).width;return e!==this._maskWidth&&(this._maskWidth=e,this._updateLimitPerPage(),this._updateDistribution(),this.emit("refresh")),this._$list.children().length!==this._$items.length&&(this._$items=this._$list.children(),this._updatePages(),this._currentPage>this._pages&&this._standbyFX(function(){t.select(t._pages)}),this.emit("refresh")),this},o.prototype.select=function(t){return void 0===t?this._currentPage:!this._enabled||t===this._currentPage||1>t||t>this._pages?this:(this._translate(-this._pageWidth*(t-1)),this._switchPagination(this._currentPage,t),this._currentPage=t,this._updateArrows(),this._loadAsyncItems(),this.emit("select"),this)},o.prototype.prev=function(){return this.select(this._currentPage-1),this.emit("prev"),this},o.prototype.next=function(){return this.select(this._currentPage+1),this.emit("next"),this},o.prototype.enable=function(){return this._el.setAttribute("aria-disabled",!1),this._disableArrows(!1,!1),h.enable.call(this),this},o.prototype.disable=function(){return this._el.setAttribute("aria-disabled",!0),this._disableArrows(!0,!0),h.disable.call(this),this},o.prototype.destroy=function(){this._el.parentNode.replaceChild(this._snippet,this._el),e(t.document).trigger(i.onlayoutchange),h.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e){var i=t.parseInt(e,10);return t.isNaN(i)||(e={max:i}),e}function s(e,i){var o=this;o._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}var n=i.util.inherits(s,i.Component);
s.prototype.name="countdown",s.prototype.constructor=s,s.prototype._defaults={plural:"# characters left.",singular:"# character left.",max:500},s.prototype._init=function(t,i){n._init.call(this,t,i);var o,s=this,r="ch-countdown-message-"+s.uid;return this.$trigger=this._$el.on("keyup.countdown keypress.countdown keydown.countdown paste.countdown cut.countdown input.countdown",function(){s._count()}),s._remaining=s._options.max-s._contentLength(),o=1===s._remaining?s._options.singular:s._options.plural,s.$container=e('<p class="ch-countdown ch-form-hint" id="'+r+'">'+o.replace("#",s._remaining)+"</p>").appendTo(s._$el.parent()),this.on("disable",this._removeError),this},s.prototype._contentLength=function(){return this._el.value.length},s.prototype._count=function(){if(!this._enabled)return this;var t,e=this._contentLength();return this._remaining=this._options.max-e,e<=this._options.max?this._exceeded&&(this._exceeded=!1,this._removeError()):e>this._options.max&&(this.emit("exceed"),this._exceeded=!0,this.$trigger.addClass("ch-validation-error").attr("aria-invalid","true"),this.$container.addClass("ch-countdown-exceeded")),t=(1!==this._remaining?this._options.plural:this._options.singular).replace(/\#/g,this._remaining),this.$container.text(t),this},s.prototype._removeError=function(){return this.$trigger.removeClass("ch-validation-error").attr("aria-invalid","false"),this.$container.removeClass("ch-countdown-exceeded"),this},s.prototype.destroy=function(){this.$trigger.off(".countdown"),this.$container.remove(),e(t.document).trigger(i.onlayoutchange),n.destroy.call(this)},i.factory(s,o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50)}function s(t){o.prototype[t]=function(){return this._popover[t](),n[t].call(this),this}}var n=i.util.inherits(o,i.Component),r=["enable","disable"],h=r.length;for(o.prototype.name="datepicker",o.prototype.constructor=o,o.prototype._defaults={format:"DD/MM/YYYY",side:"bottom",align:"center",hiddenby:"pointers"},o.prototype._init=function(t,o){n._init.call(this,t,o);var s=this;return this.field=this._el,this.$trigger=e('<i role="button" class="ch-datepicker-trigger ch-icon-calendar"></i>').insertAfter(this.field),this._calendar=e("<div>").calendar(o),this._popover=this.$trigger.popover({_className:"ch-datepicker ch-cone",_ariaRole:"tooltip",content:this._calendar.$container,side:this._options.side,align:this._options.align,offsetX:1,offsetY:10,shownby:"pointertap",hiddenby:this._options.hiddenby}),this._popover._$content.on(i.onpointertap,function(t){var e=t.target;"TD"===e.nodeName&&-1===e.className.indexOf("ch-calendar-disabled")&&-1===e.className.indexOf("ch-calendar-other")&&s.pick(e.innerHTML)}),this.field.setAttribute("aria-describedby","ch-popover-"+this._popover.uid),this.field.type="text",this.field.value=this._options.selected?this._calendar.select():this.field.value,this.on("disable",this.hide),this},o.prototype.show=function(){return this._enabled?(this._popover.show(),this.emit("show"),this):this},o.prototype.hide=function(){return this._popover.hide(),this.emit("hide"),this},o.prototype.pick=function(t){return this.field.value=[this._calendar._dates.current.year,this._calendar._dates.current.month,t].join("/"),this._popover.hide(),this.select(this.field.value),this},o.prototype.select=function(t){return t?(this._calendar.select(t),this.field.value=this._calendar.select(),this.emit("select"),this):this._calendar.select()},o.prototype.getToday=function(){return this._calendar.getToday()},o.prototype.nextMonth=function(){return this._calendar.nextMonth(),this.emit("nextmonth"),this},o.prototype.prevMonth=function(){return this._calendar.prevMonth(),this.emit("prevmonth"),this},o.prototype.nextYear=function(){return this._calendar.nextYear(),this.emit("nextyear"),this},o.prototype.prevYear=function(){return this._calendar.prevYear(),this.emit("prevyear"),this},o.prototype.reset=function(){return this.field.value="",this._calendar.reset(),this.emit("reset"),this},o.prototype.setFrom=function(t){return this._calendar.setFrom(t),this},o.prototype.setTo=function(t){return this._calendar.setTo(t),this};h;)s(r[h-=1]);o.prototype.destroy=function(){this.$trigger.remove(),this._el.removeAttribute("aria-describedby"),this._el.type="date",this._popover.destroy(),n.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e,i){"use strict";function o(e,i){var o=this;return this._init(e,i),void 0!==this.initialize&&this.initialize(),t.setTimeout(function(){o.emit("ready")},50),this}var s=i.util.inherits(o,i.Component);o.prototype.name="autocomplete",o.prototype.constructor=o,o.prototype._defaults={loadingClass:"ch-autocomplete-loading",highlightedClass:"ch-autocomplete-highlighted",itemClass:"ch-autocomplete-item",addClass:"ch-box-lite ch-autocomplete",side:"bottom",align:"left",html:!1,_hiddenby:"none",keystrokesTime:150,_itemTemplate:'<li class="{{itemClass}}"{{suggestedData}}>{{term}}<i class="ch-icon-arrow-up" data-js="ch-autocomplete-complete-query"></i></li>'},o.prototype._init=function(t,o){var n=this,r="mousedown."+this.name,h="mouseover."+this.name,a=i.support.touch?r:h;return s._init.call(this,t,o),this._options._itemTemplate=this._options._itemTemplate.replace("{{itemClass}}",this._options.itemClass),this._options.html&&(this._options._itemTemplate=this._options._itemTemplate.replace("{{suggestedData}}","")),this._$suggestionsList=e('<ul class="ch-autocomplete-list"></ul>'),this._popover=e.popover({reference:this._$el,content:this._$suggestionsList,side:this._options.side,align:this._options.align,addClass:this._options.addClass,hiddenby:this._options._hiddenby,width:this._el.getBoundingClientRect().width+"px",fx:this._options.fx}),this.$container=this._popover.$container.attr("aria-hidden","true").on(a,function(t){n._highlightSuggestion(e(t.target))}).on(r,function(t){return"I"!==t.target.nodeName||n._options.html?void(("LI"===t.target.nodeName&&-1!==t.target.className.indexOf(n._options.itemClass)||"LI"===t.target.parentElement.nodeName&&-1!==t.target.parentElement.className.indexOf(n._options.itemClass))&&n._selectSuggestion()):(i.util.prevent(t),n._el.value=n._suggestions[n._highlighted],void n.emit("type",n._el.value))}),this.$trigger=this._$el.attr({"aria-autocomplete":"list","aria-haspopup":"true","aria-owns":this.$container[0].id,autocomplete:"off"}).on("focus."+this.name,function(){n._turnOn()}).on("blur."+this.name,function(){n._turnOff()}),this._highlighted=null,this._suggestions=[],this._originalQuery=this._currentQuery=this._el.value,void 0!==this._configureShortcuts&&this._configureShortcuts(),this._$el.is(":focus")&&this._turnOn(),this},o.prototype._turnOn=function(){if(!this._enabled)return this;var e=this;return this._originalQuery=this._el.value,this.$trigger.on(i.onkeyinput,function(){return e._currentQuery=e._el.value.replace(/^\s+|\s+$/g,""),""===e._currentQuery?e.hide():(t.clearTimeout(e._stopTyping),void(e._stopTyping=t.setTimeout(function(){e.$trigger.addClass(e._options.loadingClass),e.emit("type",e._currentQuery)},e._options.keystrokesTime)))}),this},o.prototype._turnOff=function(){return this._enabled?(this.hide(),this.$trigger.off(i.onkeyinput),this):this},o.prototype._selectSuggestion=function(){return t.clearTimeout(this._stopTyping),null===this._highlighted?this:(this._options.html||(this._el.value=this._suggestions[this._highlighted]),this._el.blur(),this.emit("select"),this)},o.prototype._highlightSuggestion=function(t){var e=t.attr("aria-posinset")?t:t.parents("li[aria-posinset]");return this._highlighted=void 0!==e[0]?parseInt(e.attr("aria-posinset"),10)-1:null,this._toogleHighlighted(),this},o.prototype._toogleHighlighted=function(){var t="#"+this.$container[0].id,i=null===this._highlighted?null:this._highlighted+1;return e(t+" [aria-posinset]."+this._options.highlightedClass).removeClass(this._options.highlightedClass),e(t+' [aria-posinset="'+i+'"]').addClass(this._options.highlightedClass),this},o.prototype.suggest=function(i){var o,s,n,r,h=this,a=[],c=new RegExp("("+this._currentQuery.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+")","ig"),l=0,u=this._options._itemTemplate,d=i.length;if(this.$trigger.removeClass(h._options.loadingClass),0===d)return this._popover.hide(),this;for(this._popover.isShown()||t.document.activeElement!==this._el||this._popover.show(),e("."+this._options.highlightedClass,this.$container).removeClass(this._options.highlightedClass),s=0;d>s;s+=1)n=i[s],h._options.html||(n=n.replace(c,"<strong>$1</strong>"),u=this._options._itemTemplate.replace("{{suggestedData}}",' data-suggested="'+i[s]+'"')),a.push(u.replace("{{term}}",n));for(this._$suggestionsList[0].innerHTML=a.join(""),o=e("."+this._options.itemClass,this.$container),l=o.length,this._suggestions.length=0,s=0;l>s;s+=1)r=o[s],h._suggestions.push(r.getAttribute("data-suggested")),r.setAttribute("aria-posinset",h._suggestions.length),r.setAttribute("aria-setsize",l);return this._highlighted=null,this._suggestionsQuantity=this._suggestions.length,this},o.prototype.hide=function(){return this._enabled?(this._popover.hide(),this.emit("hide"),this):this},o.prototype.isShown=function(){return this._popover.isShown()},o.prototype.disable=function(){return this.isShown()&&(this.hide(),this._el.blur()),s.disable.call(this),this},o.prototype.destroy=function(){this.$trigger.off("."+this.name).removeAttr("autocomplete aria-autocomplete aria-haspopup aria-owns"),this._popover.destroy(),s.destroy.call(this)},i.factory(o)}(this,this.ch.$,this.ch),function(t,e){"use strict";t.prototype._configureShortcuts=function(){var t=this;return e.shortcuts.add(e.onkeyenter,this.uid,function(i){e.util.prevent(i),t._selectSuggestion()}),e.shortcuts.add(e.onkeyesc,this.uid,function(){t.hide(),t._el.value=t._originalQuery}),e.shortcuts.add(e.onkeyuparrow,this.uid,function(i){e.util.prevent(i);var o;null===t._highlighted?(t._highlighted=t._suggestionsQuantity-1,o=t._suggestions[t._highlighted]):t._highlighted<=0?(this._prevHighlighted=this._currentHighlighted=null,o=t._currentQuery):(t._highlighted-=1,o=t._suggestions[t._highlighted]),t._toogleHighlighted(),t._options.html||(t._el.value=o)}),e.shortcuts.add(e.onkeydownarrow,this.uid,function(){var e;null===t._highlighted?(t._highlighted=0,e=t._suggestions[t._highlighted]):t._highlighted>=t._suggestionsQuantity-1?(t._highlighted=null,e=t._currentQuery):(t._highlighted+=1,e=t._suggestions[t._highlighted]),t._toogleHighlighted(),t._options.html||(t._el.value=e)}),this._popover.on("show",function(){e.shortcuts.on(t.uid)}),this._popover.on("hide",function(){e.shortcuts.off(t.uid)}),this.on("destroy",function(){e.shortcuts.remove(this.uid)}),this}}(this.ch.Autocomplete,this.ch);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoaWNvLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIiQiLCJjaCIsIm5hdmlnYXRvciIsImRvY3VtZW50IiwidXNlckFnZW50IiwiYm9keSIsImh0bWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIiRodG1sIiwiT2JqZWN0IiwiQXJyYXkiLCJwcm9wIiwicmVnZXgiLCJzdHlsZURlY2xhcmF0aW9uIiwic3R5bGUiLCJ0ZXN0IiwibWF0Y2giLCJ0b0xvd2VyQ2FzZSIsInV0aWwiLCJpc0FycmF5Iiwib2JqIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJpc1VybCIsInVybCIsImlzJCIsInplcHRvIiwiJGVsIiwiaXNaIiwiYXZvaWRUZXh0U2VsZWN0aW9uIiwiYXJncyIsImFyZ3VtZW50cyIsImxlbiIsImxlbmd0aCIsImkiLCJoYXNDbGFzcyIsImF0dHIiLCJhZGRDbGFzcyIsImdldFN0eWxlcyIsImVsIiwibm9kZVR5cGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJlcGxhY2UiLCJzdHIiLCIkMSIsInRvVXBwZXJDYXNlIiwiY3VycmVudFN0eWxlIiwiY2xvbmUiLCJjb3B5IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwiY2hpbGQiLCJleHRlbmQiLCJwcmV2ZW50IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImdldFNjcm9sbCIsImxlZnQiLCJwYWdlWE9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJ0b3AiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImdldE91dGVyRGltZW5zaW9ucyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwicmlnaHQiLCJoZWlnaHQiLCJib3R0b20iLCJnZXRPZmZzZXQiLCJyZWN0IiwiZml4ZWRQYXJlbnQiLCJnZXRQb3NpdGlvbmVkUGFyZW50Iiwic2Nyb2xsIiwib2Zmc2V0IiwicG9zaXRpb24iLCJwYXJlbnQiLCJjdXJyZW50UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwiVkVORE9SX1BSRUZJWCIsInpJbmRleCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJNU1RyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsImZ4IiwiZm4iLCJzbGlkZURvd24iLCJ0b3VjaCIsIm9ubGF5b3V0Y2hhbmdlIiwib25yZXNpemUiLCJvbnNjcm9sbCIsIm9ucG9pbnRlcmRvd24iLCJvbnBvaW50ZXJ1cCIsIm9ucG9pbnRlcm1vdmUiLCJvbnBvaW50ZXJ0YXAiLCJvbnBvaW50ZXJlbnRlciIsIm9ucG9pbnRlcmxlYXZlIiwib25rZXlpbnB1dCIsImNyZWF0ZUVsZW1lbnQiLCJvbmtleXRhYiIsIm9ua2V5ZW50ZXIiLCJvbmtleWVzYyIsIm9ua2V5bGVmdGFycm93Iiwib25rZXl1cGFycm93Iiwib25rZXlyaWdodGFycm93Iiwib25rZXlkb3duYXJyb3ciLCJvbmtleWJhY2tzcGFjZSIsImZhY3RvcnkiLCJLbGFzcyIsIm5hbWUiLCJjb25zdHJ1Y3Rvck5hbWUiLCJfcHJlc2V0IiwiY2hhckF0Iiwic3Vic3RyIiwib3B0aW9ucyIsImNvbXBvbmVudHMiLCJhcHBseSIsInRoaXMiLCJlYWNoIiwiZGF0YSIsImVtaXQiLCJwdXNoIiwicmVtb3ZlQ2xhc3MiLCJ2ZXJzaW9uIiwiRXZlbnRFbWl0dGVyIiwib24iLCJsaXN0ZW5lciIsIm9uY2UiLCJfZXZlbnRzQ29sbGVjdGlvbiIsIm9mZiIsImxpc3RlbmVycyIsInNwbGljZSIsImdldExpc3RlbmVycyIsInNsaWNlIiwic2hpZnQiLCJ0eXBlIiwidGFyZ2V0IiwiQ29udGVudCIsInNldEFzeW5jQ29udGVudCIsInRoYXQiLCJfJGNvbnRlbnQiLCJyZXNwb25zZSIsInN0YXR1cyIsInNldENvbnRlbnQiLCJjb250ZW50IiwiX29wdGlvbnMiLCJjYWNoZSIsImdldEFzeW5jQ29udGVudCIsIm1ldGhvZCIsInBhcmFtcyIsImFzeW5jIiwid2FpdGluZyIsImRlZmF1bHRzIiwiYWpheCIsImJlZm9yZVNlbmQiLCJqcVhIUiIsInNldFJlcXVlc3RIZWFkZXIiLCJzdWNjZXNzIiwiZXJyb3IiLCJ0ZXh0U3RhdHVzIiwiZXJyb3JUaHJvd24iLCJyZW1vdmUiLCJDb2xsYXBzaWJsZSIsInNob3dDYWxsYmFjayIsIiRjb250YWluZXIiLCJoaWRlQ2FsbGJhY2siLCJ0cmlnZ2VyQ2xhc3MiLCJ1c2VFZmZlY3RzIiwiX3Nob3duIiwiX3Nob3ciLCIkdHJpZ2dlciIsIl9oaWRlIiwidG9nZ2xlRWZmZWN0cyIsIl90b2dnbGUiLCJoaWRlIiwic2hvdyIsInNsaWRlVXAiLCJmYWRlSW4iLCJmYWRlT3V0IiwidXBkYXRlIiwiZXZlIiwicmVzaXplZCIsInJlZnJlc2giLCJzY3JvbGxlZCIsIlZpZXdwb3J0IiwiX2luaXQiLCIkd2luZG93IiwicmVxdWVzdEFuaW1GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImNhbGN1bGF0ZUNsaWVudFJlY3QiLCJjYWxjdWxhdGVEaW1lbnNpb25zIiwiY2FsY3VsYXRlT2Zmc2V0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0Iiwib2Zmc2V0Qm90dG9tIiwiY2FsY3VsYXRlT3JpZW50YXRpb24iLCJvcmllbnRhdGlvbiIsIk1hdGgiLCJhYnMiLCJpblZpZXdwb3J0IiwiciIsImlzVmlzaWJsZSIsInZpZXdwb3J0IiwiUG9zaXRpb25lciIsIl9kZWZhdWx0cyIsIl9jb25maWd1cmUiLCJfY29uc3RydWN0b3IiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInNpZGUiLCJhbGlnbiIsInJlZmVyZW5jZSIsInBhcnNlSW50IiwiJHRhcmdldCIsIiRyZWZlcmVuY2UiLCJfcmVmZXJlbmNlIiwiY3NzIiwiX2NhbGN1bGF0ZVJlZmVyZW5jZSIsIl9jYWxjdWxhdGVUYXJnZXQiLCJfc2V0UG9pbnQiLCJzZXRBdHRyaWJ1dGUiLCJfdGFyZ2V0IiwiY29vcnMiLCJvcml0ZW50YXRpb25NYXAiLCJvcml0ZW50YXRpb24iLCJjZW50ZXIiLCIkZG9jdW1lbnQiLCJjb2RlTWFwIiwiOCIsIjkiLCIxMyIsIjI3IiwiMzciLCIzOCIsIjM5IiwiNDAiLCJzaG9ydGN1dHMiLCJfYWN0aXZlIiwiX3F1ZXVlIiwiX2NvbGxlY3Rpb24iLCJhZGQiLCJzaG9ydGN1dCIsImV2dCIsImV2dENvbGxlY3Rpb24iLCJldnRDb2xsZWN0aW9uTGVuZ2h0IiwicXVldWVMZW5ndGgiLCJpdGVtIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2tzTGVuZ2h0Iiwia2V5Q29kZSIsIm9uSW1hZ2VzTG9hZHMiLCJvbmUiLCJjb21wbGV0ZSIsInNyYyIsIkNvbXBvbmVudCIsImluaXRpYWxpemUiLCJ1aWQiLCJjb25zdHJ1Y3RvciIsIl8kZWwiLCJfZWwiLCJfZW5hYmxlZCIsInJlcXVpcmUiLCJhcmciLCJlbmFibGUiLCJkaXNhYmxlIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJGb3JtIiwiZXJyb3JzIiwiX21lc3NhZ2VzIiwibWVzc2FnZXMiLCJ2YWxpZGF0aW9ucyIsInZhbGlkYXRlIiwiZmluZCIsInJlc2V0IiwiY2xlYXIiLCJ2YWxpZGF0aW9uIiwiZmlyc3RFcnJvciIsImZpcnN0RXJyb3JWaXNpYmxlIiwidHJpZ2dlckVycm9yIiwiaiIsImlzU2hvd24iLCJwYXJlbnRFbGVtZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJ0YWdOYW1lIiwiZm9jdXMiLCJoYXNFcnJvciIsInJlbW92ZUF0dHIiLCJlIiwiQ29uZGl0aW9uIiwiY29uZGl0aW9uIiwiY29uZGl0aW9ucyIsIm1lc3NhZ2UiLCJudW0iLCJzdHJpbmciLCJ2YWx1ZSIsImVtYWlsIiwibWluTGVuZ3RoIiwiYSIsImIiLCJtYXhMZW5ndGgiLCJudW1iZXIiLCJtYXgiLCJtaW4iLCJyZXF1aXJlZCIsInZhbGlkYXRlZCIsInRhZyIsInRyaW0iLCJjdXN0b20iLCJWYWxpZGF0aW9uIiwiY3JlYXRlTWV0aG9kcyIsImtleSIsIm1ldGhvZHMiLCJfY29uZmlndXJlQ29udGFpbmVyIiwiX21lcmdlQ29uZGl0aW9ucyIsImZvcm0iLCJwYXJlbnRzIiwiX3ZhbGlkYXRpb25FdmVudCIsIl9lcnJvciIsIl9zdWNjZXNzIiwicHJldmlvdXNWYWx1ZSIsIl9wcmV2aW91c0Vycm9yIiwibm9kZU5hbWUiLCJfc2hvd0Vycm9yTWVzc2FnZSIsIl9oaWRlRXJyb3JNZXNzYWdlIiwiYW5kIiwiYnViYmxlIiwiX2NvbnRhaW5lciIsImg0Iiwid3JhcElubmVyIiwiY2hpbGRyZW4iLCJwcmV2IiwicmVmcmVzaFBvc2l0aW9uIiwiX3Bvc2l0aW9uIiwibm9ybWFsaXplT3B0aW9ucyIsIlN0ciIsIk1heExlbmd0aCIsIk1pbkxlbmd0aCIsIkVtYWlsIiwiVVJMIiwiTnVtIiwiTWluIiwiTWF4IiwiQ3VzdG9tIiwiUmVxdWlyZWQiLCJFeHBhbmRhYmxlIiwiX2NsYXNzTmFtZVRyaWdnZXIiLCJfY2xhc3NOYW1lQ29udGFpbmVyIiwidG9nZ2xlIiwicG9pbnRlckNhbmNlbGVkIiwiY29udGFpbmVyIiwibmV4dCIsInRyaWdnZXIiLCJNZW51IiwiZm9sZCIsImZvbGRzIiwiX3NuaXBwZXQiLCJjbG9uZU5vZGUiLCJfY2xhc3NOYW1lIiwiX2NyZWF0ZUV4cGFuZGFibGVzIiwiY3JlYXRlRXhwYW5kYWJsZSIsImxpIiwiJGxpIiwiJGNoaWxkIiwiZXhwYW5kYWJsZSIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJQb3BvdmVyIiwiJGJvZHkiLCJzaG93bmJ5RXZlbnQiLCJwb2ludGVydGFwIiwicG9pbnRlcmVudGVyIiwiX2FyaWFSb2xlIiwiX2hpZGVEZWxheSIsInNob3duYnkiLCJoaWRkZW5ieSIsImpvaW4iLCJzdG9wUHJvcGFnYXRpb24iLCJhcHBlbmRUbyIsIl9jb25maWd1cmVUcmlnZ2VyIiwiX2NvbmZpZ3VyZUhpZGluZyIsIl9wb3NpdGlvbmVyIiwiX3JlZnJlc2hQb3NpdGlvbkxpc3RlbmVyIiwic2hvd0hhbmRsZXIiLCJocmVmIiwidGl0bGUiLCJhbHQiLCJoaWRlVGltZXIiLCJ0aW1lb3V0IiwiZXZlbnRzIiwiY2xlYXJUaW1lb3V0IiwicHJlcGVuZFRvIiwiX2hpZGluZ1Nob3J0Y3V0cyIsIl9ub3JtYWxpemVPcHRpb25zIiwiYnV0dG9uIiwiTGF5ZXIiLCJsYXN0U2hvd24iLCJUb29sdGlwIiwiQnViYmxlIiwiTW9kYWwiLCIkdW5kZXJsYXkiLCJfc2hvd1VuZGVybGF5IiwiX2hpZGVVbmRlcmxheSIsIlRyYW5zaXRpb24iLCJab29tIiwiX2xvYWRlZCIsIl8kbG9hZGluZyIsIl8kc2Vla2VyIiwiX3NlZWtlciIsIl8kb3JpZ2luYWwiLCJlcSIsIl96b29tZWQiLCJJbWFnZSIsIl9vcmlnaW5hbExvYWRlZCIsIl96b29tZWRMb2FkZWQiLCJjbGljay56b29tIiwibW91c2Vtb3ZlLnpvb20iLCJfbW92ZSIsIl9vcmlnaW5hbFdpZHRoIiwiX29yaWdpbmFsSGVpZ2h0IiwiX29yaWdpbmFsT2Zmc2V0TGVmdCIsIl9vcmlnaW5hbE9mZnNldFRvcCIsIl9yYXRpb1giLCJfcmF0aW9ZIiwiX3NlZWtlcldpZHRoIiwiZmxvb3IiLCJfc2Vla2VySGVpZ2h0IiwiX3NlZWtlckhhbGZXaWR0aCIsIl9zZWVrZXJIYWxmSGVpZ2h0IiwiY3NzVGV4dCIsIngiLCJ5Iiwic2Vla2VyTGVmdCIsInBhZ2VYIiwic2Vla2VyVG9wIiwicGFnZVkiLCJsb2FkSW1hZ2UiLCJzZWxlY3RlZCIsIkNhbGVuZGFyIiwiYWRkWmVybyIsIkZPUk1BVF9kYXRlcyIsIllZWVkvTU0vREQiLCJkYXRlIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiREQvTU0vWVlZWSIsIk1NL0REL1lZWVkiLCJjcmVhdGVEYXRlT2JqZWN0IiwiRGF0ZSIsIm5hdGl2ZSIsImdldERhdGUiLCJvcmRlciIsImdldERheSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJhcnJvd3MiLCJtb250aHNOYW1lcyIsIndlZWtkYXlzIiwiZm9ybWF0IiwiX2RhdGVzIiwicmFuZ2UiLCJ0b2RheSIsImN1cnJlbnQiLCJmcm9tIiwidG8iLCJfJHByZXYiLCJwcmV2TW9udGgiLCJfJG5leHQiLCJuZXh0TW9udGgiLCJwcmVwZW5kIiwiYXBwZW5kIiwiX2NyZWF0ZVRlbXBsYXRlIiwiX3VwZGF0ZUNvbnRyb2xzIiwiX2hhc1ByZXZNb250aCIsIl9oYXNOZXh0TW9udGgiLCJfdXBkYXRlVGVtcGxhdGUiLCJjZWxsIiwicG9zaXRpdmUiLCJpc1NlbGVjdGVkIiwidGhlYWQiLCJkYXlJbmRleCIsInQiLCJ0YWJsZSIsImNlbGxzIiwiY3VycmVudE1vbnRoIiwic3VidG90YWwiLCJsYXRlc3QiLCJwcmV2aW91cyIsInRvdGFsIiwiX2lzU2VsZWN0ZWQiLCJfaXNJblJhbmdlIiwiaW5SYW5nZUZyb20iLCJpblJhbmdlVG8iLCJ5ZXBub3BlIiwic2VsZWN0IiwibmV3RGF0ZSIsImdldFRvZGF5IiwibmV4dFllYXIiLCJwcmV2WWVhciIsInNldEZyb20iLCJzZXRUbyIsIkRyb3Bkb3duIiwic2tpbiIsIiRjb250ZW50IiwiXyRuYXZpZ2F0aW9uIiwiX3NlbGVjdGVkIiwiX25hdmlnYXRpb25TaG9ydGN1dHMiLCJhZnRlciIsIl9oaWdobGlnaHRPcHRpb24iLCJvcHRpb25zTGVuZ3RoIiwiYmx1ciIsInJlbW92ZUF0dHJpYnV0ZSIsImlkIiwiVGFicyIsInRhYiIsInRhYnBhbmVscyIsImxvY2F0aW9uIiwiaGFzaFJlZ0V4cCIsIlJlZ0V4cCIsIl9jdXJyZW50SGFzaCIsImhhc2giLCIkdHJpZ2dlcnMiLCIkcGFuZWwiLCJfJHRhYnNQYW5lbHMiLCJfY3JlYXRlVGFiIiwiX2hhc0hhc2giLCJzcGxpdCIsIl9oYXNoIiwiX3VwZGF0ZVNob3duIiwibCIsImdldFNob3duIiwiQ2Fyb3VzZWwiLCJwYWdpbmF0aW9uIiwiXyRsaXN0IiwiXyRpdGVtcyIsIl8kbWFzayIsIl9tYXNrV2lkdGgiLCJfaXRlbVdpZHRoIiwiX2l0ZW1PdXRlcldpZHRoIiwiX2l0ZW1FeHRyYVdpZHRoIiwiX2l0ZW1IZWlnaHQiLCJfaXRlbU1hcmdpbiIsIl9hcnJvd3NDcmVhdGVkIiwiX3BhZ2luYXRpb25DcmVhdGVkIiwiX2xpbWl0UGVyUGFnZSIsIl9jdXJyZW50UGFnZSIsIl9wYWdlcyIsIl9wYWdlV2lkdGgiLCJfYXN5bmMiLCJfJHByZXZBcnJvdyIsIl8kbmV4dEFycm93IiwiXyRwYWdpbmF0aW9uIiwicGFnZSIsImdldEF0dHJpYnV0ZSIsIl9hZGRQYWdpbmF0aW9uIiwiX2FkZEFycm93cyIsIl91cGRhdGVBUklBIiwiX3VwZGF0ZUxpbWl0UGVyUGFnZSIsIl91cGRhdGVEaXN0cmlidXRpb24iLCJfbG9hZEFzeW5jSXRlbXMiLCIkaXRlbXMiLCJhbW91bnQiLCJ0b0ZpeGVkIiwiaXRlbXMiLCJfcmVtb3ZlUGFnaW5hdGlvbiIsInRodW1icyIsInVuc2hpZnQiLCJpbm5lckhUTUwiLCJfc3RhbmRieUZYIiwiX3VwZGF0ZVBhZ2VzIiwiY2VpbCIsIl91cGRhdGVBcnJvd3MiLCJmaXJzdEl0ZW1PblBhZ2UiLCJsaW1pdFBlclBhZ2UiLCJzcGFjZXMiLCJtb3JlVGhhbk9uZSIsImZyZWVTcGFjZSIsImV4dHJhV2lkdGgiLCJtYXJnaW4tcmlnaHQiLCJfdHJhbnNsYXRlIiwiX2Rpc2FibGVBcnJvd3MiLCJ0cmFuc2Zvcm0iLCJkaXNwbGFjZW1lbnQiLCJfc3dpdGNoUGFnaW5hdGlvbiIsIm1hc2tXaWR0aCIsImlzTmFOIiwiQ291bnRkb3duIiwicGx1cmFsIiwic2luZ3VsYXIiLCJtZXNzYWdlSUQiLCJfY291bnQiLCJfcmVtYWluaW5nIiwiX2NvbnRlbnRMZW5ndGgiLCJfcmVtb3ZlRXJyb3IiLCJfZXhjZWVkZWQiLCJ0ZXh0IiwiRGF0ZXBpY2tlciIsIl9wb3BvdmVyIiwiZmllbGQiLCJpbnNlcnRBZnRlciIsIl9jYWxlbmRhciIsImNhbGVuZGFyIiwicG9wb3ZlciIsImNsYXNzTmFtZSIsImluZGV4T2YiLCJwaWNrIiwiQXV0b2NvbXBsZXRlIiwibG9hZGluZ0NsYXNzIiwiaGlnaGxpZ2h0ZWRDbGFzcyIsIml0ZW1DbGFzcyIsIl9oaWRkZW5ieSIsImtleXN0cm9rZXNUaW1lIiwiX2l0ZW1UZW1wbGF0ZSIsIlBPSU5URVJET1dOIiwiTU9VU0VFTlRFUiIsImhpZ2hsaWdodEV2ZW50IiwiXyRzdWdnZXN0aW9uc0xpc3QiLCJfaGlnaGxpZ2h0U3VnZ2VzdGlvbiIsIl9zZWxlY3RTdWdnZXN0aW9uIiwiX3N1Z2dlc3Rpb25zIiwiX2hpZ2hsaWdodGVkIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1vd25zIiwiYXV0b2NvbXBsZXRlIiwiX3R1cm5PbiIsIl90dXJuT2ZmIiwiX29yaWdpbmFsUXVlcnkiLCJfY3VycmVudFF1ZXJ5IiwiX2NvbmZpZ3VyZVNob3J0Y3V0cyIsImlzIiwiX3N0b3BUeXBpbmciLCIkc3VnZ2VzdGlvbiIsIl90b29nbGVIaWdobGlnaHRlZCIsInN1Z2dlc3QiLCJzdWdnZXN0aW9ucyIsInN1Z2dlc3RlZEl0ZW0iLCJ0ZXJtIiwibWF0Y2hlZFJlZ0V4cCIsInRvdGFsSXRlbXMiLCJpdGVtVGVtcGxhdGUiLCJzdWdnZXN0aW9uc0xlbmd0aCIsImFjdGl2ZUVsZW1lbnQiLCJfc3VnZ2VzdGlvbnNRdWFudGl0eSIsIl9wcmV2SGlnaGxpZ2h0ZWQiLCJfY3VycmVudEhpZ2hsaWdodGVkIl0sIm1hcHBpbmdzIjoiQ0FVQyxTQUFVQSxFQUFRQyxHQUNsQixZQUVELElBQUlDLE1BY0lDLEdBUFVGLEVBQUVELEdBT0FBLEVBQU9HLFdBY25CQyxHQVBZRCxFQUFVRSxVQU9YTCxFQUFPSSxVQWNsQkUsR0FQWUwsRUFBRUcsR0FPUEEsRUFBU0UsTUFjaEJDLEdBUFFOLEVBQUVLLEdBT0hGLEVBQVNJLHFCQUFxQixRQUFRLElBTzdDQyxFQUFRUixFQUFFTSxHQU9WRyxFQUFTVixFQUFPVSxPQU9oQkMsRUFBUVgsRUFBT1csT0FTRSxXQUViLEdBRUlDLEdBRkFDLEVBQVEsb0NBQ1JDLEVBQW1CVixFQUFTSSxx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aEosS0FBS3NlLFNBQVM5ZCxHQUFHLE9BQVEsV0FBY3BJLEVBQUd3UCxVQUFVaEgsSUFBSVUsRUFBSzBILE9BRTdEaEosS0FBS1EsR0FBRyxVQUFXLFdBQ2ZwSSxFQUFHd1AsVUFBVWhGLE9BQU81QyxLQUFLZ0osT0FHdEJoSixPQUdiQSxLQUFLNUgsR0FBRzJtQixhQUFjL2UsS0FBSzVIIiwiZmlsZSI6ImNoaWNvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBDaGljbyBUaGVtZSBVSSB2MS4yLjBcbiAqIGh0dHA6Ly9jaGljby11aS5jb20uYXIvXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LCBNZXJjYWRvTGlicmUuY29tXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vY2hpY28tdWkuY29tLmFyL2xpY2Vuc2VcbiAqL1xuXG5cbihmdW5jdGlvbiAod2luZG93LCAkKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxudmFyIGNoID0ge30sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgd2luZG93IGpRdWVyeSBvciBaZXB0byBTZWxlY3Rvci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgJHdpbmRvdyA9ICQod2luZG93KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBuYXZpZ2F0b3Igb2JqZWN0LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcixcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB1c2VyQWdlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIEhUTUxEb2N1bWVudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IGpRdWVyeSBvciBaZXB0byBTZWxlY3Rvci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgJGRvY3VtZW50ID0gJChkb2N1bWVudCksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgSFRNTEJvZHlFbGVtZW50LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7SFRNTEJvZHlFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgYm9keSA9IGRvY3VtZW50LmJvZHksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgYm9keSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgICRib2R5ID0gJChib2R5KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBIVE1MaHRtbEVsZW1lbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MaHRtbEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBodG1sID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBodG1sIGpRdWVyeSBvciBaZXB0byBTZWxlY3Rvci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgJGh0bWwgPSAkKGh0bWwpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIE9iamVjdCBDb250cnVjdG9yLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIE9iamVjdCA9IHdpbmRvdy5PYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgQXJyYXkgQ29udHJ1Y3Rvci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBBcnJheSA9IHdpbmRvdy5BcnJheSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZW5kb3IgcHJlZml4IG9mIHRoZSBjdXJyZW50IGJyb3dzZXIuXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAbGluayBodHRwOi8vbGVhLnZlcm91Lm1lLzIwMDkvMDIvZmluZC10aGUtdmVuZG9yLXByZWZpeC1vZi10aGUtY3VycmVudC1icm93c2VyXG4gICAgICAgICAqL1xuICAgICAgICBWRU5ET1JfUFJFRklYID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJlZ2V4ID0gL14oV2Via2l0fEtodG1sfE1venxtc3xPKSg/PVtBLVpdKS8sXG4gICAgICAgICAgICAgICAgc3R5bGVEZWNsYXJhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXS5zdHlsZSxcbiAgICAgICAgICAgICAgICBwcm9wO1xuXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4gc3R5bGVEZWNsYXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wLm1hdGNoKHJlZ2V4KVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm90aGluZyBmb3VuZCBzbyBmYXI/IFdlYmtpdCBkb2VzIG5vdCBlbnVtZXJhdGUgb3ZlciB0aGUgQ1NTIHByb3BlcnRpZXMgb2YgdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIgKHByb3AgaW4gc3R5bGUpIHJldHVybnMgdGhlIGNvcnJlY3QgdmFsdWUsIHNvIHdlJ2xsIGhhdmUgdG8gdGVzdCBmb3JcbiAgICAgICAgICAgIC8vIHRoZSBwcmVjZW5jZSBvZiBhIHNwZWNpZmljIHByb3BlcnR5XG4gICAgICAgICAgICBpZiAoJ1dlYmtpdE9wYWNpdHknIGluIHN0eWxlRGVjbGFyYXRpb24pIHsgcmV0dXJuICd3ZWJraXQnOyB9XG4gICAgICAgICAgICBpZiAoJ0todG1sT3BhY2l0eScgaW4gc3R5bGVEZWNsYXJhdGlvbikgeyByZXR1cm4gJ2todG1sJzsgfVxuXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH0oKSk7XG5jaC51dGlsID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gb2JqZWN0IGlzIGFuIGFycmF5LCBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBiZSBjaGVja2VkLlxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5pc0FycmF5KFsxLCAyLCAzXSk7IC8vIHRydWVcbiAgICAgICAgICovXG4gICAgICAgICdpc0FycmF5JzogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiY2gudXRpbC5pc0FycmF5KG9iailcIjogSXQgbXVzdCByZWNlaXZlIGEgcGFyYW1ldGVyLicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSgpKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2tzIGlmIHRoZSB1cmwgZ2l2ZW4gaXMgcmlnaHQgdG8gbG9hZCBjb250ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSB1cmwgdG8gYmUgY2hlY2tlZC5cbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLnV0aWwuaXNVcmwoJ3d3dy5jaGljby11aS5jb20uYXInKTsgLy8gdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgJ2lzVXJsJzogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgIyBSZWdFeHBcblxuICAgICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21lcmNhZG9saWJyZS9jaGljby9pc3N1ZXMvNTc5I2lzc3VlY29tbWVudC01MjA2NjcwXG5cbiAgICAgICAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgICAgICAgIDEgICAxLjEgICAgICAgICAgICAgICAgICAgICAgICAxLjIgICAxLjMgIDEuNCAgICAgICAxLjUgICAgICAgMS42ICAgICAgICAgICAgICAgICAgIDIgICAgICAgICAgICAgICAgICAgICAgMyAgICAgICAgICAgICAgIDQgICAgICAgICAgICAgICAgICAgIDVcbiAgICAgICAgICAgIC9eKCgoaHR0cHN8aHR0cHxmdHB8ZmlsZSk6XFwvXFwvKXx3d3dcXC58XFwuXFwvfChcXC5cXC5cXC8pK3woXFwvezEsMn0pfChcXGR7MSwzfVxcLil7M31cXGR7MSwzfSkoKChcXHcrfC0pKFxcLj8pKFxcLz8pKSspKFxcOlxcZHsxLDV9KXswLDF9KCgoXFx3K3wtKShcXC4/KShcXC8/KSkrKSgoXFw/KShcXHcrPShcXHc/KSsoJj8pKSspPyQvXG4gICAgICAgICAgICBgYGBcblxuICAgICAgICAgICAgIyMgRGVzY3JpcHRpb25cbiAgICAgICAgICAgIDEuIENoZWNrcyBmb3IgdGhlIHN0YXJ0IG9mIHRoZSBVUkxcbiAgICAgICAgICAgICAgICAxLiBpZiBzdGFydHMgd2l0aCBhIHByb3RvY29scyBmb2xsb3dlZCBieSA6Ly8gRXhhbXBsZTogZmlsZTovL2NoaWNvXG4gICAgICAgICAgICAgICAgMi4gaWYgc3RhcnQgd2l0aCB3d3cgZm9sbG93ZWQgYnkgLiAoZG90KSBFeGFtcGxlOiB3d3cuY2hpY29cbiAgICAgICAgICAgICAgICAzLiBpZiBzdGFydHMgd2l0aCAuL1xuICAgICAgICAgICAgICAgIDQuIGlmIHN0YXJ0cyB3aXRoIC4uLyBhbmQgY2FuIHJlcGVhdCBvbmUgb3IgbW9yZSB0aW1lc1xuICAgICAgICAgICAgICAgIDUuIGlmIHN0YXJ0IHdpdGggZG91YmxlIHNsYXNoIC8vIEV4YW1wbGU6IC8vY2hpY28uc2VydmVyXG4gICAgICAgICAgICAgICAgNi4gaWYgc3RhcnQgd2l0aCBhbiBpcCBhZGRyZXNzXG4gICAgICAgICAgICAyLiBDaGVja3MgdGhlIGRvbWFpblxuICAgICAgICAgICAgICBsZXR0ZXJzLCBkYXNoIGZvbGxvd2VkIGJ5IGEgZG90IG9yIGJ5IGEgc2xhc2guIEFsbCB0aGlzIGdyb3VwIGNhbiByZXBlYXQgb25lIG9yIG1vcmUgdGltZXNcbiAgICAgICAgICAgIDMuIFBvcnRzXG4gICAgICAgICAgICAgWmVybyBvciBvbmUgdGltZVxuICAgICAgICAgICAgNC4gSWRlbSB0byBwb2ludCB0d29cbiAgICAgICAgICAgIDUuIFF1ZXJ5U3RyaW5nIHBhaXJzXG5cbiAgICAgICAgICAgICMjIEFsbG93ZWQgVVJMc1xuICAgICAgICAgICAgMS4gaHR0cDovL3d3dy5tZXJjYWRvbGlicmUuY29tXG4gICAgICAgICAgICAyLiBodHRwOi8vbWVyY2Fkb2xpYnJlLmNvbS9cbiAgICAgICAgICAgIDMuIGh0dHA6Ly9tZXJjYWRvbGlicmUuY29tOjgwODA/aG9sYT1cbiAgICAgICAgICAgIDQuIGh0dHA6Ly9tZXJjYWRvbGlicmUuY29tL3BlcGVcbiAgICAgICAgICAgIDUuIGh0dHA6Ly9sb2NhbGhvc3Q6MjAyMFxuICAgICAgICAgICAgNi4gaHR0cDovLzE5Mi4xNjguMS4xXG4gICAgICAgICAgICA3LiBodHRwOi8vMTkyLjE2OC4xLjE6OTA5MFxuICAgICAgICAgICAgOC4gd3d3Lm1lcmNhZG9saWJyZS5jb21cbiAgICAgICAgICAgIDkuIC9tZXJjYWRvbGlicmVcbiAgICAgICAgICAgIDEwLiAvbWVyY2Fkb2xpYnJlL21lcmNhZG9cbiAgICAgICAgICAgIDExLiAvdG9vbHRpcD9zaXRlSWQ9TUxBJmNhdGVnSWQ9MTc0NCZidXlpbmdNb2RlPWJ1eV9pdF9ub3cmbGlzdGluZ1R5cGVJZD1icm9uemVcbiAgICAgICAgICAgIDEyLiAuL3BlcGVcbiAgICAgICAgICAgIDEzLiAuLi8uLi9tZXJjYWRvL1xuICAgICAgICAgICAgMTQuIHd3dy5tZXJjYWRvbGlicmUuY29tP3NpdGVJZD1NTEEmY2F0ZWdJZD0xNzQ0JmJ1eWluZ01vZGU9YnV5X2l0X25vdyZsaXN0aW5nVHlwZUlkPWJyb256ZVxuICAgICAgICAgICAgMTUuIHd3dy5tZXJjYWRvLWxpYnJlLmNvbVxuICAgICAgICAgICAgMTYuIGh0dHA6Ly91aS5tbC5jb206ODA4MC9hamF4Lmh0bWxcblxuICAgICAgICAgICAgIyMgRm9yYmlkZW4gVVJMc1xuICAgICAgICAgICAgMS4gaHR0cDovL1xuICAgICAgICAgICAgMi4gaHR0cDovL3d3dyZcbiAgICAgICAgICAgIDMuIGh0dHA6Ly9ob2xhPVxuICAgICAgICAgICAgNC4gLy4uLy4uL21lcmNhZG8vXG4gICAgICAgICAgICA1LiAvbWVyY2Fkby8uLi9wZXBlXG4gICAgICAgICAgICA2LiBtZXJjYWRvbGlicmUuY29tXG4gICAgICAgICAgICA3LiBtZXJjYWRvL21lcmNhZG9cbiAgICAgICAgICAgIDguIGxvY2FsaG9zdDo4MDgwL21lcmNhZG9saWJyZVxuICAgICAgICAgICAgOS4gcGVwZS8uLi9wZXBlLmh0bWxcbiAgICAgICAgICAgIDEwLiAvcGVwZS8uLi9wZXBlLmh0bWxcbiAgICAgICAgICAgIDExLiAxOTIuMTY4LjEuMVxuICAgICAgICAgICAgMTIuIGxvY2FsaG9zdDo4MDgwL3BlcGVcbiAgICAgICAgICAgIDEzLiBsb2NhbGhvc3Q6ODAtODBcbiAgICAgICAgICAgIDE0LiB3d3cubWVyY2Fkb2xpYnJlLmNvbT9zaXRlSWQ9TUxBJmNhdGVnSWQ9MTc0NCZidXlpIG5nTW9kZT1idXlfaXRfbm93Jmxpc3RpbmdUeXBlSWQ9YnJvbnplXG4gICAgICAgICAgICAxNS4gYDxhc2Qgc3JjPVwid3d3Lm1lcmNhZG9saWJyZS5jb21cIj5gXG4gICAgICAgICAgICAxNi4gTWVyY2Fkb2xpYnJlLi4uLi4uLi4uLi4uLi4uLi5cbiAgICAgICAgICAgIDE3LiAvbGFrc2pkbGthc2pkLi4vXG4gICAgICAgICAgICAxOC4gLy4ucGVwZS4uXG4gICAgICAgICAgICAxOS4gL3BlcGUuLlxuICAgICAgICAgICAgMjAuIHBlcGU6L1xuICAgICAgICAgICAgMjEuIC86cGVwZVxuICAgICAgICAgICAgMjIuIGRhZGFkYXMucGVwZVxuICAgICAgICAgICAgMjMuIHFkYXNkYXNkYVxuICAgICAgICAgICAgMjQuIGh0dHA6Ly91aS5tbC5jb206ODA4MDo4MDgwL2FqYXguaHRtbFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiAoKC9eKCgoaHR0cHN8aHR0cHxmdHB8ZmlsZSk6XFwvXFwvKXx3d3dcXC58XFwuXFwvfChcXC5cXC5cXC8pK3woXFwvezEsMn0pfChcXGR7MSwzfVxcLil7M31cXGR7MSwzfSkoKChcXHcrfC0pKFxcLj8pKFxcLz8pKSspKFxcOlxcZHsxLDV9KXswLDF9KCgoXFx3K3wtKShcXC4/KShcXC8/KSgjPykpKykoKFxcPykoXFx3Kz0oXFx3PykrKCY/KSkrKT8oXFx3KyNcXHcrKT8kLykudGVzdCh1cmwpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpZiBhIHNwZWNpZmllZCBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mICQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSAkZWwgVGhlIGVsZW1lbnQgdG8gYmUgY2hlY2tlZCBhcyBpbnN0YW5jZSBvZiAkLlxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5pcyQoJCgnZWxlbWVudCcpKTsgLy8gdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgJ2lzJCc6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJC56ZXB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRlbCBpbnN0YW5jZW9mICQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuemVwdG8uaXNaKCRlbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSgpKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkcyBDU1MgcnVsZXMgdG8gZGlzYWJsZSB0ZXh0IHNlbGVjdGlvbiBoaWdobGlnaHRpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7Li4ualF1ZXJ5U2VsZWN0b3J9IGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBkaXNhYmxlIHRleHQgc2VsZWN0aW9uIGhpZ2hsaWdodGluZy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5hdm9pZFRleHRTZWxlY3Rpb24oJChzZWxlY3RvcikpO1xuICAgICAgICAgKi9cbiAgICAgICAgJ2F2b2lkVGV4dFNlbGVjdGlvbic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjaC51dGlsLmF2b2lkVGV4dFNlbGVjdGlvbihzZWxlY3Rvcik7XCI6IFRoZSBzZWxlY3RvciBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoaTsgaSA8IGxlbjsgaSArPSAxKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShhcmdzW2ldIGluc3RhbmNlb2YgJCB8fMKgJC56ZXB0by5pc1ooYXJnc1tpXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjaC51dGlsLmF2b2lkVGV4dFNlbGVjdGlvbihzZWxlY3Rvcik7XCI6IFRoZSBwYXJhbWV0ZXIgbXVzdCBiZSBhIGpRdWVyeSBvciBaZXB0byBzZWxlY3Rvci4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoJGh0bWwuaGFzQ2xhc3MoJ2x0LWllMTAnKSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW2ldLmF0dHIoJ3Vuc2VsZWN0YWJsZScsICdvbicpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tpXS5hZGRDbGFzcygnY2gtdXNlci1uby1zZWxlY3QnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2l2ZXMgdGhlIGZpbmFsIHVzZWQgdmFsdWVzIG9mIGFsbCB0aGUgQ1NTIHByb3BlcnRpZXMgb2YgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgVGhlIEhUTUxFbGVtZW50IGZvciB3aGljaCB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgQ1NTIHByb3BlcnR5IHRvIHRlc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtDU1NTdHlsZURlY2xhcmF0aW9ufVxuICAgICAgICAgKiBAbGluayBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2RvbS9nZXRzdHlsZXMuaHRtbFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjaC51dGlsLmdldFN0eWxlcyhIVE1MRWxlbWVudCwgJ2NvbG9yJyk7IC8vIHRydWVcbiAgICAgICAgICovXG4gICAgICAgICdnZXRTdHlsZXMnOiBmdW5jdGlvbiAoZWwsIHByb3ApIHtcblxuICAgICAgICAgICAgaWYgKGVsID09PSB1bmRlZmluZWQgfHwgIShlbC5ub2RlVHlwZSA9PT0gMSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiY2gudXRpbC5nZXRTdHlsZXMoZWwsIHByb3ApXCI6IFRoZSBcImVsXCIgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgSFRNTEVsZW1lbnQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHByb3AgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImNoLnV0aWwuZ2V0U3R5bGVzKGVsLCBwcm9wKVwiOiBUaGUgXCJwcm9wXCIgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIFwiXCIpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XG4gICAgICAgICAgICAvLyBJRVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUdXJuIHN0eWxlIG5hbWUgaW50byBjYW1lbCBub3RhdGlvblxuICAgICAgICAgICAgICAgIHByb3AgPSBwcm9wLnJlcGxhY2UoL1xcLShcXHcpL2csIGZ1bmN0aW9uIChzdHIsICQxKSB7IHJldHVybiAkMS50b1VwcGVyQ2FzZSgpOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgc2hhbGxvdy1jb3BpZWQgY2xvbmUgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLnV0aWwuY2xvbmUob2JqZWN0KTtcbiAgICAgICAgICovXG4gICAgICAgICdjbG9uZSc6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjaC51dGlsLmNsb25lKG9iailcIjogVGhlIFwib2JqXCIgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgb2JqZWN0LicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29weSA9IHt9LFxuICAgICAgICAgICAgICAgIHByb3A7XG5cbiAgICAgICAgICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW3Byb3BdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29weVtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmhlcml0cyB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLiBUaGUgcGFyZW50IHdpbGwgYmUgYWNjZXNzaWJsZSB0aHJvdWdoIHRoZSBvYmouc3VwZXIgcHJvcGVydHkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9iaiBUaGUgb2JqZWN0IHRoYXQgaGF2ZSBuZXcgbWVtYmVycy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvciBUaGUgY29uc3RydXNjdG9yIENsYXNzLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKiBAZXhhbXBsZURlc2NyaXB0aW9uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLnV0aWwuaW5oZXJpdChvYmosIHBhcmVudCk7XG4gICAgICAgICAqL1xuICAgICAgICAnaW5oZXJpdHMnOiBmdW5jdGlvbiAob2JqLCBzdXBlckNvbnN0cnVjdG9yKSB7XG5cbiAgICAgICAgICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImNoLnV0aWwuaW5oZXJpdHMob2JqLCBzdXBlckNvbnN0cnVjdG9yKVwiOiBUaGUgXCJvYmpcIiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN1cGVyQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Ygc3VwZXJDb25zdHJ1Y3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJjaC51dGlsLmluaGVyaXRzKG9iaiwgc3VwZXJDb25zdHJ1Y3RvcilcIjogVGhlIFwic3VwZXJDb25zdHJ1Y3RvclwiIHBhcmFtZXRlciBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBvYmoucHJvdG90eXBlIHx8IHt9O1xuICAgICAgICAgICAgb2JqLnByb3RvdHlwZSA9ICQuZXh0ZW5kKGNoaWxkLCBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJldmVudCBkZWZhdWx0IGFjdGlvbnMgb2YgYSBnaXZlbiBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IG90IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5wcmV2ZW50KGV2ZW50KTtcbiAgICAgICAgICovXG4gICAgICAgIHByZXZlbnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgdmVydGljYWwgYW5kIGhvcml6b250YWwgcG9zaXRpb25zIG9mIHRoZSBzY3JvbGwgYmFyLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjaC51dGlsLmdldFNjcm9sbCgpO1xuICAgICAgICAgKi9cbiAgICAgICAgJ2dldFNjcm9sbCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ2xlZnQnOiB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgMCxcbiAgICAgICAgICAgICAgICAndG9wJzogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IG91dGVyIGRpbWVuc2lvbnMgb2YgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgQSBnaXZlbiBIVE1MRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5nZXRPdXRlckRpbWVuc2lvbnMoZWwpO1xuICAgICAgICAgKi9cbiAgICAgICAgJ2dldE91dGVyRGltZW5zaW9ucyc6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICd3aWR0aCc6IChvYmoucmlnaHQgLSBvYmoubGVmdCksXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IChvYmouYm90dG9tIC0gb2JqLnRvcClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY3VycmVudCBvZmZzZXQgb2YgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWwgQSBnaXZlbiBIVE1MRWxlbWVudC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2gudXRpbC5nZXRPZmZzZXQoZWwpO1xuICAgICAgICAgKi9cbiAgICAgICAgJ2dldE9mZnNldCc6IGZ1bmN0aW9uIChlbCkge1xuXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIGZpeGVkUGFyZW50ID0gY2gudXRpbC5nZXRQb3NpdGlvbmVkUGFyZW50KGVsLCAnZml4ZWQnKSxcbiAgICAgICAgICAgICAgICBzY3JvbGwgPSBjaC51dGlsLmdldFNjcm9sbCgpLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiByZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiByZWN0LnRvcFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChjaC51dGlsLmdldFN0eWxlcyhlbCwgJ3Bvc2l0aW9uJykgIT09ICdmaXhlZCcgJiYgZml4ZWRQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQubGVmdCArPSBzY3JvbGwubGVmdDtcbiAgICAgICAgICAgICAgICBvZmZzZXQudG9wICs9IHNjcm9sbC50b3A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY3VycmVudCBwYXJlbnROb2RlIHdpdGggdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBBIGdpdmVuIEhUTUxFbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9zaXRpb24gQSBnaXZlbiBwb3NpdGlvbiAoc3RhdGljLCByZWxhdGl2ZSwgZml4ZWQgb3IgYWJzb2x1dGUpLlxuICAgICAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLnV0aWwuZ2V0UG9zaXRpb25lZFBhcmVudChlbCwgJ2ZpeGVkJyk7XG4gICAgICAgICAqL1xuICAgICAgICAnZ2V0UG9zaXRpb25lZFBhcmVudCc6IGZ1bmN0aW9uIChlbCwgcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFyZW50ID0gZWwub2Zmc2V0UGFyZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudDtcblxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhcmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY2gudXRpbC5nZXRTdHlsZXMoY3VycmVudFBhcmVudCwgJ3Bvc2l0aW9uJykgIT09IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJyZW50UGFyZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB2ZW5kb3IgcHJlZml4IG9mIHRoZSBjdXJyZW50IGJyb3dzZXIuXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbWVtYmVyb2YgY2gudXRpbFxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAbGluayBodHRwOi8vbGVhLnZlcm91Lm1lLzIwMDkvMDIvZmluZC10aGUtdmVuZG9yLXByZWZpeC1vZi10aGUtY3VycmVudC1icm93c2VyXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLnV0aWwuVkVORE9SX1BSRUZJWCA9PT0gJ3dlYmtpdCc7XG4gICAgICAgICAqL1xuICAgICAgICAnVkVORE9SX1BSRUZJWCc6IChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciByZWdleCA9IC9eKFdlYmtpdHxLaHRtbHxNb3p8bXN8TykoPz1bQS1aXSkvLFxuICAgICAgICAgICAgICAgIHN0eWxlRGVjbGFyYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF0uc3R5bGUsXG4gICAgICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICAgICAgZm9yIChwcm9wIGluIHN0eWxlRGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdChwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC5tYXRjaChyZWdleClbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vdGhpbmcgZm91bmQgc28gZmFyPyBXZWJraXQgZG9lcyBub3QgZW51bWVyYXRlIG92ZXIgdGhlIENTUyBwcm9wZXJ0aWVzIG9mIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAgICAvLyBIb3dldmVyIChwcm9wIGluIHN0eWxlKSByZXR1cm5zIHRoZSBjb3JyZWN0IHZhbHVlLCBzbyB3ZSdsbCBoYXZlIHRvIHRlc3QgZm9yXG4gICAgICAgICAgICAvLyB0aGUgcHJlY2VuY2Ugb2YgYSBzcGVjaWZpYyBwcm9wZXJ0eVxuICAgICAgICAgICAgaWYgKCdXZWJraXRPcGFjaXR5JyBpbiBzdHlsZURlY2xhcmF0aW9uKSB7IHJldHVybiAnd2Via2l0JzsgfVxuICAgICAgICAgICAgaWYgKCdLaHRtbE9wYWNpdHknIGluIHN0eWxlRGVjbGFyYXRpb24pIHsgcmV0dXJuICdraHRtbCc7IH1cblxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9KCkpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB6SW5kZXggdmFsdWVzLlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjaC51dGlsLnpJbmRleCArPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgJ3pJbmRleCc6IDEwMDBcbiAgICB9O1xuY2guc3VwcG9ydCA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVmVyaWZ5IHRoYXQgQ1NTIFRyYW5zaXRpb25zIGFyZSBzdXBwb3J0ZWQgKG9yIGFueSBvZiBpdHMgYnJvd3Nlci1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMpLlxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICogQGxpbmsgaHR0cDovL2dpc3QuZ2l0aHViLmNvbS8zNzM4NzRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogaWYgKGNoLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH1cbiAgICAgICAgICovXG4gICAgICAgICd0cmFuc2l0aW9uJzogYm9keS5zdHlsZS5XZWJraXRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgYm9keS5zdHlsZS5Nb3pUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgYm9keS5zdHlsZS5NU1RyYW5zaXRpb24gIT09IHVuZGVmaW5lZCB8fCBib2R5LnN0eWxlLk9UcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgYm9keS5zdHlsZS50cmFuc2l0aW9uICE9PSB1bmRlZmluZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrcyBpZiB0aGUgJCBsaWJyYXJ5IGhhcyBmeCBtZXRob2RzLlxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogaWYgKGNoLnN1cHBvcnQuZngpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9XG4gICAgICAgICAqL1xuICAgICAgICAnZngnOiAhISQuZm4uc2xpZGVEb3duLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3MgaWYgdGhlIFVzZXIgQWdlbnQgc3VwcG9ydCB0b3VjaCBldmVudHMuXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBpZiAoY2guc3VwcG9ydC50b3VjaCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH1cbiAgICAgICAgICovXG4gICAgICAgICd0b3VjaCc6ICdjcmVhdGVUb3VjaCcgaW4gZG9jdW1lbnRcbiAgICB9O1xuY2gub25sYXlvdXRjaGFuZ2UgPSAnbGF5b3V0Y2hhbmdlJztcblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gJ3Jlc2l6ZScuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKi9cbiAgICBjaC5vbnJlc2l6ZSA9ICdyZXNpemUnO1xuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byAnc2Nyb2xsJy5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9uc2Nyb2xsID0gJ3Njcm9sbCc7XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvICd0b3VjaHN0YXJ0JyBvciAnbW91c2Vkb3duJywgZGVwZW5kaW5nIG9uIGRldmljZSBjYXBhYmlsaXRpZXMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbGluayBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELXBvaW50ZXJldmVudHMtMjAxMzAxMTUvI2Rmbi1wb2ludGVyZG93biB8IFBvaW50ZXIgRXZlbnRzIFczQyBXb3JraW5nIERyYWZ0XG4gICAgICovXG4gICAgY2gub25wb2ludGVyZG93biA9IChjaC5zdXBwb3J0LnRvdWNoKSA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nO1xuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byAndG91Y2hlbmQnIG9yICdtb3VzZXVwJywgZGVwZW5kaW5nIG9uIGRldmljZSBjYXBhYmlsaXRpZXMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbGluayBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELXBvaW50ZXJldmVudHMtMjAxMzAxMTUvI2Rmbi1wb2ludGVydXAgfCBQb2ludGVyIEV2ZW50cyBXM0MgV29ya2luZyBEcmFmdFxuICAgICAqL1xuICAgIGNoLm9ucG9pbnRlcnVwID0gKGNoLnN1cHBvcnQudG91Y2gpID8gJ3RvdWNoZW5kJyA6ICdtb3VzZXVwJztcblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gJ3RvdWNobW92ZScgb3IgJ21vdXNlbW92ZScsIGRlcGVuZGluZyBvbiBkZXZpY2UgY2FwYWJpbGl0aWVzLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGxpbmsgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1wb2ludGVyZXZlbnRzLTIwMTMwMTE1LyNkZm4tcG9pbnRlcm1vdmUgfCBQb2ludGVyIEV2ZW50cyBXM0MgV29ya2luZyBEcmFmdFxuICAgICAqL1xuICAgIGNoLm9ucG9pbnRlcm1vdmUgPSAoY2guc3VwcG9ydC50b3VjaCkgPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnO1xuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byAndG91Y2hlbmQnIG9yICdjbGljaycsIGRlcGVuZGluZyBvbiBkZXZpY2UgY2FwYWJpbGl0aWVzLlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGxpbmsgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1wb2ludGVyZXZlbnRzLTIwMTMwMTE1LyNsaXN0LW9mLXBvaW50ZXItZXZlbnRzIHwgUG9pbnRlciBFdmVudHMgVzNDIFdvcmtpbmcgRHJhZnRcbiAgICAgKi9cbiAgICBjaC5vbnBvaW50ZXJ0YXAgPSAoY2guc3VwcG9ydC50b3VjaCkgPyAndG91Y2hlbmQnIDogJ2NsaWNrJztcblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gJ3RvdWNoc3RhcnQnIG9yICdtb3VzZWVudGVyJywgZGVwZW5kaW5nIG9uIGRldmljZSBjYXBhYmlsaXRpZXMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbGluayBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELXBvaW50ZXJldmVudHMtMjAxMzAxMTUvI2Rmbi1wb2ludGVyZW50ZXIgfCBQb2ludGVyIEV2ZW50cyBXM0MgV29ya2luZyBEcmFmdFxuICAgICAqL1xuICAgIGNoLm9ucG9pbnRlcmVudGVyID0gKGNoLnN1cHBvcnQudG91Y2gpID8gJ3RvdWNoc3RhcnQnIDogJ21vdXNlZW50ZXInO1xuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byAndG91Y2hlbmQnIG9yICdtb3VzZWxlYXZlJywgZGVwZW5kaW5nIG9uIGRldmljZSBjYXBhYmlsaXRpZXMuXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAbGluayBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELXBvaW50ZXJldmVudHMtMjAxMzAxMTUvI2Rmbi1wb2ludGVybGVhdmUgfCBQb2ludGVyIEV2ZW50cyBXM0MgV29ya2luZyBEcmFmdFxuICAgICAqL1xuICAgIGNoLm9ucG9pbnRlcmxlYXZlID0gKGNoLnN1cHBvcnQudG91Y2gpID8gJ3RvdWNoZW5kJyA6ICdtb3VzZWxlYXZlJztcblxuICAgIC8qKlxuICAgICAqIEFscGhhbnVtZXJpYyBrZXlzIGV2ZW50LlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgY2gub25rZXlpbnB1dCA9ICgnb25pbnB1dCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSkgPyAnaW5wdXQnIDogJ2tleWRvd24nO1xuY2gub25rZXl0YWIgPSAndGFiJztcblxuICAgIC8qKlxuICAgICAqIEVudGVyIGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5ZW50ZXIgPSAnZW50ZXInO1xuXG4gICAgLyoqXG4gICAgICogRXNjIGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5ZXNjID0gJ2VzYyc7XG5cbiAgICAvKipcbiAgICAgKiBMZWZ0IGFycm93IGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5bGVmdGFycm93ID0gJ2xlZnRfYXJyb3cnO1xuXG4gICAgLyoqXG4gICAgICogVXAgYXJyb3cga2V5IGV2ZW50LlxuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgY2gub25rZXl1cGFycm93ID0gJ3VwX2Fycm93JztcblxuICAgIC8qKlxuICAgICAqIFJpZ3RoIGFycm93IGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5cmlnaHRhcnJvdyA9ICdyaWdodF9hcnJvdyc7XG5cbiAgICAvKipcbiAgICAgKiBEb3duIGFycm93IGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5ZG93bmFycm93ID0gJ2Rvd25fYXJyb3cnO1xuXG4gICAgLyoqXG4gICAgICogQmFja3NwYWNlIGtleSBldmVudC5cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNoLm9ua2V5YmFja3NwYWNlID0gJ2JhY2tzcGFjZSc7XG5jaC5mYWN0b3J5ID0gZnVuY3Rpb24gKEtsYXNzLCBmbikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWRlbnRpZmljYXRpb24gb2YgdGhlIGNvbnN0cnVjdG9yLCBpbiBsb3dlcmNhc2VzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG5hbWUgPSBLbGFzcy5wcm90b3R5cGUubmFtZSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNsYXNzIG5hbWUuIFdoZW4gaXQncyBhIHByZXNldCwgdGFrZSBpdHMgY29uc3RydWN0b3IgbmFtZSB2aWEgdGhlIFwicHJlc2V0XCIgcHJvcGVydHkuXG4gICAgICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdHJ1Y3Rvck5hbWUgPSBLbGFzcy5wcm90b3R5cGUuX3ByZXNldCB8fMKgbmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNsYXNzIGNvbnN0cnVjdG9yIGV4cG9zZWQgZGlyZWN0bHkgaW50byB0aGUgXCJjaFwiIG5hbWVzcGFjZS5cbiAgICAgICAgICogQGV4YW1wbGVEZXNjcmlwdGlvbiBDcmVhdGluZyBhIGNvbXBvbmVudCBpbnN0YW5jZSBieSBzcGVjaWZ5aW5nIGEgcXVlcnkgc2VsZWN0b3IgYW5kIGEgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNoLkNvbXBvbmVudCgkKCcjZXhhbXBsZScpLCB7XG4gICAgICAgICAqICAgICAna2V5JzogJ3ZhbHVlJ1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIC8vIFVzZXMgdGhlIGZ1bmN0aW9uLm5hbWUgcHJvcGVydHkgKG5vbi1zdGFuZGFyZCkgb24gdGhlIG5ld2VzdCBicm93c2VycyBPUlxuICAgICAgICAvLyB1cHBlcmNhc2VzIHRoZSBmaXJzdCBsZXR0ZXIgZnJvbSB0aGUgaWRlbnRpZmljYXRpb24gbmFtZSBvZiB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgY2hbKG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cigxKSldID0gS2xhc3M7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciBleHBvc2VkIGludG8gdGhlIFwiJFwiIG5hbWVzcGFjZS5cbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKiBAZXhhbXBsZURlc2NyaXB0aW9uIENyZWF0aW5nIGEgY29tcG9uZW50IGluc3RhbmNlIGJ5IHNwZWNpZnlpbmcgYSBxdWVyeSBzZWxlY3RvciBhbmQgYSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogJC5jb21wb25lbnQoJCgnI2V4YW1wbGUnKSwge1xuICAgICAgICAgKiAgICAgJ2tleSc6ICd2YWx1ZSdcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIEBleGFtcGxlRGVzY3JpcHRpb24gQ3JlYXRpbmcgYSBjb21wb25lbnQgaW5zdGFuY2UgYnkgc3BlY2lmeWluZyBvbmx5IGEgcXVlcnkgc2VsZWN0b3IuIFRoZSBkZWZhdWx0IG9wdGlvbnMgb2YgZWFjaCBjb21wb25lbnQgd2lsbCBiZSB1c2VkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAkLmNvbXBvbmVudCgkKCcjZXhhbXBsZScpfSk7XG4gICAgICAgICAqIEBleGFtcGxlRGVzY3JpcHRpb24gQ3JlYXRpbmcgYSBjb21wb25lbnQgaW5zdGFuY2UgYnkgc3BlY2lmeWluZyBvbmx5IGEgY29maWd1cmF0aW9uIG9iamVjdC4gSXQgb25seSB3b3JrcyBvbiBjb21wYXRpYmxlIGNvbXBvbmVudHMsIHdoZW4gdGhvc2UgZG9lc24ndCBkZXBlbmRzIG9uIGEgZWxlbWVudCB0byBiZSBjcmVhdGVkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAkLmNvbXBvbmVudCh7XG4gICAgICAgICAqICAgICAna2V5JzogJ3ZhbHVlJ1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICogQGV4YW1wbGVEZXNjcmlwdGlvbiBDcmVhdGluZyBhIGNvbXBvbmVudCBpbnN0YW5jZSBieSBubyBzcGVjaWZ5aW5nIHBhcmFtZXRlcnMuIEl0IG9ubHkgd29ya3Mgb24gY29tcGF0aWJsZSBjb21wb25lbnRzLCB3aGVuIHRob3NlIGRvZXNuJ3QgZGVwZW5kcyBvbiBhIGVsZW1lbnQgdG8gYmUgY3JlYXRlZC4gVGhlIGRlZmF1bHQgb3B0aW9ucyBvZiBlYWNoIGNvbXBvbmVudCB3aWxsIGJlIHVzZWQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqICQuY29tcG9uZW50KCk7XG4gICAgICAgICAqL1xuICAgICAgICAkW25hbWVdID0gZnVuY3Rpb24gKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBjb25zdHJ1Y3RvciBhbmQgcmV0dXJuIGl0XG4gICAgICAgICAgICByZXR1cm4gbmV3IEtsYXNzKCRlbCwgb3B0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciBleHBvc2VkIGFzIGEgXCIkXCIgcGx1Z2luLlxuICAgICAgICAgKi9cbiAgICAgICAgJC5mbltuYW1lXSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIC8vIENvbGxlY3Rpb24gd2l0aCBlYWNoIGluc3RhbmNlZCBjb21wb25lbnRcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRzID0gW107XG5cbiAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zID0gKGZuICE9PSB1bmRlZmluZWQpID8gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IG9wdGlvbnM7XG5cbiAgICAgICAgICAgIC8vIEFuYWxpemUgZXZlcnkgbWF0Y2ggb2YgdGhlIG1haW4gcXVlcnkgc2VsZWN0b3JcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGludG8gdGhlIFwiJFwiIHNjb3BlXG4gICAgICAgICAgICAgICAgdmFyICRlbCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIFwiZGF0YVwiIHJlZmVyZW5jZSB0byB0aGlzIGNvbXBvbmVudCByZWxhdGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSAkZWwuZGF0YShjb25zdHJ1Y3Rvck5hbWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGlzIGNvbXBvbmVudCBpc24ndCByZWxhdGVkIHRvIHRoZSBlbGVtZW50IHZpYSBkYXRhLCBjcmVhdGUgYSBuZXcgaW5zdGFuY2UgYW5kIHNhdmVcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgcmVmZXJlbmNlIHRvIHRoaXMgaW5zdGFuY2UgaW50byB0aGUgZWxlbWVudCBkYXRhXG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgS2xhc3MoJGVsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgJGVsLmRhdGEoY29uc3RydWN0b3JOYW1lLCBkYXRhKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmVtaXQoJ2V4aXN0Jywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGNvbXBvbmVudCByZWZlcmVuY2UgdG8gdGhlIGZpbmFsIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2goZGF0YSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGluc3RhbmNlL2luc3RhbmNlcyBvZiBjb21wb25lbnRzXG4gICAgICAgICAgICByZXR1cm4gKGNvbXBvbmVudHMubGVuZ3RoID4gMSkgPyBjb21wb25lbnRzIDogY29tcG9uZW50c1swXTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIFJlbW92ZSB0aGUgbm8tanMgY2xhc3NuYW1lIGZyb20gaHRtbCB0YWdcbiAgICAkaHRtbC5yZW1vdmVDbGFzcygnbm8tanMnKTtcblxuICAgIC8vIEV4cG9zc2UgcHJpdmF0ZSAkIChqUXVlcnkpIGludG8gY2guJFxuICAgIGNoLiQgPSB3aW5kb3cuJDtcblx0Y2gudmVyc2lvbiA9ICcxLjIuMCc7XG5cdHdpbmRvdy5jaCA9IGNoO1xufSh0aGlzLCB0aGlzLiQpKTtcbihmdW5jdGlvbiAoY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBFbWl0dGVyIENsYXNzIGZvciB0aGUgYnJvd3Nlci5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIuXG4gICAgICogdmFyIGVtaXR0ZXIgPSBuZXcgY2guRXZlbnRFbWl0dGVyKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBJbmhlcml0aW5nIGZyb20gRXZlbnRFbWl0dGVyLlxuICAgICAqIGNoLnV0aWwuaW5oZXJpdHMoQ29tcG9uZW50LCBjaC5FdmVudEVtaXR0ZXIpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdG8gdGhlIGNvbGxlY3Rpb24gZm9yIGEgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXZlbnRFbWl0dGVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBUaGUgZXZlbnQgbmFtZSB0byBzdWJzY3JpYmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvbmNlIEluZGljYXRlIGlmIGEgbGlzdGVuZXIgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgb25seSBvbmUgdGltZS5cbiAgICAgKiBAcmV0dXJucyB7Y29tcG9uZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gV2lsbCBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gJ3JlYWR5JyBldmVudC5cbiAgICAgKiBjb21wb25lbnQub24oJ3JlYWR5JywgbGlzdGVuZXIpO1xuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyLCBvbmNlKSB7XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2guRXZlbnRFbWl0dGVyIC0gXCJvbihldmVudCwgbGlzdGVuZXIpXCI6IEl0IHNob3VsZCByZWNlaXZlIGFuIGV2ZW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2guRXZlbnRFbWl0dGVyIC0gXCJvbihldmVudCwgbGlzdGVuZXIpXCI6IEl0IHNob3VsZCByZWNlaXZlIGEgbGlzdGVuZXIgZnVuY3Rpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ldmVudHNDb2xsZWN0aW9uID0gdGhpcy5fZXZlbnRzQ29sbGVjdGlvbiB8fMKge307XG5cbiAgICAgICAgbGlzdGVuZXIub25jZSA9IG9uY2UgfHwgZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50c0NvbGxlY3Rpb25bZXZlbnRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50c0NvbGxlY3Rpb25bZXZlbnRdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ldmVudHNDb2xsZWN0aW9uW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRvIHRoZSBjb2xsZWN0aW9uIGZvciBhIHNwZWNpZmllZCBldmVudCB0byB3aWxsIGV4ZWN1dGUgb25seSBvbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXZlbnRFbWl0dGVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtjb21wb25lbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaWxsIGFkZCBhbiBldmVudCBoYW5kbGVyIHRvICdjb250ZW50TG9hZCcgZXZlbnQgb25jZS5cbiAgICAgKiBjb21wb25lbnQub25jZSgnY29udGVudExvYWQnLCBsaXN0ZW5lcik7XG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuXG4gICAgICAgIHRoaXMub24oZXZlbnQsIGxpc3RlbmVyLCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGxpc3RlbmVyIGZyb20gdGhlIGNvbGxlY3Rpb24gZm9yIGEgc3BlY2lmaWVkIGV2ZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXZlbnRFbWl0dGVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtjb21wb25lbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBXaWxsIHJlbW92ZSBldmVudCBsaXN0ZW5lciB0byAncmVhZHknIGV2ZW50LlxuICAgICAqIGNvbXBvbmVudC5vZmYoJ3JlYWR5JywgbGlzdGVuZXIpO1xuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuXG4gICAgICAgIGlmIChldmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50RW1pdHRlciAtIFwib2ZmKGV2ZW50LCBsaXN0ZW5lcilcIjogSXQgc2hvdWxkIHJlY2VpdmUgYW4gZXZlbnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudEVtaXR0ZXIgLSBcIm9mZihldmVudCwgbGlzdGVuZXIpXCI6IEl0IHNob3VsZCByZWNlaXZlIGEgbGlzdGVuZXIgZnVuY3Rpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzQ29sbGVjdGlvbltldmVudF0sXG4gICAgICAgICAgICBpID0gMCxcbiAgICAgICAgICAgIGxlbjtcblxuICAgICAgICBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGk7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0gPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgY29sbGVjdGlvbiBmb3IgYSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5FdmVudEVtaXR0ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJldHVybnMgbGlzdGVuZXJzIGZyb20gJ3JlYWR5JyBldmVudC5cbiAgICAgKiBjb21wb25lbnQuZ2V0TGlzdGVuZXJzKCdyZWFkeScpO1xuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NoLkV2ZW50RW1pdHRlciAtIFwiZ2V0TGlzdGVuZXJzKGV2ZW50KVwiOiBJdCBzaG91bGQgcmVjZWl2ZSBhbiBldmVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudHNDb2xsZWN0aW9uW2V2ZW50XTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSBlYWNoIGl0ZW0gaW4gdGhlIGxpc3RlbmVyIGNvbGxlY3Rpb24gaW4gb3JkZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGRhdGEuXG4gICAgICogQG1lbWJlcm9mISBjaC5FdmVudEVtaXR0ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudCB5b3Ugd2FudCB0byBlbWl0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSB2YXJfYXJncyBEYXRhIHRvIHBhc3MgdG8gdGhlIGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJucyB7Y29tcG9uZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gV2lsbCBlbWl0IHRoZSAncmVhZHknIGV2ZW50IHdpdGggJ3BhcmFtMScgYW5kICdwYXJhbTInIGFzIGFyZ3VtZW50cy5cbiAgICAgKiBjb21wb25lbnQuZW1pdCgncmVhZHknLCAncGFyYW0xJywgJ3BhcmFtMicpO1xuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCksIC8vIGNvbnZlcnRlZCB0byBhcnJheVxuICAgICAgICAgICAgZXZlbnQgPSBhcmdzLnNoaWZ0KCksIC8vIFN0b3JlIGFuZCByZW1vdmUgZXZlbnRzIGZyb20gYXJnc1xuICAgICAgICAgICAgbGlzdGVuZXJzLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBsZW47XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2guRXZlbnRFbWl0dGVyIC0gXCJlbWl0KGV2ZW50KVwiOiBJdCBzaG91bGQgcmVjZWl2ZSBhbiBldmVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBldmVudCA9IHsndHlwZSc6IGV2ZW50fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2V2ZW50c0NvbGxlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9ldmVudHNDb2xsZWN0aW9uW2V2ZW50LnR5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c0NvbGxlY3Rpb25bZXZlbnQudHlwZV07XG4gICAgICAgICAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICAgICAgICBmb3IgKGk7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcblxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZihldmVudC50eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvLyBFeHBvc2UgRXZlbnRFbWl0dGVyXG4gICAgY2guRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG59KHRoaXMuY2gpKTtcbihmdW5jdGlvbiAoJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBmdW5jdGlvbiB0byBtYW5hZ2UgY29tcG9uZW50cyBjb250ZW50LlxuICAgICAqIEBtZW1iZXJPZiBjaFxuICAgICAqIEBtaXhpblxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb250ZW50KCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICdtZXRob2QnOiB0aGlzLl9vcHRpb25zLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAncGFyYW1zJzogdGhpcy5fb3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICAgICAgJ2NhY2hlJzogdGhpcy5fb3B0aW9ucy5jYWNoZSxcbiAgICAgICAgICAgICAgICAnYXN5bmMnOiB0aGlzLl9vcHRpb25zLmFzeW5jLFxuICAgICAgICAgICAgICAgICd3YWl0aW5nJzogdGhpcy5fb3B0aW9ucy53YWl0aW5nXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYXN5bmMgY29udGVudCBpbnRvIGNvbXBvbmVudCdzIGNvbnRhaW5lciBhbmQgZW1pdHMgdGhlIGN1cnJlbnQgZXZlbnQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRBc3luY0NvbnRlbnQoZXZlbnQpIHtcblxuICAgICAgICAgICAgdGhhdC5fJGNvbnRlbnQuaHRtbChldmVudC5yZXNwb25zZSk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb250ZW50IGNoYW5nZS5cbiAgICAgICAgICAgICAqIEBldmVudCBjaC5Db250ZW50I2NvbnRlbnRjaGFuZ2VcbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnX2NvbnRlbnRjaGFuZ2UnKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFdmVudCBlbWl0dGVkIGlmIHRoZSBjb250ZW50IGlzIGxvYWRlZCBzdWNjZXNzZnVsbHkuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29udGVudCNjb250ZW50ZG9uZVxuICAgICAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb250ZW50IGlzIGxvYWRpbmcuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29udGVudCNjb250ZW50d2FpdGluZ1xuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImNvbnRlbnR3YWl0aW5nXCIgZXZlbnQuXG4gICAgICAgICAgICAgKiBjb21wb25lbnQub24oJ2NvbnRlbnR3YWl0aW5nJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgaWYgdGhlIGNvbnRlbnQgaXNuJ3QgbG9hZGVkIHN1Y2Nlc3NmdWxseS5cbiAgICAgICAgICAgICAqIEBldmVudCBjaC5Db250ZW50I2NvbnRlbnRlcnJvclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImNvbnRlbnRlcnJvclwiIGV2ZW50LlxuICAgICAgICAgICAgICogY29tcG9uZW50Lm9uKCdjb250ZW50ZXJyb3InLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnY29udGVudCcgKyBldmVudC5zdGF0dXMsIGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgY29udGVudCBpbnRvIGNvbXBvbmVudCdzIGNvbnRhaW5lciBhbmQgZW1pdHMgdGhlIGNvbnRlbnRkb25lIGV2ZW50LlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0Q29udGVudChjb250ZW50KSB7XG5cbiAgICAgICAgICAgIHRoYXQuXyRjb250ZW50Lmh0bWwoY29udGVudCk7XG5cbiAgICAgICAgICAgIHRoYXQuX29wdGlvbnMuY2FjaGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29udGVudCBjaGFuZ2UuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29udGVudCNjb250ZW50Y2hhbmdlXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGF0LmVtaXQoJ19jb250ZW50Y2hhbmdlJyk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCBpZiB0aGUgY29udGVudCBpcyBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgICAgICogQGV2ZW50IGNoLkNvbnRlbnQjY29udGVudGRvbmVcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJjb250ZW50ZG9uZVwiIGV2ZW50LlxuICAgICAgICAgICAgICogY29tcG9uZW50Lm9uKCdjb250ZW50ZG9uZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnY29udGVudGRvbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYXN5bmMgY29udGVudCB3aXRoIGdpdmVuIFVSTC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldEFzeW5jQ29udGVudCh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWwgb3B0aW9ucyB0byBiZSBtZXJnZWQgd2l0aCB0aGUgdXNlcidzIG9wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgJ21ldGhvZCc6ICdHRVQnLFxuICAgICAgICAgICAgICAgICdwYXJhbXMnOiAnJyxcbiAgICAgICAgICAgICAgICAnYXN5bmMnOiB0cnVlLFxuICAgICAgICAgICAgICAgICd3YWl0aW5nJzogJzxkaXYgY2xhc3M9XCJjaC1sb2FkaW5nLWxhcmdlXCI+PC9kaXY+J1xuICAgICAgICAgICAgfSwgb3B0aW9ucyB8fCBkZWZhdWx0cyk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNhY2hlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll9vcHRpb25zLmNhY2hlID0gb3B0aW9ucy5jYWNoZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2V0IGxvYWRpbmdcbiAgICAgICAgICAgIHNldEFzeW5jQ29udGVudCh7XG4gICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICd3YWl0aW5nJyxcbiAgICAgICAgICAgICAgICAncmVzcG9uc2UnOiBvcHRpb25zLndhaXRpbmdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGFzeW5jIHJlcXVlc3RcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgJ3VybCc6IHVybCxcbiAgICAgICAgICAgICAgICAndHlwZSc6IG9wdGlvbnMubWV0aG9kLFxuICAgICAgICAgICAgICAgICdkYXRhJzogJ3g9eCcgKyAoKG9wdGlvbnMucGFyYW1zICE9PSAnJykgPyAnJicgKyBvcHRpb25zLnBhcmFtcyA6ICcnKSxcbiAgICAgICAgICAgICAgICAnY2FjaGUnOiB0aGF0Ll9vcHRpb25zLmNhY2hlLFxuICAgICAgICAgICAgICAgICdhc3luYyc6IG9wdGlvbnMuYXN5bmMsXG4gICAgICAgICAgICAgICAgJ2JlZm9yZVNlbmQnOiBmdW5jdGlvbiAoanFYSFIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBBSkFYIGRlZmF1bHQgSFRUUCBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgcmVzdWx0IGRhdGEgdG8gdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICBzZXRBc3luY0NvbnRlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdkb25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNwb25zZSc6IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZXJyb3InOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgYSBkZWZpbmVkIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgc2V0QXN5bmNDb250ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc3BvbnNlJzogJzxwPkVycm9yIG9uIGFqYXggY2FsbC48L3A+JyxcblxuICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYWIgYWxsIHRoZSBwYXJhbWV0ZXJzIGludG8gYSBKU09OIHRvIHNlbmQgdG8gdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2pxWEhSJzoganFYSFIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHRTdGF0dXMnOiB0ZXh0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvclRocm93bic6IGVycm9yVGhyb3duXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbG93cyB0byBtYW5hZ2UgdGhlIGNvbXBvbmVudHMgY29udGVudC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBtZW1iZXJvZiEgY2guQ29udGVudCNcbiAgICAgICAgICogQHBhcmFtIHsoU3RyaW5nIHwgalF1ZXJ5U2VsZWN0b3IgfMKgWmVwdG9TZWxlY3Rvcil9IGNvbnRlbnQgVGhlIGNvbnRlbnQgdGhhdCB3aWxsIGJlIHVzZWQgYnkgYSBjb21wb25lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBjdXN0b20gb3B0aW9ucyB0byBiZSB1c2VkIHdpdGggY29udGVudCBsb2FkZWQgYnkgYWpheC5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZF0gVGhlIHR5cGUgb2YgcmVxdWVzdCAoXCJQT1NUXCIgb3IgXCJHRVRcIikgdG8gbG9hZCBjb250ZW50IGJ5IGFqYXguIERlZmF1bHQ6IFwiR0VUXCIuXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFzeW5jXSBGb3JjZSB0byBzZW50IHJlcXVlc3QgYXN5bmNocm9ub3VzbHkuIERlZmF1bHQ6IHRydWUuXG4gICAgICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBVcGRhdGUgY29udGVudCB3aXRoIHNvbWUgc3RyaW5nLlxuICAgICAgICAgKiBjb21wb25lbnQuY29udGVudCgnU29tZSBuZXcgY29udGVudCBoZXJlIScpO1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBVcGRhdGUgY29udGVudCB0aGF0IHdpbGwgYmUgbG9hZGVkIGJ5IGFqYXggd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgICAgICogY29tcG9uZW50LmNvbnRlbnQoJ2h0dHA6Ly9jaGljby11aS5jb20uYXIvYWpheCcsIHtcbiAgICAgICAgICogICAgICdjYWNoZSc6IGZhbHNlLFxuICAgICAgICAgKiAgICAgJ3BhcmFtcyc6ICd4LXJlcXVlc3Q9dHJ1ZSdcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuXG4gICAgICAgICAgICAvLyBSZXR1cm5zIHRoZSBsYXN0IHVwZGF0ZWQgY29udGVudC5cbiAgICAgICAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5fJGNvbnRlbnQuaHRtbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0Ll9vcHRpb25zLmNvbnRlbnQgPSBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodGhhdC5fb3B0aW9ucy5jYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fb3B0aW9ucy5jYWNoZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDE6IEFKQVggY2FsbFxuICAgICAgICAgICAgICAgIGlmIChjaC51dGlsLmlzVXJsKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldEFzeW5jQ29udGVudChjb250ZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBDYXNlIDI6IFBsYWluIHRleHRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhc2UgMzogalF1ZXJ5L1plcHRvL0hUTUwgRWxlbWVudFxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC51dGlsLmlzJChjb250ZW50KSB8fCBjb250ZW50Lm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRDb250ZW50KCQoY29udGVudCkucmVtb3ZlKG51bGwsIHRydWUpLnJlbW92ZUNsYXNzKCdjaC1oaWRlJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMb2FkcyBjb250ZW50IG9uY2UuIElmIHRoZSBjYWNoZSBpcyBkaXNhYmxlZCB0aGUgY29udGVudCBsb2FkcyBpbiBlYWNoIHNob3cuXG4gICAgICAgIHRoaXMub25jZSgnX3Nob3cnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoYXQuY29udGVudCh0aGF0Ll9vcHRpb25zLmNvbnRlbnQpO1xuXG4gICAgICAgICAgICB0aGF0Lm9uKCdzaG93JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhhdC5fb3B0aW9ucy5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbnRlbnQodGhhdC5fb3B0aW9ucy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2guQ29udGVudCA9IENvbnRlbnQ7XG5cbn0odGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHRvZ2dsZUVmZmVjdHMgPSB7XG4gICAgICAgICdzbGlkZURvd24nOiAnc2xpZGVVcCcsXG4gICAgICAgICdzbGlkZVVwJzogJ3NsaWRlRG93bicsXG4gICAgICAgICdmYWRlSW4nOiAnZmFkZU91dCcsXG4gICAgICAgICdmYWRlT3V0JzogJ2ZhZGVJbidcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIENvbGxhcHNpYmxlIGNsYXNzIGdpdmVzIHRvIGNvbXBvbmVudHMgdGhlIGFiaWxpdHkgdG8gc2hvd24gb3IgaGlkZGVuIGl0cyBjb250YWluZXIuXG4gICAgICogQG1lbWJlck9mIGNoXG4gICAgICogQG1peGluXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgcHJpdmF0ZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2xsYXBzaWJsZSgpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB0cmlnZ2VyQ2xhc3MgPSAnY2gtJyArIHRoaXMubmFtZSArICctdHJpZ2dlci1vbicsXG4gICAgICAgICAgICBmeCA9IHRoaXMuX29wdGlvbnMuZngsXG4gICAgICAgICAgICB1c2VFZmZlY3RzID0gKGNoLnN1cHBvcnQuZnggJiYgZnggIT09ICdub25lJyAmJiBmeCAhPT0gZmFsc2UpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNob3dDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoYXQuJGNvbnRhaW5lci5yZW1vdmVDbGFzcygnY2gtaGlkZScpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnRnIGlzIHNob3duLlxuICAgICAgICAgICAgICogQGV2ZW50IGNoLkNvbGxhcHNpYmxlI3Nob3dcbiAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJzaG93XCIgZXZlbnQuXG4gICAgICAgICAgICAgKiBjb2xsYXBzaWJsZS5vbignc2hvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGF0LmVtaXQoJ3Nob3cnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHRoYXQuJGNvbnRhaW5lci5hZGRDbGFzcygnY2gtaGlkZScpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBoaWRkZW4uXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29sbGFwc2libGUjaGlkZVxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImhpZGVcIiBldmVudC5cbiAgICAgICAgICAgICAqIGNvbGxhcHNpYmxlLm9uKCdoaWRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnaGlkZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hvd24gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCBjb250YWluZXIuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2hvdyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdGhhdC5fc2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodGhhdC4kdHJpZ2dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhhdC4kdHJpZ2dlci5hZGRDbGFzcyh0cmlnZ2VyQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgc2hvd24uXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29sbGFwc2libGUjYmVmb3Jlc2hvd1xuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImJlZm9yZXNob3dcIiBldmVudC5cbiAgICAgICAgICAgICAqIGNvbGxhcHNpYmxlLm9uKCdiZWZvcmVzaG93JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnYmVmb3Jlc2hvdycpO1xuXG4gICAgICAgICAgICAvLyBBbmltYXRlIG9yIG5vdFxuICAgICAgICAgICAgaWYgKHVzZUVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRjb250YWluZXJbZnhdKCdmYXN0Jywgc2hvd0NhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd0NhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnX3Nob3cnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZGVzIHRoZSBjb21wb25lbnQgY29udGFpbmVyLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hpZGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoYXQuX3Nob3duID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGF0LiR0cmlnZ2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiR0cmlnZ2VyLnJlbW92ZUNsYXNzKHRyaWdnZXJDbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW4uXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ29sbGFwc2libGUjYmVmb3JlaGlkZVxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImJlZm9yZWhpZGVcIiBldmVudC5cbiAgICAgICAgICAgICAqIGNvbGxhcHNpYmxlLm9uKCdiZWZvcmVoaWRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoYXQuZW1pdCgnYmVmb3JlaGlkZScpO1xuXG4gICAgICAgICAgICAvLyBBbmltYXRlIG9yIG5vdFxuICAgICAgICAgICAgaWYgKHVzZUVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LiRjb250YWluZXJbdG9nZ2xlRWZmZWN0c1tmeF1dKCdmYXN0JywgaGlkZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93cyBvciBoaWRlcyB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKHRoYXQuX3Nob3duKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoYXQuc2hvdygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9uKCdkaXNhYmxlJywgdGhpcy5oaWRlKTtcbiAgICB9XG5cbiAgICBjaC5Db2xsYXBzaWJsZSA9IENvbGxhcHNpYmxlO1xuXG59KHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCAkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciAkd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICByZXNpemVkID0gZmFsc2UsXG4gICAgICAgIHNjcm9sbGVkID0gZmFsc2UsXG4gICAgICAgIHJlcXVlc3RBbmltRnJhbWUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9KCkpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICAgIHZhciBldmUgPSAocmVzaXplZCA/IGNoLm9ucmVzaXplIDogY2gub25zY3JvbGwpO1xuXG4gICAgICAgIC8vIFJlZnJlc2ggdmlld3BvcnRcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHN0YXR1c1xuICAgICAgICByZXNpemVkID0gZmFsc2U7XG4gICAgICAgIHNjcm9sbGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQgY2hhbmdlcy5cbiAgICAgICAgICogQGV2ZW50IGNoLnZpZXdwb3J0I3Jlc2l6ZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjaC52aWV3cG9ydC5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSB2aWV3cG9ydCBpcyBzY3JvbGxlZC5cbiAgICAgICAgICogQGV2ZW50IGNoLnZpZXdwb3J0I3Njcm9sbFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjaC52aWV3cG9ydC5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cblxuICAgICAgICAvLyBFbWl0cyB0aGUgY3VycmVudCBldmVudFxuICAgICAgICB0aGlzLmVtaXQoZXZlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgVmlld3BvcnQgaXMgYSBjb21wb25lbnQgdG8gZWFzZSB2aWV3cG9ydCBtYW5hZ2VtZW50LiBZb3UgY2FuIGdldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlld3BvcnQgYW5kIGJleW9uZCwgd2hpY2ggY2FuIGJlIHF1aXRlIGhlbHBmdWwgdG8gcGVyZm9ybSBzb21lIGNoZWNrcyB3aXRoIEphdmFTY3JpcHQuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkV2ZW50RW1pdHRlclxuICAgICAqIEByZXF1aXJlcyBjaC51dGlsXG4gICAgICogQHJldHVybnMge3ZpZXdwb3J0fSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIFZpZXdwb3J0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdwb3J0KCkge1xuICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgfVxuXG4gICAgY2gudXRpbC5pbmhlcml0cyhWaWV3cG9ydCwgY2guRXZlbnRFbWl0dGVyKTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgaW5zdGFuY2Ugb2YgVmlld3BvcnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHt2aWV3cG9ydH1cbiAgICAgKi9cbiAgICBWaWV3cG9ydC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGVtZW50IHJlcHJlc2VudGluZyB0aGUgdmlzaWJsZSBhcmVhLlxuICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLnZpZXdwb3J0I2VsZW1lbnRcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZWwgPSAkd2luZG93O1xuXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuXG4gICAgICAgICR3aW5kb3dcbiAgICAgICAgICAgIC5vbihjaC5vbnJlc2l6ZSArICcudmlld3BvcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY2hhbmdpbmcsIGV4aXRcbiAgICAgICAgICAgICAgICBpZiAoIXJlc2l6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbiB1cGRhdGVSZXNpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUuY2FsbCh0aGF0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihjaC5vbnNjcm9sbCArICcudmlld3BvcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY2hhbmdpbmcsIGV4aXRcbiAgICAgICAgICAgICAgICBpZiAoIXNjcm9sbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZS5jYWxsKHRoYXQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcy91cGRhdGVzIHRoZSBjbGllbnQgcmVjdHMgb2Ygdmlld3BvcnQgKGluIHBpeGVscykuXG4gICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7dmlld3BvcnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVcGRhdGUgdGhlIGNsaWVudCByZWN0cyBvZiB0aGUgdmlld3BvcnQuXG4gICAgICogY2gudmlld3BvcnQuY2FsY3VsYXRlQ2xpZW50UmVjdCgpO1xuICAgICAqL1xuICAgIFZpZXdwb3J0LnByb3RvdHlwZS5jYWxjdWxhdGVDbGllbnRSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgdG9wIGNsaWVudCByZWN0IG9mIHRoZSB2aWV3cG9ydCAoaW4gcGl4ZWxzKS5cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKiBAbmFtZSBjaC5WaWV3cG9ydCN0b3BcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gQ2hlY2tzIGlmIHRoZSB0b3AgY2xpZW50IHJlY3Qgb2YgdGhlIHZpZXdwb3J0IGlzIGVxdWFsIHRvIDAuXG4gICAgICAgICAqIChjaC52aWV3cG9ydC50b3AgPT09IDApID8gJ1llcyc6ICdObyc7XG4gICAgICAgICAqL1xuXG4gICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgbGVmdCBjbGllbnQgcmVjdCBvZiB0aGUgdmlld3BvcnQgKGluIHBpeGVscykuXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQG5hbWUgY2guVmlld3BvcnQjbGVmdFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIGxlZnQgY2xpZW50IHJlY3Qgb2YgdGhlIHZpZXdwb3J0IGlzIGVxdWFsIHRvIDAuXG4gICAgICAgICAqIChjaC52aWV3cG9ydC5sZWZ0ID09PSAwKSA/ICdZZXMnOiAnTm8nO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b3AgPSB0aGlzLmxlZnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBib3R0b20gY2xpZW50IHJlY3Qgb2YgdGhlIHZpZXdwb3J0IChpbiBwaXhlbHMpLlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIEBuYW1lIGNoLlZpZXdwb3J0I2JvdHRvbVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIGJvdHRvbSBjbGllbnQgcmVjdCBvZiB0aGUgdmlld3BvcnQgaXMgZXF1YWwgdG8gYSBudW1iZXIuXG4gICAgICAgICAqIChjaC52aWV3cG9ydC5ib3R0b20gPT09IDkwMCkgPyAnWWVzJzogJ05vJztcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy4kZWwuaGVpZ2h0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJpZ2h0IGNsaWVudCByZWN0IG9mIHRoZSB2aWV3cG9ydCAoaW4gcGl4ZWxzKS5cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKiBAbmFtZSBjaC5WaWV3cG9ydCNyaWdodFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIHJpZ2h0IGNsaWVudCByZWN0IG9mIHRoZSB2aWV3cG9ydCBpcyBlcXVhbCB0byBhIG51bWJlci5cbiAgICAgICAgICogKGNoLnZpZXdwb3J0LmJvdHRvbSA9PT0gMTIwMCkgPyAnWWVzJzogJ05vJztcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLiRlbC53aWR0aCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzL3VwZGF0ZXMgdGhlIGRpbWVuc2lvbnMgKHdpZHRoIGFuZCBoZWlnaHQpIG9mIHRoZSB2aWV3cG9ydCAoaW4gcGl4ZWxzKS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZpZXdwb3J0LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt2aWV3cG9ydH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFVwZGF0ZSB0aGUgZGltZW5zaW9ucyB2YWx1ZXMgb2YgdGhlIHZpZXdwb3J0LlxuICAgICAqIGNoLnZpZXdwb3J0LmNhbGN1bGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgKi9cbiAgICBWaWV3cG9ydC5wcm90b3R5cGUuY2FsY3VsYXRlRGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgdmlld3BvcnQgKGluIHBpeGVscykuXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQG5hbWUgY2guVmlld3BvcnQjaGVpZ2h0XG4gICAgICAgICAqIEB0eXBlIE51bWJlclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQgaXMgZXF1YWwgdG8gYSBudW1iZXIuXG4gICAgICAgICAqIChjaC52aWV3cG9ydC5oZWlnaHQgPT09IDcwMCkgPyAnWWVzJzogJ05vJztcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5ib3R0b207XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHdpZHRoIG9mIHRoZSB2aWV3cG9ydCAoaW4gcGl4ZWxzKS5cbiAgICAgICAgICogQHB1YmxpY1xuICAgICAgICAgKiBAbmFtZSBjaC5WaWV3cG9ydCN3aWR0aFxuICAgICAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gQ2hlY2tzIGlmIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0IGlzIGVxdWFsIHRvIGEgbnVtYmVyLlxuICAgICAgICAgKiAoY2gudmlld3BvcnQud2lkdGggPT09IDEyMDApID8gJ1llcyc6ICdObyc7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcy91cGRhdGVzIHRoZSB2aWV3cG9ydCBwb3NpdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZpZXdwb3J0LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt2aWV3cG9ydH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFVwZGF0ZSB0aGUgb2ZmZXN0IHZhbHVlcyBvZiB0aGUgdmlld3BvcnQuXG4gICAgICogY2gudmlld3BvcnQuY2FsY3VsYXRlT2Zmc2V0KCk7XG4gICAgICovXG4gICAgVmlld3BvcnQucHJvdG90eXBlLmNhbGN1bGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc2Nyb2xsID0gY2gudXRpbC5nZXRTY3JvbGwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLlZpZXdwb3J0I29mZnNldFRvcFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIG9mZnNldCB0b3Agb2YgdGhlIHZpZXdwb3J0IGlzIGVxdWFsIHRvIGEgbnVtYmVyLlxuICAgICAgICAgKiAoY2gudmlld3BvcnQub2Zmc2V0VG9wID09PSAyMDApID8gJ1llcyc6ICdObyc7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9mZnNldFRvcCA9IHNjcm9sbC50b3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgbGVmdCBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAqIEBtZW1iZXJvZiEgY2guVmlld3BvcnQjb2Zmc2V0TGVmdFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIG9mZnNldCBsZWZ0IG9mIHRoZSB2aWV3cG9ydCBpcyBlcXVhbCB0byBhIG51bWJlci5cbiAgICAgICAgICogKGNoLnZpZXdwb3J0Lm9mZnNldExlZnQgPT09IDIwMCkgPyAnWWVzJzogJ05vJztcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub2Zmc2V0TGVmdCA9IHNjcm9sbC5sZWZ0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IHJpZ2h0IG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydCNvZmZzZXRSaWdodFxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBDaGVja3MgaWYgdGhlIG9mZnNldCByaWdodCBvZiB0aGUgdmlld3BvcnQgaXMgZXF1YWwgdG8gYSBudW1iZXIuXG4gICAgICAgICAqIChjaC52aWV3cG9ydC5vZmZzZXRSaWdodCA9PT0gMjAwKSA/ICdZZXMnOiAnTm8nO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vZmZzZXRSaWdodCA9IHRoaXMubGVmdCArIHRoaXMud2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvZmZzZXQgYm90dG9tIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydCNvZmZzZXRCb3R0b21cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gQ2hlY2tzIGlmIHRoZSBvZmZzZXQgYm90dG9tIG9mIHRoZSB2aWV3cG9ydCBpcyBlcXVhbCB0byBhIG51bWJlci5cbiAgICAgICAgICogKGNoLnZpZXdwb3J0Lm9mZnNldEJvdHRvbSA9PT0gMjAwKSA/ICdZZXMnOiAnTm8nO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vZmZzZXRCb3R0b20gPSB0aGlzLm9mZnNldFRvcCArIHRoaXMuaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXJ0dW5zL3VwZGF0ZXMgdGhlIHZpZXdwb3J0IG9yaWVudGF0aW9uOiBsYW5kc2NhcGUgb3IgcG9ydHJhaXQuXG4gICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7dmlld3BvcnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVcGRhdGUgdGhlIGRpbWVuc2lvbnMgdmFsdWVzIG9mIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBjaC52aWV3cG9ydC5jYWxjdWxhdGVEaW1lbnNpb25zKCk7XG4gICAgICovXG4gICAgVmlld3BvcnQucHJvdG90eXBlLmNhbGN1bGF0ZU9yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKiogVGhlIHZpZXdwb3J0IG9yaWVudGF0aW9uOiBsYW5kc2NhcGUgb3IgcG9ydHJhaXQuXG4gICAgICAgICAqIEBtZW1iZXJvZiEgY2guVmlld3BvcnQjb3JpZW50YXRpb25cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gQ2hlY2tzIGlmIHRoZSBvcmllbnRhdGlvbiBpcyBcImxhbmRzY2FwZVwiLlxuICAgICAgICAgKiAoY2gudmlld3BvcnQub3JpZW50YXRpb24gPT09ICdsYW5kc2NhcGUnKSA/ICdZZXMnOiAnTm8nO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IChNYXRoLmFicyh0aGlzLiRlbC5vcmllbnRhdGlvbikgPT09IDkwKSA/ICdsYW5kc2NhcGUnIDogJ3BvcnRyYWl0JztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBpZiBhbiBlbGVtZW50IGlzIGNvbXBsZXRlbHkgbG9jYXRlZCBpbiB0aGUgdmlld3BvcnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5WaWV3cG9ydC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKiBAcGFyYW1zIHtIVE1MRWxlbWVudH0gZWwgQSBnaXZlbiBITVRMRWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBjaC52aWV3cG9ydC5pblZpZXdwb3J0KEhUTUxFbGVtZW50KSA/ICdZZXMnOiAnTm8nO1xuICAgICAqL1xuICAgIFZpZXdwb3J0LnByb3RvdHlwZS5pblZpZXdwb3J0ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciByID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIChyLnRvcCA+IDApICYmIChyLnJpZ2h0IDwgdGhpcy53aWR0aCkgJiYgKHIuYm90dG9tIDwgdGhpcy5oZWlnaHQpICYmIChyLmxlZnQgPiAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBpZiBhbiBlbGVtZW50IGlzIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmlld3BvcnQucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQHBhcmFtcyB7SFRNTEVsZW1lbnR9IGVsIEEgZ2l2ZW4gSFRNTEVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDaGVja3MgaWYgYW4gZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgICAqIGNoLnZpZXdwb3J0LmlzVmlzaXNibGUoSFRNTEVsZW1lbnQpID8gJ1llcyc6ICdObyc7XG4gICAgICovXG4gICAgVmlld3BvcnQucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgciA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiAoci5oZWlnaHQgPj0gdGhpcy5vZmZzZXRUb3ApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGFkdGVzIHRoZSB2aWV3cG9ydCBkaW1lbnNpb24sIHZpZXdwb3J0IHBvc2l0aW9ucyBhbmQgb3JpZXRhdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZpZXdwb3J0LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt2aWV3cG9ydH1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJlZnJlc2hzIHRoZSB2aWV3cG9ydC5cbiAgICAgKiBjaC52aWV3cG9ydC5yZWZyZXNoKCk7XG4gICAgICovXG4gICAgVmlld3BvcnQucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlRGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZU9mZnNldCgpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8vIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIFZpZXdwb3J0IGludG8gY2ggbmFtZXNwYWNlLlxuICAgIGNoLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgUG9zaXRpb25lciBsZXRzIHlvdSBwb3NpdGlvbiBlbGVtZW50cyBvbiB0aGUgc2NyZWVuIGFuZCBjaGFuZ2VzIGl0cyBwb3NpdGlvbnMuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gb3B0aW9ucy50YXJnZXQgUmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IHRvIGJlIHBvc2l0aW9uZWQuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMucmVmZXJlbmNlXSBJdCdzIGEgcmVmZXJlbmNlIHRvIHBvc2l0aW9uIGFuZCBzaXplIG9mIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgdG8gY2Fycnkgb3V0IHRoZSBwb3NpdGlvbi4gSWYgaXQgaXNuJ3QgZGVmaW5lZCB0aHJvdWdoIGNvbmZpZ3VyYXRpb24sIGl0IHdpbGwgYmUgdGhlIGNoLnZpZXdwb3J0LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gWW91IG11c3QgdXNlOiBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiIG9yIFwiY2VudGVyXCIuIERlZmF1bHQ6IFwiY2VudGVyXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBZb3UgbXVzdCB1c2U6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJjZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogMC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZXRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIFlvdSBtdXN0IHVzZTogXCJhYnNvbHV0ZVwiIG9yIFwiZml4ZWRcIi4gRGVmYXVsdDogXCJmaXhlZFwiLlxuICAgICAqIEByZXF1aXJlcyBjaC51dGlsXG4gICAgICogQHJlcXVpcmVzIGNoLlZpZXdwb3J0XG4gICAgICogQHJldHVybnMge3Bvc2l0aW9uZXJ9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgUG9zaXRpb25lci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEluc3RhbmNlIHRoZSBQb3NpdGlvbmVyIEl0IHJlcXVpcmVzIGEgbGl0dGxlIGNvbmZpZ3VyYXRpb24uXG4gICAgICogLy8gVGhlIGRlZmF1bHQgYmVoYXZpb3IgcGxhY2UgYW4gZWxlbWVudCBjZW50ZXIgaW50byB0aGUgVmlld3BvcnQuXG4gICAgICogdmFyIHBvc2l0aW9uZWQgPSBuZXcgY2guUG9zaXRpb25lcih7XG4gICAgICogICAgICd0YXJnZXQnOiAkKHNlbGVjdG9yKSxcbiAgICAgKiAgICAgJ3JlZmVyZW5jZSc6ICQoc2VsZWN0b3IpLFxuICAgICAqICAgICAnc2lkZSc6ICd0b3AnLFxuICAgICAqICAgICAnYWxpZ24nOiAnbGVmdCcsXG4gICAgICogICAgICdvZmZzZXRYJzogMjAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTBcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIG9mZnNldFg6IFRoZSBQb3NpdGlvbmVyIGNvdWxkIGJlIGNvbmZpZ3VyYXRlZCB3aXRoIGFuIG9mZnNldFguXG4gICAgICogLy8gVGhpcyBleGFtcGxlIHNob3cgYW4gZWxlbWVudCBkaXNwbGFjZWQgaG9yaXpvbnRhbGx5IGJ5IDEwcHggb2YgZGVmaW5lZCBwb3NpdGlvbi5cbiAgICAgKiB2YXIgcG9zaXRpb25lZCA9IG5ldyBjaC5Qb3NpdGlvbmVyKHtcbiAgICAgKiAgICAgJ3RhcmdldCc6ICQoc2VsZWN0b3IpLFxuICAgICAqICAgICAncmVmZXJlbmNlJzogJChzZWxlY3RvciksXG4gICAgICogICAgICdzaWRlJzogJ3RvcCcsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0JyxcbiAgICAgKiAgICAgJ29mZnNldFgnOiAxMFxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gb2Zmc2V0WTogVGhlIFBvc2l0aW9uZXIgY291bGQgYmUgY29uZmlndXJhdGVkIHdpdGggYW4gb2Zmc2V0WS5cbiAgICAgKiAvLyBUaGlzIGV4YW1wbGUgc2hvdyBhbiBlbGVtZW50IGRpc3BsYWNlZCB2ZXJ0aWNhbGx5IGJ5IDEwcHggb2YgZGVmaW5lZCBwb3NpdGlvbi5cbiAgICAgKiB2YXIgcG9zaXRpb25lZCA9IG5ldyBjaC5Qb3NpdGlvbmVyKHtcbiAgICAgKiAgICAgJ3RhcmdldCc6ICQoc2VsZWN0b3IpLFxuICAgICAqICAgICAncmVmZXJlbmNlJzogJChzZWxlY3RvciksXG4gICAgICogICAgICdzaWRlJzogJ3RvcCcsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0JyxcbiAgICAgKiAgICAgJ29mZnNldFknOiAxMFxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gcG9zaXRpb25lZDogVGhlIHBvc2l0aW9uZXIgY291bGQgYmUgY29uZmlndXJlZCB0byB3b3JrIHdpdGggZml4ZWQgb3IgYWJzb2x1dGUgcG9zaXRpb24gdmFsdWUuXG4gICAgICogdmFyIHBvc2l0aW9uZWQgPSBuZXcgY2guUG9zaXRpb25lcih7XG4gICAgICogICAgICd0YXJnZXQnOiAkKHNlbGVjdG9yKSxcbiAgICAgKiAgICAgJ3JlZmVyZW5jZSc6ICQoc2VsZWN0b3IpLFxuICAgICAqICAgICAncG9zaXRpb24nOiAnZml4ZWQnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gUG9zaXRpb25lcihvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdpbmRvdy5FcnJvcignY2guUG9zaXRpb25lcjogRXhwZWN0ZWQgb3B0aW9ucyBkZWZpbmVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBpdHMgcHJpdmF0ZSBvcHRpb25zXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjaC51dGlsLmNsb25lKHRoaXMuX2RlZmF1bHRzKTtcblxuICAgICAgICAvLyBJbml0XG4gICAgICAgIHRoaXMuX2NvbmZpZ3VyZShvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9zaXRpb25lci5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIFBvc2l0aW9uZXIucHJvdG90eXBlLm5hbWUgPSAncG9zaXRpb25lcic7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGNyZWF0ZWQgdGhlIGluc3RhbmNlJ3MgcHJvdG90eXBlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9zaXRpb25lci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvc2l0aW9uZXIucHJvdG90eXBlLl9jb25zdHJ1Y3RvciA9IFBvc2l0aW9uZXI7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvc2l0aW9uZXIucHJvdG90eXBlLl9kZWZhdWx0cyA9IHtcbiAgICAgICAgJ29mZnNldFgnOiAwLFxuICAgICAgICAnb2Zmc2V0WSc6IDAsXG4gICAgICAgICdzaWRlJzogJ2NlbnRlcicsXG4gICAgICAgICdhbGlnbic6ICdjZW50ZXInLFxuICAgICAgICAncmVmZXJlbmNlJzogY2gudmlld3BvcnQsXG4gICAgICAgICdwb3NpdGlvbic6ICdmaXhlZCdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlcyB0aGUgcG9zaXRpb25lciBpbnN0YW5jZSB3aXRoIGEgZ2l2ZW4gb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvc2l0aW9uZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7cG9zaXRpb25lcn1cbiAgICAgKiBAcGFyYW1zIHtPYmplY3R9IG9wdGlvbnMgQSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKi9cbiAgICBQb3NpdGlvbmVyLnByb3RvdHlwZS5fY29uZmlndXJlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICAvLyBNZXJnZSB1c2VyIG9wdGlvbnMgd2l0aCBpdHMgb3B0aW9uc1xuICAgICAgICAkLmV4dGVuZCh0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zLm9mZnNldFggPSBwYXJzZUludCh0aGlzLl9vcHRpb25zLm9mZnNldFgsIDEwKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5vZmZzZXRZID0gcGFyc2VJbnQodGhpcy5fb3B0aW9ucy5vZmZzZXRZLCAxMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB0byBiZSBwb3NpdGlvbmVkLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiR0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCB0aGlzLiR0YXJnZXQ7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHJlZmVyZW5jZSA9IG9wdGlvbnMucmVmZXJlbmNlIHx8IHRoaXMuJHJlZmVyZW5jZTtcbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlID0gdGhpcy5fb3B0aW9ucy5yZWZlcmVuY2U7XG5cbiAgICAgICAgdGhpcy4kdGFyZ2V0LmNzcygncG9zaXRpb24nLCB0aGlzLl9vcHRpb25zLnBvc2l0aW9uKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY3VycmVudCBwb3NpdGlvbiB3aXRoIGEgZ2l2ZW4gb3B0aW9uc1xuICAgICAqIEBtZW1iZXJvZiEgY2guUG9zaXRpb25lci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7cG9zaXRpb25lcn1cbiAgICAgKiBAcGFyYW1zIHtPYmplY3R9IG9wdGlvbnMgQSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFVwZGF0ZXMgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogcG9zaXRpb25lZC5yZWZyZXNoKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVcGRhdGVzIHRoZSBjdXJyZW50IHBvc2l0aW9uIHdpdGggbmV3IG9mZnNldFggYW5kIG9mZnNldFkuXG4gICAgICogcG9zaXRpb25lZC5yZWZyZXNoKHtcbiAgICAgKiAgICAgJ29mZmVzdFgnOiAxMDAsXG4gICAgICogICAgICdvZmZlc3RZJzogMTBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBQb3NpdGlvbmVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWd1cmUob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlICE9PSBjaC52aWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlUmVmZXJlbmNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVUYXJnZXQoKTtcblxuICAgICAgICAvLyB0aGUgb2JqZWN0IHRoYXQgc3RvcmVzIHRoZSB0b3AsIGxlZnQgcmVmZXJlbmNlIHRvIHNldCB0byB0aGUgdGFyZ2V0XG4gICAgICAgIHRoaXMuX3NldFBvaW50KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHJlZmVyZW5jZSAoZWxlbWVudCBvciBjaC52aWV3cG9ydCkgb2YgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9zaXRpb25lci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtwb3NpdGlvbmVyfVxuICAgICAqL1xuICAgIFBvc2l0aW9uZXIucHJvdG90eXBlLl9jYWxjdWxhdGVSZWZlcmVuY2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIHJlZmVyZW5jZSA9IHRoaXMuJHJlZmVyZW5jZVswXSxcbiAgICAgICAgICAgIG9mZnNldDtcblxuICAgICAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCdkYXRhLXNpZGUnLCB0aGlzLl9vcHRpb25zLnNpZGUpO1xuICAgICAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCdkYXRhLWFsaWduJywgdGhpcy5fb3B0aW9ucy5hbGlnbik7XG5cbiAgICAgICAgdGhpcy5fcmVmZXJlbmNlID0gY2gudXRpbC5nZXRPdXRlckRpbWVuc2lvbnMocmVmZXJlbmNlKTtcblxuICAgICAgICBpZiAocmVmZXJlbmNlLm9mZnNldFBhcmVudCA9PT0gdGhpcy4kdGFyZ2V0WzBdLm9mZnNldFBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlLmxlZnQgPSByZWZlcmVuY2Uub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZS50b3AgPSByZWZlcmVuY2Uub2Zmc2V0VG9wO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSBjaC51dGlsLmdldE9mZnNldChyZWZlcmVuY2UpO1xuICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlLmxlZnQgPSBvZmZzZXQubGVmdDtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZS50b3AgPSBvZmZzZXQudG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uZWQgZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvc2l0aW9uZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7cG9zaXRpb25lcn1cbiAgICAgKi9cbiAgICBQb3NpdGlvbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLiR0YXJnZXRbMF07XG4gICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2lkZScsIHRoaXMuX29wdGlvbnMuc2lkZSk7XG4gICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYWxpZ24nLCB0aGlzLl9vcHRpb25zLmFsaWduKTtcblxuICAgICAgICB0aGlzLl90YXJnZXQgPSBjaC51dGlsLmdldE91dGVyRGltZW5zaW9ucyh0YXJnZXQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBwb2ludHMuXG4gICAgICogQG1lbWJlcm9mISBjaC5Qb3NpdGlvbmVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3Bvc2l0aW9uZXJ9XG4gICAgICovXG4gICAgUG9zaXRpb25lci5wcm90b3R5cGUuX3NldFBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2lkZSA9IHRoaXMuX29wdGlvbnMuc2lkZSxcbiAgICAgICAgICAgIG9yaXRlbnRhdGlvbiA9IChzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJykgPyAnaG9yaXpvbnRhbCcgOiAoKHNpZGUgPT09ICdyaWdodCcgfHwgc2lkZSA9PT0gJ2xlZnQnKSA/ICd2ZXJ0aWNhbCcgOiAnY2VudGVyJyksXG4gICAgICAgICAgICBjb29ycyxcbiAgICAgICAgICAgIG9yaXRlbnRhdGlvbk1hcDtcblxuICAgICAgICAvLyB0YWtlIHRoZSBzaWRlIGFuZCBjYWxjdWxhdGUgdGhlIGFsaWdubWVudCBhbmQgbWFrZSB0aGUgQ1NTcG9pbnRcbiAgICAgICAgaWYgKG9yaXRlbnRhdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGNvb3JkaW5hdGVzIHJlbGF0ZWQgdG8gdGhlIGNlbnRlciBzaWRlIHRvIGxvY2F0ZSB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBjb29ycyA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogKHRoaXMuX3JlZmVyZW5jZS50b3AgKyAodGhpcy5fcmVmZXJlbmNlLmhlaWdodCAvIDIgLSB0aGlzLl90YXJnZXQuaGVpZ2h0IC8gMikpLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogKHRoaXMuX3JlZmVyZW5jZS5sZWZ0ICsgKHRoaXMuX3JlZmVyZW5jZS53aWR0aCAvIDIgLSB0aGlzLl90YXJnZXQud2lkdGggLyAyKSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChvcml0ZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgY29vcmRpbmF0ZXMgcmVsYXRlZCB0byB0aGUgdG9wIG9yIGJvdHRvbSBzaWRlIHRvIGxvY2F0ZSB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBvcml0ZW50YXRpb25NYXAgPSB7XG4gICAgICAgICAgICAgICAgJ2xlZnQnOiB0aGlzLl9yZWZlcmVuY2UubGVmdCxcbiAgICAgICAgICAgICAgICAnY2VudGVyJzogKHRoaXMuX3JlZmVyZW5jZS5sZWZ0ICsgKHRoaXMuX3JlZmVyZW5jZS53aWR0aCAvIDIgLSB0aGlzLl90YXJnZXQud2lkdGggLyAyKSksXG4gICAgICAgICAgICAgICAgJ3JpZ2h0JzogKHRoaXMuX3JlZmVyZW5jZS5sZWZ0ICsgdGhpcy5fcmVmZXJlbmNlLndpZHRoIC0gdGhpcy5fdGFyZ2V0LndpZHRoKSxcbiAgICAgICAgICAgICAgICAndG9wJzogdGhpcy5fcmVmZXJlbmNlLnRvcCAtIHRoaXMuX3RhcmdldC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgJ2JvdHRvbSc6ICh0aGlzLl9yZWZlcmVuY2UudG9wICsgdGhpcy5fcmVmZXJlbmNlLmhlaWdodClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvb3JzID0ge1xuICAgICAgICAgICAgICAgICd0b3AnOiBvcml0ZW50YXRpb25NYXBbc2lkZV0sXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBvcml0ZW50YXRpb25NYXBbdGhpcy5fb3B0aW9ucy5hbGlnbl1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGNvb3JkaW5hdGVzIHJlbGF0ZWQgdG8gdGhlIHJpZ2h0IG9yIGxlZnQgc2lkZSB0byBsb2NhdGUgdGhlIHRhcmdldFxuICAgICAgICAgICAgb3JpdGVudGF0aW9uTWFwID0ge1xuICAgICAgICAgICAgICAgICd0b3AnOiB0aGlzLl9yZWZlcmVuY2UudG9wLFxuICAgICAgICAgICAgICAgICdjZW50ZXInOiAodGhpcy5fcmVmZXJlbmNlLnRvcCArICh0aGlzLl9yZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIHRoaXMuX3RhcmdldC5oZWlnaHQgLyAyKSksXG4gICAgICAgICAgICAgICAgJ2JvdHRvbSc6ICh0aGlzLl9yZWZlcmVuY2UudG9wICsgdGhpcy5fcmVmZXJlbmNlLmhlaWdodCAtIHRoaXMuX3RhcmdldC5oZWlnaHQpLFxuICAgICAgICAgICAgICAgICdyaWdodCc6ICh0aGlzLl9yZWZlcmVuY2UubGVmdCArIHRoaXMuX3JlZmVyZW5jZS53aWR0aCksXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiAodGhpcy5fcmVmZXJlbmNlLmxlZnQgLSB0aGlzLl90YXJnZXQud2lkdGgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb29ycyA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogb3JpdGVudGF0aW9uTWFwW3RoaXMuX29wdGlvbnMuYWxpZ25dLFxuICAgICAgICAgICAgICAgICdsZWZ0Jzogb3JpdGVudGF0aW9uTWFwW3NpZGVdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29vcnMudG9wICs9IHRoaXMuX29wdGlvbnMub2Zmc2V0WTtcbiAgICAgICAgY29vcnMubGVmdCArPSB0aGlzLl9vcHRpb25zLm9mZnNldFg7XG5cbiAgICAgICAgdGhpcy4kdGFyZ2V0LmNzcyhjb29ycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIGNoLlBvc2l0aW9uZXIgPSBQb3NpdGlvbmVyO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRkb2N1bWVudCA9ICQod2luZG93LmRvY3VtZW50KSxcbiAgICAgICAgY29kZU1hcCA9IHtcbiAgICAgICAgICAgICc4JzogY2gub25rZXliYWNrc3BhY2UsXG4gICAgICAgICAgICAnOSc6IGNoLm9ua2V5dGFiLFxuICAgICAgICAgICAgJzEzJzogY2gub25rZXllbnRlcixcbiAgICAgICAgICAgICcyNyc6IGNoLm9ua2V5ZXNjLFxuICAgICAgICAgICAgJzM3JzogY2gub25rZXlsZWZ0YXJyb3csXG4gICAgICAgICAgICAnMzgnOiBjaC5vbmtleXVwYXJyb3csXG4gICAgICAgICAgICAnMzknOiBjaC5vbmtleXJpZ2h0YXJyb3csXG4gICAgICAgICAgICAnNDAnOiBjaC5vbmtleWRvd25hcnJvd1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG9ydGN1dHNcbiAgICAgICAgICogQG1lbWJlcm9mIGNoXG4gICAgICAgICAqIEBuYW1lc3BhY2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3J0Y3V0cyA9IHtcblxuICAgICAgICAgICAgJ19hY3RpdmUnOiBudWxsLFxuXG4gICAgICAgICAgICAnX3F1ZXVlJzogW10sXG5cbiAgICAgICAgICAgICdfY29sbGVjdGlvbic6IHt9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFkZCBhIGNhbGxiYWNrIHRvIGEgc2hvcnRjdXQgd2l0aCBnaXZlbiBuYW1lLlxuICAgICAgICAgICAgICogQHBhcmFtIHsoY2gub25rZXliYWNrc3BhY2UgfCBjaC5vbmtleXRhYiB8IGNoLm9ua2V5ZW50ZXIgfCBjaC5vbmtleWVzYyB8IGNoLm9ua2V5bGVmdGFycm93IHwgY2gub25rZXl1cGFycm93IHwgY2gub25rZXlyaWdodGFycm93IHwgY2gub25rZXlkb3duYXJyb3cpfSBzaG9ydGN1dCBTaG9ydGN1dCB0byBzdWJzY3JpYmUuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBBIG5hbWUgdG8gYWRkIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBnaXZlbiBmdW5jdGlvbi5cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVucyB0aGUgY2guc2hvcnRjdXRzLlxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIEFkZCBhIGNhbGxiYWNrIHRvIEVTQyBrZXkgd2l0aCBcImNvbXBvbmVudFwiIG5hbWUuXG4gICAgICAgICAgICAgKiBjaC5zaG9ydGN1dHMuYWRkKGNoLm9ua2V5ZXNjLCAnY29tcG9uZW50JywgY29tcG9uZW50LmhpZGUpO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnYWRkJzogZnVuY3Rpb24gKHNob3J0Y3V0LCBuYW1lLCBjYWxsYmFjaykge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3Rpb25bbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uW25hbWVdID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbGxlY3Rpb25bbmFtZV1bc2hvcnRjdXRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbltuYW1lXVtzaG9ydGN1dF0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uW25hbWVdW3Nob3J0Y3V0XS5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbW92ZXMgYSBjYWxsYmFjayBmcm9tIGEgc2hvcnRjdXQgd2l0aCBnaXZlbiBuYW1lLlxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgQSBuYW1lIHRvIHJlbW92ZSBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICogQHBhcmFtIHsoY2gub25rZXliYWNrc3BhY2UgfCBjaC5vbmtleXRhYiB8IGNoLm9ua2V5ZW50ZXIgfCBjaC5vbmtleWVzYyB8IGNoLm9ua2V5bGVmdGFycm93IHwgY2gub25rZXl1cGFycm93IHwgY2gub25rZXlyaWdodGFycm93IHwgY2gub25rZXlkb3duYXJyb3cpfSBbc2hvcnRjdXRdIFNob3J0Y3V0IHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBnaXZlbiBmdW5jdGlvbi5cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVucyB0aGUgY2guc2hvcnRjdXRzLlxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gRVNDIGtleSB3aXRoIFwiY29tcG9uZW50XCIgbmFtZS5cbiAgICAgICAgICAgICAqIGNoLnNob3J0Y3V0cy5yZW1vdmUoY2gub25rZXllc2MsICdjb21wb25lbnQnLCBjb21wb25lbnQuaGlkZSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdyZW1vdmUnOiBmdW5jdGlvbiAobmFtZSwgc2hvcnRjdXQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2dCxcbiAgICAgICAgICAgICAgICAgICAgZXZ0Q29sbGVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZXZ0Q29sbGVjdGlvbkxlbmdodDtcblxuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaG9ydGN1dHMgLSBcInJlbW92ZShuYW1lLCBzaG9ydGN1dCwgY2FsbGJhY2spXCI6IFwibmFtZVwiIHBhcmFtZXRlciBtdXN0IGJlIGRlZmluZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3J0Y3V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbGxlY3Rpb25bbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb2xsZWN0aW9uW25hbWVdW3Nob3J0Y3V0XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXZ0Q29sbGVjdGlvbiA9IHRoaXMuX2NvbGxlY3Rpb25bbmFtZV1bc2hvcnRjdXRdO1xuXG4gICAgICAgICAgICAgICAgZXZ0Q29sbGVjdGlvbkxlbmdodCA9IGV2dENvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChldnQgPSAwOyBldnQgPCBldnRDb2xsZWN0aW9uTGVuZ2h0OyBldnQgKz0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChldnRDb2xsZWN0aW9uW2V2dF0gPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldnRDb2xsZWN0aW9uLnNwbGljZShldnQsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHVybiBvbiBzaG9ydGN1dHMgYXNzb2NpYXRlZCB0byBhIGdpdmVuIG5hbWUuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBBIGdpdmVuIG5hbWUgZnJvbSB0aGUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVucyB0aGUgY2guc2hvcnRjdXRzLlxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFR1cm4gb24gc2hvcnRjdXRzIGFzc29jaWF0ZWQgdG8gXCJjb21wb25lbnRcIiBuYW1lLlxuICAgICAgICAgICAgICogY2guc2hvcnRjdXRzLm9uKCdjb21wb25lbnQnKTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgJ29uJzogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcXVldWVMZW5ndGggPSB0aGlzLl9xdWV1ZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBxdWV1ZUxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgaW5zdGFuY2UgZXhpc3QgYW5kIG1vdmUgdGhlIG9yZGVyLCBhZGRzIGl0IGF0IHRoZSBsYXMgcG9zaXRpb24gYW5kIHJlbW92ZXMgdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICBmb3IgKGl0ZW07IGl0ZW0gPj0gMDsgaXRlbSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZVtpdGVtXSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGl0ZW0sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWUucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBuYW1lO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFR1cm4gb2ZmIHNob3J0Y3V0cyBhc3NvY2lhdGVkIHRvIGEgZ2l2ZW4gbmFtZS5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIEEgZ2l2ZW4gbmFtZSBmcm9tIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dW5zIHRoZSBjaC5zaG9ydGN1dHMuXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICogLy8gVHVybiBvZmYgc2hvcnRjdXRzIGFzc29jaWF0ZWQgdG8gXCJjb21wb25lbnRcIiBuYW1lLlxuICAgICAgICAgICAgICogY2guc2hvcnRjdXRzLm9mZignY29tcG9uZW50Jyk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdvZmYnOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWV1ZUxlbmd0aCA9IHRoaXMuX3F1ZXVlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IHF1ZXVlTGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIGZvciAoaXRlbTsgaXRlbSA+PSAwOyBpdGVtIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlW2l0ZW1dID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVzIHRoZSBpbnN0YW5jZSB0aGF0IEknbSBzZXR0aW5nIG9mZlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVldWUuc3BsaWNlKGl0ZW0sIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcXVldWUgaXMgZnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSB0aGlzLl9xdWV1ZVt0aGlzLl9xdWV1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcXVldWUgbm8gaGFzIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgJGRvY3VtZW50Lm9uKCdrZXlkb3duLnNob3J0Y3V0cycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHNob3J0Y3V0ID0gY29kZU1hcFtrZXlDb2RlXSxcbiAgICAgICAgICAgIGNhbGxiYWNrcyxcbiAgICAgICAgICAgIGNhbGxiYWNrc0xlbmdodCxcbiAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgIGlmIChzaG9ydGN1dCAhPT0gdW5kZWZpbmVkICYmIHNob3J0Y3V0cy5fYWN0aXZlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjYWxsYmFja3MgPSBzaG9ydGN1dHMuX2NvbGxlY3Rpb25bc2hvcnRjdXRzLl9hY3RpdmVdW3Nob3J0Y3V0XTtcblxuICAgICAgICAgICAgZXZlbnQudHlwZSA9IHNob3J0Y3V0O1xuXG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzTGVuZ2h0ID0gY2FsbGJhY2tzLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3NMZW5naHQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0oZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNoLnNob3J0Y3V0cyA9IHNob3J0Y3V0cztcblxufSh0aGlzLCB0aGlzLmNoLiQsIHRoaXMuY2gpKTtcblxuKGZ1bmN0aW9uICh3aW5kb3csIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgYSBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIHRoZSBpbWFnZXMgb2YgYSBxdWVyeSBzZWxlY3Rpb24gbG9hZHMuXG4gICAgICogQG1lbWJlcm9mISBjaFxuICAgICAqIEBwYXJhbSAkZWwgQW4gaW1hZ2Ugb3IgYSBjb2xsZWN0aW9uIG9mIGltYWdlcy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGhhbmRsZXIgdGhlIGNvbXBvbmVudCB3aWxsIGZpcmUgYWZ0ZXIgdGhlIGltYWdlcyBsb2Fkcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICQoJ3NlbGVjdG9yJykub25JbWFnZXNMb2FkcyhmdW5jdGlvbiAoKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdUaGUgc2l6ZSBvZiB0aGUgbG9hZGVkIGltYWdlIGlzICcgKyB0aGlzLndpZHRoKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkltYWdlc0xvYWRzKCRlbCwgY2FsbGJhY2spIHtcblxuICAgICAgICAkZWxcbiAgICAgICAgICAgIC5vbmUoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9ICRlbC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgtLWxlbiA8PSAwKSB7IGNhbGxiYWNrLmNhbGwoJGVsKTsgfVxuICAgICAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIENhY2hlZCBpbWFnZXMgZG9uJ3QgZmlyZSBsb2FkIHNvbWV0aW1lcywgc28gd2UgcmVzZXQgc3JjLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRlIHx8IHRoaXMuY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3JjID0gdGhpcy5zcmM7XG4gICAgICAgICAgICAgICAgICAgIC8vIERhdGEgdXJpIGZpeCBidWcgaW4gd2ViLWtpdCBicm93c2Vyc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNyYyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3l3QUFBQUFBUUFCQUFBQ0FVd0FPdz09JztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcmMgPSBzcmM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2gub25JbWFnZXNMb2FkcyA9IG9uSW1hZ2VzTG9hZHM7XG5cbn0odGhpcywgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHV0aWwgPSBjaC51dGlsLFxuICAgICAgICB1aWQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBjbGFzcyBmb3IgYWxsIGNvbXBvbmVudHMuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkV2ZW50RW1pdHRlclxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMge2NvbXBvbmVudH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBDb21wb25lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KCRlbCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9pbml0KCRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHlvdSBkZWZpbmUgYW4gaW5pdGlhbGl6ZSBtZXRob2QsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhIG5ldyBFeHBhbmRhYmxlIGlzIGNyZWF0ZWQuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLkV4cGFuZGFibGUucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ29tcG9uZW50I3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIGNvbXBvbmVudC5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIGNoLnV0aWwuaW5oZXJpdHMoQ29tcG9uZW50LCBjaC5FdmVudEVtaXR0ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgYSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Db21wb25lbnQucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGNvbXBvbmVudCA9ICQoc2VsZWN0b3IpLmRhdGEobmFtZSk7XG4gICAgICovXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5uYW1lID0gJ2NvbXBvbmVudCc7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNvbXBvbmVudC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBDb21wb25lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29tcG9uZW50O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBDb21wb25lbnQgYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNvbXBvbmVudC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtjb21wb25lbnR9XG4gICAgICovXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcblxuICAgICAgICAvLyBDbG9uZXMgZGVmYXVsdHMgb3IgY3JlYXRlcyBhIGRlZmF1bHRzIG9iamVjdFxuICAgICAgICB2YXIgZGVmYXVsdHMgPSAodGhpcy5fZGVmYXVsdHMpID8gdXRpbC5jbG9uZSh0aGlzLl9kZWZhdWx0cykgOiB7fTtcblxuICAgICAgICAvLyBDbG9uZXMgdGhlIGRlZmF1bHRzIG9wdGlvbnMgb3IgY3JlYXRlcyBhIG5ldyBvYmplY3RcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCRlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGRlZmF1bHRzO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHV0aWwuaXMkKCRlbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWwgPSAkZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWwgPSAkZWxbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IGRlZmF1bHRzO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiAkZWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9ICRlbDtcbiAgICAgICAgICAgICAgICAkZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKCRlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgfcKgZWxzZSBpZiAodXRpbC5pcyQoJGVsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuXyRlbCA9ICRlbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbCA9ICRlbFswXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgd2luZG93LkVycm9yKCdVbmV4cGVjdGVkIHBhcmFtZXRlcnMgd2VyZSBmb3VuZCBpbiB0aGUgXFwnJyArIHRoaXMubmFtZSArICdcXCcgaW5zdGFudGlhdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHVuaXF1ZSBpZCB0byBpZGVudGlmeSB0aGUgaW5zdGFuY2Ugb2YgYSBjb21wb25lbnQuXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVpZCA9ICh1aWQgKz0gMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiBhIGNvbXBvbmVudCBpcyBlbmFibGVkLlxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZnVuY3Rpb25hbGl0eSBvciBhYmlsaXRpZXMgZnJvbSBvdGhlciBjbGFzc2VzLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ29tcG9uZW50LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjb21wb25lbnR9XG4gICAgICogQHBhcmFtcyB7Li4uU3RyaW5nfSB2YXJfYXJncyBUaGUgbmFtZSBvZiB0aGUgYWJpbGl0aWVzIHRvIHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVxdWlyZSBzb21lIGFiaWxpdGllc3QgdG8gdXNlIGluIHlvdXIgY29tcG9uZW50LlxuICAgICAqIC8vIEZvciBleGFtcGxlIHlvdSBzaG91bGQgcmVxdWlyZSB0aGUgY29sbHBhc2libGUgYWJpdGxpeS5cbiAgICAgKiB2YXIgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudChlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgKiBjb21wb25lbnQucmVxdWlyZSgnQ29sbGFwc2libGUnKTtcbiAgICAgKi9cbiAgICBDb21wb25lbnQucHJvdG90eXBlLnJlcXVpcmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGFyZyxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGk7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGhpc1thcmcudG9Mb3dlckNhc2UoKV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNoW2FyZ10uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGFuIGluc3RhbmNlIG9mIENvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNvbXBvbmVudC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Y29tcG9uZW50fVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRW5hYmxpbmcgYW4gaW5zdGFuY2Ugb2YgQ29tcG9uZW50LlxuICAgICAqIGNvbXBvbmVudC5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBDb21wb25lbnQucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtaXRzIHdoZW4gYSBjb21wb25lbnQgaXMgZW5hYmxlZC5cbiAgICAgICAgICogQGV2ZW50IGNoLkNvbXBvbmVudCNlbmFibGVcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwiZW5hYmxlXCIgZXZlbnQuXG4gICAgICAgICAqIGNvbXBvbmVudC5vbignZW5hYmxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdlbmFibGUnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW4gaW5zdGFuY2Ugb2YgQ29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ29tcG9uZW50LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjb21wb25lbnR9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEaXNhYmxpbmcgYW4gaW5zdGFuY2Ugb2YgQ29tcG9uZW50LlxuICAgICAqIGNvbXBvbmVudC5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVtaXRzIHdoZW4gYSBjb21wb25lbnQgaXMgZGlzYWJsZS5cbiAgICAgICAgICogQGV2ZW50IGNoLkNvbXBvbmVudCNkaXNhYmxlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImRpc2FibGVcIiBldmVudC5cbiAgICAgICAgICogY29tcG9uZW50Lm9uKCdkaXNhYmxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdkaXNhYmxlJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFuIGluc3RhbmNlIG9mIENvbXBvbmVudCBhbmQgcmVtb3ZlIGl0cyBkYXRhIGZyb20gYXNvY2lhdGVkIGVsZW1lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Db21wb25lbnQucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgY29tcG9uZW50XG4gICAgICogY29tcG9uZW50LmRlc3Ryb3koKTtcbiAgICAgKiAvLyBFbXB0eSB0aGUgY29tcG9uZW50IHJlZmVyZW5jZVxuICAgICAqIGNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgKi9cbiAgICBDb21wb25lbnQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5kaXNhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuXyRlbC5yZW1vdmVEYXRhKHRoaXMubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRW1pdHMgd2hlbiBhIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBldmVudCBjaC5Db21wb25lbnQjZGVzdHJveVxuICAgICAgICAgKiBAZXhhbXBsZURlc2NyaXB0aW9uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImRlc3Ryb3lcIiBldmVudC5cbiAgICAgICAgICogY29tcG9uZW50Lm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdkZXN0cm95Jyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBjaC5Db21wb25lbnQgPSBDb21wb25lbnQ7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBGb3JtIGlzIGEgY29udHJvbGxlciBvZiBET00ncyBIVE1MRm9ybUVsZW1lbnQuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkNvbXBvbmVudFxuICAgICAqIEByZXF1aXJlcyBjaC5WYWxpZGF0aW9uc1xuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guRm9ybS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5tZXNzYWdlc10gQSBjb2xsZWN0aW9ucyBvZiB2YWxpZGF0aW9ucyBtZXNzYWdlcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZXMucmVxdWlyZWRdIEEgdmFsaWRhdGlvbiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlcy5zdHJpbmddIEEgdmFsaWRhdGlvbiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlcy51cmxdIEEgdmFsaWRhdGlvbiBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlcy5lbWFpbF0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLm1heExlbmd0aF0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLm1pbkxlbmd0aF0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLmN1c3RvbV0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLm51bWJlcl0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLm1pbl0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VzLm1heF0gQSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQHJldHVybnMge2Zvcm19IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgRm9ybS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBGb3JtLlxuICAgICAqIHZhciBmb3JtID0gbmV3IGNoLkZvcm0oJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEZvcm0gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIGZvcm0gPSAkKHNlbGVjdG9yKS5mb3JtKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgRm9ybSB3aXRoIGN1c3RvbSBtZXNzYWdlcy5cbiAgICAgKiB2YXIgZm9ybSA9ICQoc2VsZWN0b3IpLmZvcm0oe1xuICAgICAqICAgICAnbWVzc2FnZXMnOiB7XG4gICAgICogICAgICAgICAgJ3JlcXVpcmVkJzogJ1NvbWUgbWVzc2FnZSEnLFxuICAgICAqICAgICAgICAgICdlbWFpbCc6ICdBbm90aGVyIG1lc3NhZ2UhJ1xuICAgICAqICAgICB9XG4gICAgICogfSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gRm9ybSgkZWwsIG9wdGlvbnMpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhhdC5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgRm9ybSBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5Gb3JtLnByb3RvdHlwZVxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGVtaXRzIGFuIGV2ZW50IHdoZW4gdGhlIGZvcm0gaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guRm9ybSNyZWFkeVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJyZWFkeVwiIGV2ZW50LlxuICAgICAgICAgKiBmb3JtLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5lbWl0KCdyZWFkeScpOyB9LCA1MCk7XG4gICAgfVxuXG4gICAgLy8gSW5oZXJpdGFuY2VcbiAgICB2YXIgcGFyZW50ID0gY2gudXRpbC5pbmhlcml0cyhGb3JtLCBjaC5Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkZvcm0ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGZvcm0gPSAkKHNlbGVjdG9yKS5kYXRhKCdmb3JtJyk7XG4gICAgICovXG4gICAgRm9ybS5wcm90b3R5cGUubmFtZSA9ICdmb3JtJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRm9ybS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBGb3JtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZvcm07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIEZvcm0gYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkZvcm0ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7Zm9ybX1cbiAgICAgKi9cbiAgICBGb3JtLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2FsbCB0byBpdHMgcGFyZW50IGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb24gb2YgYWN0aXZlIGVycm9ycy5cbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBkZWZpbmVkIG1lc3NhZ2VzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWVzc2FnZXMgPSB0aGlzLl9vcHRpb25zLm1lc3NhZ2VzIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgaW5zdGFuY2VzLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25zID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb3JtIGNvbnRhaW5lci5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy5fJGVsXG4gICAgICAgICAgICAvLyBBZGQgY2xhc3NuYW1lXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoLWZvcm0nKVxuICAgICAgICAgICAgLy8gRGlzYWJsZSBIVE1MNSBicm93c2VyLW5hdGl2ZSB2YWxpZGF0aW9uc1xuICAgICAgICAgICAgLmF0dHIoJ25vdmFsaWRhdGUnLCAnbm92YWxpZGF0ZScpXG4gICAgICAgICAgICAvLyBCaW5kIHRoZSBzdWJtaXRcbiAgICAgICAgICAgIC5vbignc3VibWl0LmZvcm0nLCBmdW5jdGlvbiAoZXZlbnQpwqB7XG4gICAgICAgICAgICAgICAgLy8gUnVucyB2YWxpZGF0aW9uc1xuICAgICAgICAgICAgICAgIHRoYXQudmFsaWRhdGUoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyXG4gICAgICAgICAgICAvLyBCaW5kIHRoZSByZXNldFxuICAgICAgICAgICAgLmZpbmQoJ2lucHV0W3R5cGU9XCJyZXNldFwiXScpLm9uKGNoLm9ucG9pbnRlcnRhcCArICcuZm9ybScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGNoLnV0aWwucHJldmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgdGhhdC5yZXNldCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2xlYW4gdmFsaWRhdGlvbnNcbiAgICAgICAgdGhpcy5vbignZGlzYWJsZScsIHRoaXMuY2xlYXIpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyBhbGwgdmFsaWRhdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5Gb3JtLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtmb3JtfVxuICAgICAqL1xuICAgIEZvcm0ucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdCBlbWl0cyBhbiBldmVudCB3aGVuIHRoZSBmb3JtIHdpbGwgYmUgdmFsaWRhdGVkLlxuICAgICAgICAgKiBAZXZlbnQgY2guRm9ybSNiZWZvcmV2YWxpZGF0ZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJiZWZvcmV2YWxpZGF0ZVwiIGV2ZW50LlxuICAgICAgICAgKiBjb21wb25lbnQub24oJ2JlZm9yZXZhbGlkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdiZWZvcmV2YWxpZGF0ZScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgaiA9IHRoYXQudmFsaWRhdGlvbnMubGVuZ3RoLFxuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGZpcnN0RXJyb3IsXG4gICAgICAgICAgICBmaXJzdEVycm9yVmlzaWJsZSxcbiAgICAgICAgICAgIHRyaWdnZXJFcnJvcjtcblxuICAgICAgICB0aGlzLmVycm9ycy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFJ1biB2YWxpZGF0aW9uc1xuICAgICAgICBmb3IgKGk7IGkgPCBqOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24gPSB0aGF0LnZhbGlkYXRpb25zW2ldO1xuXG4gICAgICAgICAgICAvLyBWYWxpZGF0ZVxuICAgICAgICAgICAgdmFsaWRhdGlvbi52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAvLyBTdG9yZSB2YWxpZGF0aW9ucyB3aXRoIGVycm9yc1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24uaXNTaG93bigpKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5lcnJvcnMucHVzaCh2YWxpZGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElzIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgaWYgKHRoYXQuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZpcnN0RXJyb3IgPSB0aGF0LmVycm9yc1swXTtcbiAgICAgICAgICAgIGZpcnN0RXJyb3JWaXNpYmxlID0gZmlyc3RFcnJvci4kdHJpZ2dlclswXTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgY2xvc2VzdCB2aXNpYmxlIHBhcmVudCBpZiBjdXJyZW50IGVsZW1lbnQgaXMgaGlkZGVuXG4gICAgICAgICAgICB3aGlsZShjaC51dGlsLmdldFN0eWxlcyhmaXJzdEVycm9yVmlzaWJsZSwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnICYmIGZpcnN0RXJyb3JWaXNpYmxlICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJzdEVycm9yVmlzaWJsZSA9IGZpcnN0RXJyb3JWaXNpYmxlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpcnN0RXJyb3JWaXNpYmxlLnNjcm9sbEludG9WaWV3KCk7XG5cbiAgICAgICAgICAgIC8vIElzc3VlIFVJLTMzMjogT24gdmFsaWRhdGlvbiBtdXN0IGZvY3VzIHRoZSBmaXJzdCBmaWVsZCB3aXRoIGVycm9ycy5cbiAgICAgICAgICAgIC8vIERvYzogaHR0cDovL3dpa2kubWwuY29tL2Rpc3BsYXkvdXgvTWVuc2FqZXMrZGUrZXJyb3JcbiAgICAgICAgICAgIHRyaWdnZXJFcnJvciA9IGZpcnN0RXJyb3IuJHRyaWdnZXJbMF07XG5cbiAgICAgICAgICAgIGlmICh0cmlnZ2VyRXJyb3IudGFnTmFtZSA9PT0gJ0RJVicpIHtcbiAgICAgICAgICAgICAgICBmaXJzdEVycm9yLiR0cmlnZ2VyLmZpbmQoJ2lucHV0OmZpcnN0JykuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRyaWdnZXJFcnJvci50eXBlICE9PSAnaGlkZGVuJyB8fMKgdHJpZ2dlckVycm9yLnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckVycm9yLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoLnV0aWwucHJldmVudChldmVudCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSXQgZW1pdHMgYW4gZXZlbnQgd2hlbiBhIGZvcm0gaGFzIGdvdCBlcnJvcnMuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guRm9ybSNlcnJvclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImVycm9yXCIgZXZlbnQuXG4gICAgICAgICAgICAgKiBmb3JtLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAqICAgICBjb25zb2xlLmxvZyhlcnJvcnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcy5lcnJvcnMpO1xuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSXQgZW1pdHMgYW4gZXZlbnQgd2hlbiBhIGZvcm0gaGFzbid0IGdvdCBlcnJvcnMuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guRm9ybSNzdWNjZXNzXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwic3VjY2Vzc1wiIGV2ZW50LlxuICAgICAgICAgICAgICogZm9ybS5vbihcInN1Ym1pdFwiLGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInN1Y2Nlc3NcIiBldmVudCBhbmQgcHJldmVudCB0aGUgc3VibWl0IGV2ZW50LlxuICAgICAgICAgICAgICogZm9ybS5vbihcInN1Ym1pdFwiLGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICogICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdzdWNjZXNzJywgZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZm9ybSBoYXMgZ290IGVycm9ycyBidXQgaXQgZG9lc24ndCBzaG93IGJ1YmJsZXMuXG4gICAgICogQG1lbWJlcm9mISBjaC5Gb3JtLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2hlY2tzIGlmIGEgZm9ybSBoYXMgZXJyb3JzIGFuZCBkbyBzb21ldGhpbmcuXG4gICAgICogaWYgKGZvcm0uaGFzRXJyb3IoKSkge1xuICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgKiB9O1xuICAgICAqL1xuICAgIEZvcm0ucHJvdG90eXBlLmhhc0Vycm9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lcnJvcnMubGVuZ3RoID0gMDtcblxuICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICBqID0gdGhpcy52YWxpZGF0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICB2YWxpZGF0aW9uO1xuXG4gICAgICAgIC8vIFJ1biBoYXNFcnJvclxuICAgICAgICBmb3IgKGk7IGkgPCBqOyBpICs9IDEpIHtcblxuICAgICAgICAgICAgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGlvbnNbaV07XG5cbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmhhc0Vycm9yKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKHZhbGlkYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGFsbCBhY3RpdmUgZXJyb3JzLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRm9ybS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Zm9ybX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENsZWFyIGFjdGl2ZSBlcnJvcnMuXG4gICAgICogZm9ybS5jbGVhcigpO1xuICAgICAqL1xuICAgIEZvcm0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICBqID0gdGhpcy52YWxpZGF0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpOyBpIDwgajsgaSArPSAxKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRpb25zW2ldLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSXQgZW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgZm9ybSBpcyBjbGVhbmVkLlxuICAgICAgICAgKiBAZXZlbnQgY2guRm9ybSNjbGVhclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJjbGVhclwiIGV2ZW50LlxuICAgICAgICAgKiBmb3JtLm9uKCdjbGVhcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnY2xlYXInKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIGFjdGl2ZSBlcnJvcnMgYW5kIGV4ZWN1dGVzIHRoZSByZXNldCgpIG5hdGl2ZSBtZWh0b2QuXG4gICAgICogQG1lbWJlcm9mISBjaC5Gb3JtLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtmb3JtfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmVzZXRzIGZvcm0gZmllbGRzIGFuZCBjbGVhcnMgYWN0aXZlIGVycm9ycy5cbiAgICAgKiBmb3JtLnJlc2V0KCk7XG4gICAgICovXG4gICAgRm9ybS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy8gQ2xlYXJzIGFsbCBzaG93biB2YWxpZGF0aW9uc1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgLy8gRXhlY3V0ZXMgdGhlIG5hdGl2ZSByZXNldCgpIG1ldGhvZFxuICAgICAgICB0aGlzLl9lbC5yZXNldCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdCBlbWl0cyBhbiBldmVudCB3aGVuIGEgZm9ybSByZXNldHMgaXRzIGZpZWxkcy5cbiAgICAgICAgICogQGV2ZW50IGNoLkZvcm0jcmVzZXRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVzZXRcIiBldmVudC5cbiAgICAgICAgICogZm9ybS5vbigncmVzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc2V0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGEgRm9ybSBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkZvcm0ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgZm9ybVxuICAgICAqIGZvcm0uZGVzdHJveSgpO1xuICAgICAqIC8vIEVtcHR5IHRoZSBmb3JtIHJlZmVyZW5jZVxuICAgICAqIGZvcm0gPSB1bmRlZmluZWQ7XG4gICAgICovXG4gICAgRm9ybS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLiRjb250YWluZXJcbiAgICAgICAgICAgIC5vZmYoJy5mb3JtJylcbiAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdub3ZhbGlkYXRlJyk7XG5cbiAgICAgICAgJC5lYWNoKHRoaXMudmFsaWRhdGlvbnMsIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICBlLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIC8vIEZhY3Rvcml6ZVxuICAgIGNoLmZhY3RvcnkoRm9ybSk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKCQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gUHJpdmF0ZSBNZW1iZXJzXG4gICAgdmFyIGNvbmRpdGlvbnMgPSB7XG4gICAgICAgICdzdHJpbmcnOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBoYXMgdGhlIHV0ZiBjb2RlIGZvciB0aGUgbGF0aW5nIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmFuZ2VzIGFyZSBBLEVJLE8sVSxhLGVpLG8sdSzDpyzDhyBwbGVhc2UgZm9yIHJlZmVyZW5jZSBzZWUgaHR0cDovL3d3dy5maWxlZm9ybWF0LmluZm8vaW5mby9jaGFyc2V0L1VURi04L2xpc3QuaHRtXG4gICAgICAgICAgICAgICAgcmV0dXJuICgvXihbYS16QS1aXFx1MDBDMC1cXHUwMEM0XFx1MDBDOC1cXHUwMENGXFx1MDBEMi1cXHUwMEQ2XFx1MDBEOS1cXHUwMERDXFx1MDBFMC1cXHUwMEU0XFx1MDBFOC1cXHUwMEVGXFx1MDBGMi1cXHUwMEY2XFx1MDBFOS1cXHUwMEZDXFx1MDBDN1xcdTAwRTdcXHNdKikkL2kpLnRlc3QodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ1VzZSBvbmx5IGxldHRlcnMuJ1xuICAgICAgICB9LFxuICAgICAgICAnZW1haWwnOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKC9eW2EtekEtWjAtOS4hIyQlJuKAmSorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05LV0rKD86XFwuW2EtekEtWjAtOS1dKykqJC9pKS50ZXN0KHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnbWVzc2FnZSc6ICdVc2UgYSB2YWxpZCBlLW1haWwgc3VjaCBhcyBuYW1lQGV4YW1wbGUuY29tLidcbiAgICAgICAgfSxcbiAgICAgICAgJ3VybCc6IHtcbiAgICAgICAgICAgICdmbic6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoL14oKGh0dHBzP3xmdHB8ZmlsZSk6XFwvXFwvfCgod3d3fGZ0cClcXC4pfChcXC98LipcXC8pKilbYS16MC05LV0rKChcXC58XFwvKVthLXowLTktXSspKyhbLz9dLiopPyQvaSkudGVzdCh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiAnSXQgbXVzdCBiZSBhIHZhbGlkIFVSTC4nXG4gICAgICAgIH0sXG4gICAgICAgICdtaW5MZW5ndGgnOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5sZW5ndGggPj0gYjsgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ0VudGVyIGF0IGxlYXN0IHsjbnVtI30gY2hhcmFjdGVycy4nXG4gICAgICAgIH0sXG4gICAgICAgICdtYXhMZW5ndGgnOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5sZW5ndGggPD0gYjsgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ1RoZSBtYXhpbXVtIGFtb3VudCBvZiBjaGFyYWN0ZXJzIGlzIHsjbnVtI30uJ1xuICAgICAgICB9LFxuICAgICAgICAnbnVtYmVyJzoge1xuICAgICAgICAgICAgJ2ZuJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgvXigtP1swLTldKykkL2kpLnRlc3QodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ1VzZSBvbmx5IG51bWJlcnMuJ1xuICAgICAgICB9LFxuICAgICAgICAnbWF4Jzoge1xuICAgICAgICAgICAgJ2ZuJzogZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPD0gYjsgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ1RoZSBhbW91bnQgbXVzdCBiZSBzbWFsbGVyIHRoYW4geyNudW0jfS4nXG4gICAgICAgIH0sXG4gICAgICAgICdtaW4nOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA+PSBiOyB9LFxuICAgICAgICAgICAgJ21lc3NhZ2UnOiAnVGhlIGFtb3VudCBtdXN0IGJlIGhpZ2hlciB0aGFuIHsjbnVtI30uJ1xuICAgICAgICB9LFxuICAgICAgICAncmVxdWlyZWQnOiB7XG4gICAgICAgICAgICAnZm4nOiBmdW5jdGlvbiAodmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIHZhciB0YWcgPSB0aGlzLiR0cmlnZ2VyLmhhc0NsYXNzKCdjaC1mb3JtLW9wdGlvbnMnKSA/ICdPUFRJT05TJyA6IHRoaXMuX2VsLnRhZ05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlZDtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnT1BUSU9OUyc6XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlZCA9IHRoaXMuJHRyaWdnZXIuZmluZCgnaW5wdXQ6Y2hlY2tlZCcpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdTRUxFQ1QnOlxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWQgPSAodmFsdWUgIT09ICctMScgJiYgdmFsdWUgIT09ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAvLyBJTlBVVFMgYW5kIFRFWFRBUkVBU1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlZCA9ICQudHJpbSh2YWx1ZSkubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdtZXNzYWdlJzogJ0ZpbGwgaW4gdGhpcyBpbmZvcm1hdGlvbi4nXG4gICAgICAgIH0sXG4gICAgICAgICdjdXN0b20nOiB7XG4gICAgICAgICAgICAvLyBJIGRvbid0IGhhdmUgcHJlLWNvbmRpdGlvbnMsIGNvbWVzIHdpdGhpbiBjb25mLmZuIGFyZ3VtZW50XG4gICAgICAgICAgICAnbWVzc2FnZSc6ICdFcnJvcidcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb24gdXRpbGl0eS5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcmVxdWlyZXMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtjb25kaXRpb25dIEEgY29uZGl0aW9ucyB0byB2YWxpZGF0ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmRpdGlvbi5uYW1lXSBUaGUgbmFtZSBvZiB0aGUgY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZGl0aW9uLm1lc3NhZ2VdIFRoZSBnaXZlbiBlcnJvciBtZXNzYWdlIHRvIHRoZSBjb25kaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjb25kaXRpb24uZm5dIFRoZSBtZXRob2QgdG8gdmFsaWRhdGUgYSBnaXZlbiBjb25kaXRpb24uXG4gICAgICogQHJldHVybnMge2NvbmRpdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBDb25kaXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgY29uZGl0aW9uIG9iamVjdCB3aXRoIHBhdHQuXG4gICAgICogdmFyIGNvbmRpdGlvbiA9IGNoLkNvbmRpdGlvbih7XG4gICAgICogICAgICduYW1lJzogJ3N0cmluZycsXG4gICAgICogICAgICdwYXR0JzogL14oW2EtekEtWlxcdTAwQzAtXFx1MDBDNFxcdTAwQzgtXFx1MDBDRlxcdTAwRDItXFx1MDBENlxcdTAwRDktXFx1MDBEQ1xcdTAwRTAtXFx1MDBFNFxcdTAwRTgtXFx1MDBFRlxcdTAwRjItXFx1MDBGNlxcdTAwRTktXFx1MDBGQ1xcdTAwQzdcXHUwMEU3XFxzXSopJC8sXG4gICAgICogICAgICdtZXNzYWdlJzogJ1NvbWUgbWVzc2FnZSBoZXJlISdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vQ3JlYXRlIGEgbmV3IGNvbmRpdGlvbiBvYmplY3Qgd2l0aCBleHByLlxuICAgICAqIHZhciBjb25kaXRpb24gPSBjaC5Db25kaXRpb24oe1xuICAgICAqICAgICAnbmFtZSc6ICdtYXhMZW5ndGgnLFxuICAgICAqICAgICAncGF0dCc6IGZ1bmN0aW9uKGEsYikgeyByZXR1cm4gYS5sZW5ndGggPD0gYiB9LFxuICAgICAqICAgICAnbWVzc2FnZSc6ICdTb21lIG1lc3NhZ2UgaGVyZSEnLFxuICAgICAqICAgICAndmFsdWUnOiA0XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgY29uZGl0aW9uIG9iamVjdCB3aXRoIGZ1bmMuXG4gICAgICogdmFyIGNvbmRpdGlvbiA9IGNoLkNvbmRpdGlvbih7XG4gICAgICogICAgICduYW1lJzogJ2N1c3RvbScsXG4gICAgICogICAgICdwYXR0JzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICogICAgICAgICBpZiAodmFsdWUgPT09ICdDaGljb1VJJykge1xuICAgICAqXG4gICAgICogICAgICAgICAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICpcbiAgICAgKiAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgKiAgICAgICAgIH07XG4gICAgICpcbiAgICAgKiAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnWW91ciBtZXNzYWdlIGhlcmUhJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbmRpdGlvbihjb25kaXRpb24pIHtcblxuICAgICAgICAkLmV4dGVuZCh0aGlzLCBjb25kaXRpb25zW2NvbmRpdGlvbi5uYW1lXSwgY29uZGl0aW9uKTtcblxuICAgICAgICAvLyByZXBsYWNlcyB0aGUgY29uZGl0aW9uIGRlZmF1bHQgbWVzc2FnZSBpbiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgbWF4LCBtaW4sIG1pbkxlbmdodCwgbWF4TGVuZ2h0XG4gICAgICAgIGlmICh0aGlzLm5hbWUgPT09ICdtaW4nIHx8IHRoaXMubmFtZSA9PT0gJ21heCcgfHwgdGhpcy5uYW1lID09PSAnbWluTGVuZ3RoJyB8fCB0aGlzLm5hbWUgPT09ICdtYXhMZW5ndGgnKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2UucmVwbGFjZSgneyNudW0jfScsIHRoaXMubnVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Db25kaXRpb24ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGNvbmRpdGlvbiA9ICQoc2VsZWN0b3IpLmRhdGEoJ2NvbmRpdGlvbicpO1xuICAgICAqL1xuICAgIENvbmRpdGlvbi5wcm90b3R5cGUubmFtZSA9ICdjb25kaXRpb24nO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5Db25kaXRpb24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQ29uZGl0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbmRpdGlvbjtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYW4gaW5zdGFuY2Ugb2YgY29uZGl0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ29uZGl0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjb25kaXRpb259XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBFbmFibGluZyBhbiBpbnN0YW5jZSBvZiBDb25kaXRpb24uXG4gICAgICogY29uZGl0aW9uLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRW5hYmxpbmcgYSBjb25kaXRpb24uXG4gICAgICogY29uZGl0aW9uLmVuYWJsZSgpO1xuICAgICAqL1xuICAgIENvbmRpdGlvbi5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW4gaW5zdGFuY2Ugb2YgYSBjb25kaXRpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5Db25kaXRpb24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge2NvbmRpdGlvbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERpc2FibGluZyBhbiBpbnN0YW5jZSBvZiBDb25kaXRpb24uXG4gICAgICogY29uZGl0aW9uLmRpc2FibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERpc2FibGluZyBhIGNvbmRpdGlvbi5cbiAgICAgKiBjb25kaXRpb24uZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIENvbmRpdGlvbi5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGFuIGluc3RhbmNlIG9mIGNvbmRpdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNvbmRpdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfCBOdW1iZXIpfSB2YWx1ZSBBIGdpdmVuIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Y29uZGl0aW9ufSB2YWxpZGF0aW9uIEEgZ2l2ZW4gdmFsaWRhdGlvbiB0byBleGVjdXRlLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNvbmRpdGlvbiBmYWlscyBvciBub3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBUZXN0aW5nIGEgY29uZGl0aW9uLlxuICAgICAqIGNvbmRpdGlvbi50ZXN0KCdmb29iYXInLCB2YWxpZGF0aW9uQSk7XG4gICAgICovXG4gICAgQ29uZGl0aW9uLnByb3RvdHlwZS50ZXN0ID0gZnVuY3Rpb24gKHZhbHVlLCB2YWxpZGF0aW9uKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZuLmNhbGwodmFsaWRhdGlvbiwgdmFsdWUsIHRoaXMubnVtKTtcbiAgICB9O1xuXG4gICAgY2guQ29uZGl0aW9uID0gQ29uZGl0aW9uO1xuXG59KHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGlvbiBpcyBhbiBlbmdpbmUgdG8gdmFsaWRhdGUgSFRNTCBmb3JtcyBlbGVtZW50cy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQHJlcXVpcmVzIGNoLkNvbmRpdGlvblxuICAgICAqIEByZXF1aXJlcyBjaC5Gb3JtXG4gICAgICogQHJlcXVpcmVzIGNoLkJ1YmJsZVxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbmRpdGlvbnNdIEEgY29sbGVjdGlvbiBvZiBjb25kaXRpb25zIHRvIHZhbGlkYXRlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jb25kaXRpb25zLm5hbWVdIFRoZSBuYW1lIG9mIHRoZSBjb25kaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNvbmRpdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29uZGl0aW9ucy5mbl0gVGhlIG1ldGhvZCB0byB2YWxpZGF0ZSBhIGdpdmVuIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IDEwLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBWYWxpZGF0aW9uLlxuICAgICAqIHZhciB2YWxpZGF0aW9uID0gbmV3IGNoLlZhbGlkYXRpb24oJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFZhbGlkYXRpb24gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIHZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS52YWxpZGF0aW9uKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSB2YWxpZGF0aW9uIHdpdGggd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgdmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLnZhbGlkYXRpb24oe1xuICAgICAqICAgICAnY29uZGl0aW9ucyc6IFtcbiAgICAgKiAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICAnbmFtZSc6ICdyZXF1aXJlZCcsXG4gICAgICogICAgICAgICAgICAgJ21lc3NhZ2UnOiAnUGxlYXNlLCBmaWxsIGluIHRoaXMgaW5mb3JtYXRpb24uJ1xuICAgICAqICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICAnbmFtZSc6ICdjdXN0b20tZW1haWwnLFxuICAgICAqICAgICAgICAgICAgICdmbic6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgPT09IFwiY3VzdG9tYWlsQGN1c3RvbS5jb21cIjsgfSxcbiAgICAgKiAgICAgICAgICAgICAnbWVzc2FnZSc6ICdVc2UgYSB2YWxpZCBlLW1haWwgc3VjaCBhcyBuYW1lQGN1c3RvbS5jb20uJ1xuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICBdLFxuICAgICAqICAgICAnb2Zmc2V0WCc6IDAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTAsXG4gICAgICogICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0J1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZhbGlkYXRpb24oJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IFZhbGlkYXRpb24gaXMgY3JlYXRlZC5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZWFkeSB0byB1c2UuXG4gICAgICAgICAqIEBldmVudCBjaC5WYWxpZGF0aW9uI3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIHZhbGlkYXRpb24ub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcbiAgICB9XG5cbiAgICAvLyBJbmhlcml0YW5jZVxuICAgIHZhciBwYXJlbnQgPSBjaC51dGlsLmluaGVyaXRzKFZhbGlkYXRpb24sIGNoLkNvbXBvbmVudCksXG4gICAgICAgIC8vIENyZWF0ZXMgbWV0aG9kcyBlbmFibGUgYW5kIGRpc2FibGUgaW50byB0aGUgcHJvdG90eXBlLlxuICAgICAgICBtZXRob2RzID0gWydlbmFibGUnLCAnZGlzYWJsZSddLFxuICAgICAgICBsZW4gPSBtZXRob2RzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZHMobWV0aG9kKSB7XG4gICAgICAgIFZhbGlkYXRpb24ucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgICAgICAvLyBTcGVjaWZpYyBjb25kaXRpb25cbiAgICAgICAgICAgIGlmIChjb25kaXRpb24gIT09IHVuZGVmaW5lZCAmJiB0aGlzLmNvbmRpdGlvbnNbY29uZGl0aW9uXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbmRpdGlvbnNbY29uZGl0aW9uXVttZXRob2RdKCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAvLyBhbGwgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHRoaXMuY29uZGl0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25zW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25kaXRpb25zW2tleV1bbWV0aG9kXSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFyZW50W21ldGhvZF0uY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZhbGlkYXRpb24ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd2YWxpZGF0aW9uJyk7XG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUubmFtZSA9ICd2YWxpZGF0aW9uJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBWYWxpZGF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRpb247XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLl9kZWZhdWx0cyA9IHtcbiAgICAgICAgJ29mZnNldFgnOsKgMTBcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259XG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWxpZGF0aW9uIHRyaWdnZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHRyaWdnZXIgPSB0aGlzLl8kZWw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWxpZGF0aW9uIGNvbnRhaW5lci5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29uZmlndXJlQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbmRpdGlvbnMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbmRpdGlvbnMgPSB7fTtcblxuICAgICAgICAvLyBNZXJnZSBjb25kaXRpb25zXG4gICAgICAgIHRoaXMuX21lcmdlQ29uZGl0aW9ucyhvcHRpb25zLmNvbmRpdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIHRoYXQgbGV0IHlvdSBrbm93IGlmIHRoZXJlJ3MgYSB2YWxpZGF0aW9uIGdvaW5nIG9uLlxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Nob3duID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGVycm9yLiBJZiB0aGUgdmFsaWRhdGlvbnMgaGFzIG5vdCBlcnJvciBpcyBcIm51bGxcIi5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIHRoaXNcbiAgICAgICAgICAgIC5vbignZXhpc3QnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lcmdlQ29uZGl0aW9ucyhkYXRhLmNvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIENsZWFuIHRoZSB2YWxpZGF0aW9uIGlmIGlzIHNob3duO1xuICAgICAgICAgICAgLm9uKCdkaXNhYmxlJywgdGhpcy5jbGVhcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBhIEZvcm0gaW5zdGFuY2UuIElmIHRoZXJlIGlzbid0IGFueSwgdGhlIFZhbGlkYXRpb24gaW5zdGFuY2Ugd2lsbCBjcmVhdGUgb25lLlxuICAgICAgICAgKiBAdHlwZSB7Zm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9ybSA9ICh0aGF0LiR0cmlnZ2VyLnBhcmVudHMoJ2Zvcm0nKS5kYXRhKCdmb3JtJykgfHwgdGhhdC4kdHJpZ2dlci5wYXJlbnRzKCdmb3JtJykuZm9ybSgpKTtcblxuICAgICAgICB0aGlzLmZvcm0udmFsaWRhdGlvbnMucHVzaCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgdmFsaWRhdGlvbiBldmVudCB0byBhZGQgbGlzdGVuZXJzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkV2ZW50ID0gKHRoaXMuJHRyaWdnZXIuaGFzQ2xhc3MoJ2NoLWZvcm0tb3B0aW9ucycpIHx8IHRoaXMuX2VsLnRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8ICh0aGlzLl9lbC50YWdOYW1lID09PSAnSU5QVVQnICYmIHRoaXMuX2VsLnR5cGUgPT09ICdyYW5nZScpKSA/ICdjaGFuZ2UnIDogJ2JsdXInO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGNvbGxlY3Rpb24gb2YgY29uZGl0aW9ucyB3aXRoIGEgZ2l2ZW4gY29uZGl0aW9ucy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLl9tZXJnZUNvbmRpdGlvbnMgPSBmdW5jdGlvbiAoY29uZGl0aW9ucykge1xuICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICBqID0gY29uZGl0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpOyBpIDwgajsgaSArPSAxKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmRpdGlvbnNbY29uZGl0aW9uc1tpXS5uYW1lXSA9IG5ldyBjaC5Db25kaXRpb24oY29uZGl0aW9uc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoZSB2YWx1ZSBvZiAkZWwuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt2YWxpZGF0aW9ufVxuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdWNjZXNzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZhbGlkYXRpb24gaGFzIGdvdCBhbiBlcnJvciBleGVjdXRlcyB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWU7XG5cbiAgICAgICAgLy8gSXQgbXVzdCBoYXBwZW4gb25seSBvbmNlLlxuICAgICAgICB0aGlzLiR0cmlnZ2VyLm9uKHRoaXMuX3ZhbGlkYXRpb25FdmVudCArICcudmFsaWRhdGlvbicsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IHRoaXMudmFsdWUgfHwgdGhhdC5fdmFsaWRhdGlvbkV2ZW50ID09PSAnY2hhbmdlJyAmJiB0aGF0LmlzU2hvd24oKSkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoYXQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoYXQuY29uZGl0aW9ucy5yZXF1aXJlZCA9PT0gdW5kZWZpbmVkICYmIHRoaXMudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5jbGVhcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExhenkgTG9hZGluZyBwYXR0ZXJuXG4gICAgICAgIHRoaXMuX2Vycm9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBpZiAoIXRoYXQuX3ByZXZpb3VzRXJyb3IuY29uZGl0aW9uIHx8ICF0aGF0Ll9zaG93bikge1xuICAgICAgICAgICAgICAgIGlmICh0aGF0Ll9lbC5ub2RlTmFtZSA9PT0gJ0lOUFVUJyB8fCB0aGF0Ll9lbC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LiR0cmlnZ2VyLmFkZENsYXNzKCdjaC12YWxpZGF0aW9uLWVycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhhdC5fc2hvd0Vycm9yTWVzc2FnZSh0aGF0LmVycm9yLm1lc3NhZ2UgfHwgJ0Vycm9yJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGF0LmVycm9yLmNvbmRpdGlvbiAhPT0gdGhhdC5fcHJldmlvdXNFcnJvci5jb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll9zaG93RXJyb3JNZXNzYWdlKHRoYXQuZXJyb3IubWVzc2FnZSB8fCB0aGF0LmZvcm0uX21lc3NhZ2VzW3RoYXQuZXJyb3IuY29uZGl0aW9uXSB8fCAnRXJyb3InKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5fc2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEl0IGVtaXRzIGFuIGV2ZW50IHdoZW4gYSB2YWxpZGF0aW9uIGhhc24ndCBnb3QgYW4gZXJyb3IuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guVmFsaWRhdGlvbiNlcnJvclxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImVycm9yXCIgZXZlbnQuXG4gICAgICAgICAgICAgKiB2YWxpZGF0aW9uLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAqICAgICBjb25zb2xlLmxvZyhlcnJvcnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGF0LmVtaXQoJ2Vycm9yJywgdGhhdC5lcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2Vycm9yKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSB2YWxpZGF0aW9uIGhhc24ndCBnb3QgYW4gZXJyb3IgZXhlY3V0ZXMgdGhpcyBmdW5jdGlvbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLl9zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIFN0YXR1cyBPSyAod2l0aCBwcmV2aW91cyBlcnJvcikgdGhpcy5fcHJldmlvdXNFcnJvclxuICAgICAgICBpZiAodGhpcy5fc2hvd24gfHwgIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIC8vIFB1YmxpYyBzdGF0dXMgT0tcbiAgICAgICAgICAgIHRoaXMuX3Nob3duID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NoLXZhbGlkYXRpb24tZXJyb3InKVxuICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtbGFiZWwnKTtcblxuICAgICAgICB0aGlzLl9oaWRlRXJyb3JNZXNzYWdlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGVtaXRzIGFuIGV2ZW50IHdoZW4gYSB2YWxpZGF0aW9uIGhhc24ndCBnb3QgYW4gZXJyb3IuXG4gICAgICAgICAqIEBldmVudCBjaC5WYWxpZGF0aW9uI3N1Y2Nlc3NcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwic3VjY2Vzc1wiIGV2ZW50LlxuICAgICAgICAgKiB2YWxpZGF0aW9uLm9uKFwic3VibWl0XCIsZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdzdWNjZXNzJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdmFsaWRhdGlvbiBoYXMgZ290IGVycm9ycyBidXQgaXQgZG9lc24ndCBzaG93IGJ1YmJsZXMuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2hlY2tzIGlmIGEgdmFsaWRhdGlvbiBoYXMgZXJyb3JzIGFuZCBkbyBzb21ldGhpbmcuXG4gICAgICogaWYgKHZhbGlkYXRpb24uaGFzRXJyb3IoKSkge1xuICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgKiB9O1xuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLmhhc0Vycm9yID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIFByZS12YWxpZGF0aW9uOiBEb24ndCB2YWxpZGF0ZSBkaXNhYmxlZFxuICAgICAgICBpZiAodGhpcy4kdHJpZ2dlci5hdHRyKCdkaXNhYmxlZCcpIHx8wqAhdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbmRpdGlvbixcbiAgICAgICAgICAgIHJlcXVpcmVkID0gdGhpcy5jb25kaXRpb25zLnJlcXVpcmVkLFxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9lbC52YWx1ZTtcblxuICAgICAgICAvLyBBdm9pZCBmaWVsZHMgdGhhdCBhcmVuJ3QgcmVxdWlyZWQgd2hlbiB0aGV5IGFyZSBlbXB0eSBvciBkZS1hY3RpdmF0ZWRcbiAgICAgICAgaWYgKCFyZXF1aXJlZCAmJiB2YWx1ZSA9PT0gJycgJiYgdGhpcy5fc2hvd24gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBIYXMgZ290IGFuIGVycm9yPyBOb3BcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgdGhlIHByZXZpb3VzIGVycm9yIG9iamVjdFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJldmlvdXNFcnJvciA9IGNoLnV0aWwuY2xvbmUodGhpcy5lcnJvcik7XG5cbiAgICAgICAgLy8gZm9yIGVhY2ggY29uZGl0aW9uXG4gICAgICAgIGZvciAoY29uZGl0aW9uIGluIHRoaXMuY29uZGl0aW9ucykge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gIT09IHVuZGVmaW5lZCAmJiAhdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0udGVzdCh2YWx1ZSwgdGhpcykpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGVycm9yIG9iamVjdFxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgICdjb25kaXRpb24nOiBjb25kaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICdtZXNzYWdlJzogdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0ubWVzc2FnZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBIYXMgZ290IGFuIGVycm9yPyBZZWFoXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgZXJyb3Igb2JqZWN0XG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIEhhcyBnb3QgYW4gZXJyb3I/IE5vXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWN0aXZlIGVycm9yLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENsZWFyIGFjdGl2ZSBlcnJvci5cbiAgICAgKiB2YWxpZGF0aW9uLmNsZWFyKCk7XG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjaC12YWxpZGF0aW9uLWVycm9yJylcbiAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWxhYmVsJyk7XG5cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZSgpO1xuXG4gICAgICAgIHRoaXMuX3Nob3duID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEl0IGVtaXRzIGFuIGV2ZW50IHdoZW4gYSB2YWxpZGF0aW9uIGlzIGNsZWFuZWQuXG4gICAgICAgICAqIEBldmVudCBjaC5WYWxpZGF0aW9uI2NsZWFyXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImNsZWFyXCIgZXZlbnQuXG4gICAgICAgICAqIHZhbGlkYXRpb24ub24oJ2NsZWFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdjbGVhcicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBqUXVlcnlTZWxlY3RvciBvciBaZXB0b1NlbGVjdG9yIHRvIGNoYWluaW5nIG1vcmUgdmFsaWRhdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENvbmNhdGVuYXRlcyBhbm90aGVyIHZhbGlkYXRpb24uXG4gICAgICogdmFsaWRhdGlvbi5hbmQoKS52YWxpZGF0aW9uKCk7XG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdHJpZ2dlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSB2YWxpZGF0aW9uIGlzIHNob3duLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEV4ZWN1dGUgYSBmdW5jdGlvbiBpZiB0aGUgdmFsaWRhdGlvbiBpcyBzaG93bi5cbiAgICAgKiBpZiAodmFsaWRhdGlvbi5pc1Nob3duKCkpIHtcbiAgICAgKiAgICAgZm4oKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgVmFsaWRhdGlvbi5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3duO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGdldHMgbWVzc2FnZXMgdG8gc3BlY2lmaWNzIGNvbmRpdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHsodmFsaWRhdGlvbiB8IFN0cmluZyl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXRzIGEgbWVzc2FnZSBmcm9tIGEgY29uZGl0aW9uXG4gICAgICogdmFsaWRhdGlvbi5tZXNzYWdlKCdyZXF1aXJlZCcpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0cyBhIG5ldyBtZXNzYWdlXG4gICAgICogdmFsaWRhdGlvbi5tZXNzYWdlKCdyZXF1aXJlZCcsICdOZXcgbWVzc2FnZSBmb3IgcmVxdWlyZWQgdmFsaWRhdGlvbicpO1xuICAgICAqL1xuICAgIFZhbGlkYXRpb24ucHJvdG90eXBlLm1lc3NhZ2UgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG5cbiAgICAgICAgaWYgKGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbGlkYXRpb24ubWVzc2FnZShjb25kaXRpb24sIG1lc3NhZ2UpOiBQbGVhc2UsIGEgY29uZGl0aW9uIHBhcmFtZXRlciBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBhIG5ldyBtZXNzYWdlIGZyb20gYSBjb25kaXRpb25cbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uc1tjb25kaXRpb25dLm1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXRzIGEgbmV3IG1lc3NhZ2VcbiAgICAgICAgdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0ubWVzc2FnZSA9IG1lc3NhZ2U7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTaG93bigpICYmIHRoaXMuZXJyb3IuY29uZGl0aW9uID09PSBjb25kaXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dFcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbiBpbnN0YW5jZSBvZiB2YWxpZGF0aW9uIG9yIGEgc3BlY2lmaWMgY29uZGl0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAbmFtZSBlbmFibGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmRpdGlvbl0gLSBBIGdpdmVuIG51bWJlciBvZiBmb2xkIHRvIGVuYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRW5hYmxpbmcgYW4gaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiB2YWxpZGF0aW9uLmVuYWJsZSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRW5hYmxpbmcgdGhlIFwibWF4XCIgY29uZGl0aW9uLlxuICAgICAqIHZhbGlkYXRpb24uZW5hYmxlKCdtYXgnKTtcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGFuIGluc3RhbmNlIG9mIGEgdmFsaWRhdGlvbiBvciBhIHNwZWNpZmljIGNvbmRpdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZhbGlkYXRpb24ucHJvdG90eXBlXG4gICAgICogQG5hbWUgZGlzYWJsZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY29uZGl0aW9uXSAtIEEgZ2l2ZW4gbnVtYmVyIG9mIGZvbGQgdG8gZGlzYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGlzYWJsaW5nIGFuIGluc3RhbmNlIG9mIFZhbGlkYXRpb24uXG4gICAgICogdmFsaWRhdGlvbi5kaXNhYmxlKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEaXNhYmxpbmcgdGhlIFwiZW1haWxcIiBjb25kaXRpb24uXG4gICAgICogdmFsaWRhdGlvbi5kaXNhYmxlKCdlbWFpbCcpO1xuICAgICAqL1xuICAgIHdoaWxlIChsZW4pIHtcbiAgICAgICAgY3JlYXRlTWV0aG9kcyhtZXRob2RzW2xlbiAtPSAxXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBWYWxpZGF0aW9uIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVmFsaWRhdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3lpbmcgYW4gaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiB2YWxpZGF0aW9uLmRlc3Ryb3koKTtcbiAgICAgKi9cbiAgICBWYWxpZGF0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgICAgIC5vZmYoJy52YWxpZGF0aW9uJylcbiAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXNpZGUgZGF0YS1hbGlnbicpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICAvLyBGYWN0b3JpemVcbiAgICBjaC5mYWN0b3J5KFZhbGlkYXRpb24pO1xuXG59KHRoaXMsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAoJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYnViYmxlIHRvIHNob3cgdGhlIHZhbGlkYXRpb24gbWVzc2FnZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZhbGlkYXRpb24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn1cbiAgICAgKi9cbiAgICBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZS5fY29uZmlndXJlQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIGxpdHRsZSBzaWduIHRoYXQgcG9wb3ZlciBzaG93aW5nIHRoZSB2YWxpZGF0aW9uIG1lc3NhZ2UuIEl0J3MgYSBQb3BvdmVyIGNvbXBvbmVudCwgc28geW91IGNhbiBjaGFuZ2UgaXQncyBjb250ZW50LCB3aWR0aCBvciBoZWlnaHQgYW5kIGNoYW5nZSBpdHMgdmlzaWJpbGl0eSBzdGF0ZS5cbiAgICAgICAgICogQHR5cGUge0J1YmJsZX1cbiAgICAgICAgICogQHNlZSBjaC5CdWJibGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnViYmxlID0gdGhpcy5fY29udGFpbmVyID0gJC5idWJibGUoe1xuICAgICAgICAgICAgJ3JlZmVyZW5jZSc6IHRoYXQuX29wdGlvbnMucmVmZXJlbmNlIHx8wqAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgICR0cmlnZ2VyID0gdGhhdC4kdHJpZ2dlcixcbiAgICAgICAgICAgICAgICAgICAgaDQ7XG4gICAgICAgICAgICAgICAgLy8gQ0hFQ0tCT1gsIFJBRElPXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogd2hlbiBvbGQgZm9ybXMgYmUgZGVwcmVjYXRlZCB3ZSBtdXN0IG9ubHkgc3VwcG9ydCBjaC1mb3JtLW9wdGlvbnMgY2xhc3NcbiAgICAgICAgICAgICAgICBpZiAoJHRyaWdnZXIuaGFzQ2xhc3MoJ2NoLWZvcm0tb3B0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgLy8gSGVscGVyIHJlZmVyZW5jZSBmcm9tIHdpbGwgYmUgZmlyZWRcbiAgICAgICAgICAgICAgICAvLyBINFxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRyaWdnZXIuZmluZCgnaDQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoNCA9ICR0cmlnZ2VyLmZpbmQoJ2g0Jyk7IC8vIEZpbmQgaDRcbiAgICAgICAgICAgICAgICAgICAgICAgIGg0LndyYXBJbm5lcignPHNwYW4+Jyk7IC8vIFdyYXAgY29udGVudCB3aXRoIGlubGluZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2UgPSBoNC5jaGlsZHJlbigpOyAvLyBJbmxpbmUgZWxlbWVudCBpbiBoNCBsaWtlIGhlbHBlciByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVnZW5kXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHRyaWdnZXIucHJldigpLnByb3AoJ3RhZ05hbWUnKSA9PT0gJ0xFR0VORCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZSA9ICR0cmlnZ2VyLnByZXYoKTsgLy8gTGVnZW5kIGxpa2UgaGVscGVyIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gJCgkdHJpZ2dlci5maW5kKCdsYWJlbCcpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElOUFVULCBTRUxFQ1QsIFRFWFRBUkVBXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gJHRyaWdnZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZmVyZW5jZTtcbiAgICAgICAgICAgIH0oKSksXG4gICAgICAgICAgICAnYWxpZ24nOiB0aGF0Ll9vcHRpb25zLmFsaWduLFxuICAgICAgICAgICAgJ3NpZGUnOiB0aGF0Ll9vcHRpb25zLnNpZGUsXG4gICAgICAgICAgICAnb2Zmc2V0WSc6IHRoYXQuX29wdGlvbnMub2Zmc2V0WSxcbiAgICAgICAgICAgICdvZmZzZXRYJzogdGhhdC5fb3B0aW9ucy5vZmZzZXRYXG4gICAgICAgICAgICAvLyAncG9zaXRpb24nOiB0aGF0Ll9vcHRpb25zLnBvc2l0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSB2YWxpZGF0aW9uIG1lc3NhZ2UuXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259XG4gICAgICovXG4gICAgY2guVmFsaWRhdGlvbi5wcm90b3R5cGUuX3Nob3dFcnJvck1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB0aGlzLmJ1YmJsZS5jb250ZW50KG1lc3NhZ2UpLnNob3coKTtcbiAgICAgICAgdGhpcy4kdHJpZ2dlci5hdHRyKCdhcmlhLWxhYmVsJywgJ2NoLScgKyB0aGlzLmJ1YmJsZS5uYW1lICsgJy0nICsgdGhpcy5idWJibGUudWlkKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHZhbGlkYXRpb24gbWVzc2FnZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlZhbGlkYXRpb24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn1cbiAgICAgKi9cbiAgICBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZS5faGlkZUVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5idWJibGUuaGlkZSgpO1xuICAgICAgICB0aGlzLiR0cmlnZ2VyLnJlbW92ZUF0dHIoJ2FyaWEtbGFiZWwnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHBvc2l0aW9uaW5nIGNvbmZpZ3VyYXRpb24uIFVzZSBpdCB3aXRob3V0IGFyZ3VtZW50cyB0byBnZXQgYWN0dWFsIGNvbmZpZ3VyYXRpb24uIFBhc3MgYW4gYXJndW1lbnQgdG8gZGVmaW5lIGEgbmV3IHBvc2l0aW9uaW5nIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt2YWxpZGF0aW9ufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2hhbmdlIHZhbGlkYXRvbiBidWJibGUncyBwb3NpdGlvbi5cbiAgICAgKiB2YWxpZGF0aW9uLnJlZnJlc2hQb3NpdGlvbih7XG4gICAgICogICAgIG9mZnNldFk6IC0xMCxcbiAgICAgKiAgICAgc2lkZTogJ3RvcCcsXG4gICAgICogICAgIGFsaWduOiAnbGVmdCdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBjaC5WYWxpZGF0aW9uLnByb3RvdHlwZS5yZWZyZXNoUG9zaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1YmJsZS5fcG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1YmJsZS5yZWZyZXNoUG9zaXRpb24ob3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxufSh0aGlzLmNoLiQsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAoY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGFuZCBjcmVhdGVzIGFuIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMobWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdzdHJpbmcnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoZSBmaXJzdCBwYXJhbWF0ZXIgaXMgYW4gb2JqZWN0LCBpdCBjcmVhdGVzIGEgY29uZGl0aW9uIGFuZCBhcHBlbmQgdG8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlcyB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zID0gbWVzc2FnZTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlcyBjb25kaXRpb24gcHJvcGVydGllc1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGtleXMgdGhhdCBoYXMgYmVlbiBzdG9yZWQgaW50byB0aGUgY29uZGl0aW9uXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgIC8vIENyZWF0ZXMgYW4gb3B0aW9uIG9iamVjdCBpZiByZWNlaXZlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBlbmRzIGNvbmRpdGlvbiBvYmplY3QgaW50byBjb25kaXRpb25zIGNvbGxlY3Rpb25cbiAgICAgICAgb3B0aW9ucy5jb25kaXRpb25zID0gW2NvbmRpdGlvbl07XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RyaW5nIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbiB0byB2YWxpZGF0ZSBhIGdpdmVuIHZhbHVlIGFzIHN0cmluZy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAbmFtZSBjaC5TdHJpbmdcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlXSBUaGUgZ2l2ZW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLnJlZmVyZW5jZV0gSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNpZGVdIFRoZSBzaWRlIG9wdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInRvcFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml6b250YWxseS4gRGVmYXVsdDogXCIxMHB4XCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogXCIwcHhcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIERlZmF1bHQ6IFwiYWJzb2x1dGVcIi5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFN0cmluZyBWYWxpZGF0aW9uLlxuICAgICAqIHZhciBzdHJWYWxpZGF0aW9uID0gbmV3IGNoLlN0cmluZygkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgU3RyaW5nIHZhbGlkYXRpb24gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIHN0clZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5zdHJpbmcoW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBTdHJpbmcgdmFsaWRhdGlvbiB3aXRoIGN1c3RvbSBvcHRpb25zLlxuICAgICAqIHZhciBzdHJWYWxpZGF0aW9uID0gJChzZWxlY3Rvcikuc3RyaW5nKHtcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnVGhpcyBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLicsXG4gICAgICogICAgICdvZmZzZXRYJzogMCxcbiAgICAgKiAgICAgJ29mZnNldFknOiAxMCxcbiAgICAgKiAgICAgJ3NpZGUnOiAnYm90dG9tJyxcbiAgICAgKiAgICAgJ2FsaWduJzogJ2xlZnQnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgU3RyaW5nIHZhbGlkYXRpb24gdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKG1lc3NhZ2UgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgc3RyVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLnN0cmluZygnVGhpcyBmaWVsZCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0cigkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjaC5WYWxpZGF0aW9uKCRlbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlN0cmluZy5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgc3RyVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLmRhdGEoJ3ZhbGlkYXRpb24nKTtcbiAgICAgKi9cbiAgICBTdHIucHJvdG90eXBlLm5hbWUgPSAnc3RyaW5nJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guU3RyaW5nLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIFN0ci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdHI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJlc2V0IG5hbWUuXG4gICAgICogQG1lbWJlcm9mISBjaC5TdHJpbmcucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0ci5wcm90b3R5cGUuX3ByZXNldCA9ICd2YWxpZGF0aW9uJztcblxuICAgIGNoLmZhY3RvcnkoU3RyLCBub3JtYWxpemVPcHRpb25zKTtcblxufSh0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGFuZCBjcmVhdGVzIGFuIG9wdGlvbnMgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMobnVtLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgY29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ21heExlbmd0aCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhlIGZpcnN0IHBhcmFtYXRlciBpcyBhbiBvYmplY3QsIGl0IGNyZWF0ZXMgYSBjb25kaXRpb24gYW5kIGFwcGVuZCB0byBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2YgbnVtID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgICAgICAvLyBTdG9yZXMgdGhlIGN1cnJlbnQgb3B0aW9uc1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlcyBjb25kaXRpb24gcHJvcGVydGllc1xuICAgICAgICAgICAgY29uZGl0aW9uLm51bSA9IG9wdGlvbnMubnVtO1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZXMgdGhlIGtleXMgdGhhdCBoYXMgYmVlbiBzdG9yZWQgaW50byB0aGUgY29uZGl0aW9uXG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5udW07XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgIC8vIENyZWF0ZXMgYW4gb3B0aW9uIG9iamVjdCBpZiByZWNlaXZlIG1vcmUgdGhhbiBvbmUgcGFyYW1ldGVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICBjb25kaXRpb24ubnVtID0gbnVtO1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwZW5kcyBjb25kaXRpb24gb2JqZWN0IGludG8gY29uZGl0aW9ucyBjb2xsZWN0aW9uXG4gICAgICAgIG9wdGlvbnMuY29uZGl0aW9ucyA9IFtjb25kaXRpb25dO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1heExlbmd0aCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFZhbGlkYXRpb24gdG8gdmFsaWRhdGUgYSBtYXhpbXVuIGFtb3VudCBvZiBjaGFyYWN0ZXJzLlxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBjaC5WYWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5WYWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm51bV0gQSBnaXZlbiBtYXhpbXVuIGFtb3VudCBvZiBjaGFyYWN0ZXJzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlXSBUaGUgZ2l2ZW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLnJlZmVyZW5jZV0gSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNpZGVdIFRoZSBzaWRlIG9wdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInRvcFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml0b250YWxseS4gRGVmYXVsdDogXCIxMHB4XCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogXCIwcHhcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIERlZmF1bHQ6IFwiYWJzb2x1dGVcIi5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1heExlbmd0aCBWYWxpZGF0aW9uLlxuICAgICAqIHZhciBtYXhMZW5ndGhWYWxpZGF0aW9uID0gbmV3IGNoLk1heExlbmd0aCgkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWF4TGVuZ3RoIHZhbGlkYXRpb24gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIG1heExlbmd0aFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5tYXhMZW5ndGgoW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNYXhMZW5ndGggdmFsaWRhdGlvbiB3aXRoIGN1c3RvbSBvcHRpb25zLlxuICAgICAqIHZhciBtYXhMZW5ndGhWYWxpZGF0aW9uID0gJChzZWxlY3RvcikubWF4TGVuZ3RoKHtcbiAgICAgKiAgICAgJ251bSc6IDEwLFxuICAgICAqICAgICAnbWVzc2FnZSc6ICdObyBtb3JlIHRoYW4gMTAgY2hhcmFjdGVycy4nLFxuICAgICAqICAgICAnb2Zmc2V0WCc6IDAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTAsXG4gICAgICogICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0J1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1heExlbmd0aCB2YWxpZGF0aW9uIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChudW1iZXIgYW5kIG1lc3NhZ2UgYXMgcGFyYW1ldGVycykuXG4gICAgICogdmFyIG1heExlbmd0aFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5tYXhMZW5ndGgoMTAsICdObyBtb3JlIHRoYW4gMTAgY2hhcmFjdGVycy4nKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXhMZW5ndGgoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2guVmFsaWRhdGlvbigkZWwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5NYXhMZW5ndGgucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIG1heExlbmd0aFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd2YWxpZGF0aW9uJyk7XG4gICAgICovXG4gICAgTWF4TGVuZ3RoLnByb3RvdHlwZS5uYW1lID0gJ21heExlbmd0aCc7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1heExlbmd0aC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBNYXhMZW5ndGgucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY2guTWF4TGVuZ3RoO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByZXNldCBuYW1lLlxuICAgICAqIEBtZW1iZXJvZiEgY2guTWF4TGVuZ3RoLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXhMZW5ndGgucHJvdG90eXBlLl9wcmVzZXQgPSAndmFsaWRhdGlvbic7XG5cbiAgICBjaC5mYWN0b3J5KE1heExlbmd0aCwgbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcywgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyBhbmQgY3JlYXRlcyBhbiBvcHRpb25zIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG51bSwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdtaW5MZW5ndGgnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoZSBmaXJzdCBwYXJhbWF0ZXIgaXMgYW4gb2JqZWN0LCBpdCBjcmVhdGVzIGEgY29uZGl0aW9uIGFuZCBhcHBlbmQgdG8gb3B0aW9uc1xuICAgICAgICBpZiAodHlwZW9mIG51bSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgLy8gU3RvcmVzIHRoZSBjdXJyZW50IG9wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudW07XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZXMgY29uZGl0aW9uIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNvbmRpdGlvbi5udW0gPSBvcHRpb25zLm51bTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSBrZXlzIHRoYXQgaGFzIGJlZW4gc3RvcmVkIGludG8gdGhlIGNvbmRpdGlvblxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMubnVtO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAvLyBDcmVhdGVzIGFuIG9wdGlvbiBvYmplY3QgaWYgcmVjZWl2ZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlclxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgY29uZGl0aW9uLm51bSA9IG51bTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZHMgY29uZGl0aW9uIG9iamVjdCBpbnRvIGNvbmRpdGlvbnMgY29sbGVjdGlvblxuICAgICAgICBvcHRpb25zLmNvbmRpdGlvbnMgPSBbY29uZGl0aW9uXTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNaW5MZW5ndGggY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uIHRvIHZhbGlkYXRlIGEgbWluaW11biBhbW91bnQgb2YgY2hhcmFjdGVycy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5udW1dIEEgZ2l2ZW4gbWluaW11biBhbW91bnQgb2YgY2hhcmFjdGVycy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IFwiMTBweFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IFwiMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNaW5MZW5ndGggVmFsaWRhdGlvbi5cbiAgICAgKiB2YXIgbWluTGVuZ3RoVmFsaWRhdGlvbiA9IG5ldyBjaC5NaW5MZW5ndGgoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1pbkxlbmd0aCB2YWxpZGF0aW9uIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBtaW5MZW5ndGhWYWxpZGF0aW9uID0gJChzZWxlY3RvcikubWluTGVuZ3RoKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWluTGVuZ3RoIHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgbWluTGVuZ3RoVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLm1pbkxlbmd0aCh7XG4gICAgICogICAgICdudW0nOiAxMCxcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnQXQgbGVhc3QgMTAgY2hhcmFjdGVycy4nLFxuICAgICAqICAgICAnb2Zmc2V0WCc6IDAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTAsXG4gICAgICogICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0J1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1pbkxlbmd0aCB2YWxpZGF0aW9uIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChudW1iZXIgYW5kIG1lc3NhZ2UgYXMgcGFyYW1ldGVycykuXG4gICAgICogdmFyIG1pbkxlbmd0aFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5taW5MZW5ndGgoJ0F0IGxlYXN0IDEwIGNoYXJhY3RlcnMuJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWluTGVuZ3RoKCRlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IGNoLlZhbGlkYXRpb24oJGVsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guTWluTGVuZ3RoLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBtaW5MZW5ndGhWYWxpZGF0aW9uID0gJChzZWxlY3RvcikuZGF0YSgndmFsaWRhdGlvbicpO1xuICAgICAqL1xuICAgIE1pbkxlbmd0aC5wcm90b3R5cGUubmFtZSA9ICdtaW5MZW5ndGgnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5NaW5MZW5ndGgucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgTWluTGVuZ3RoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoLk1pbkxlbmd0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmVzZXQgbmFtZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1pbkxlbmd0aC5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWluTGVuZ3RoLnByb3RvdHlwZS5fcHJlc2V0ID0gJ3ZhbGlkYXRpb24nO1xuXG5cbiAgICBjaC5mYWN0b3J5KE1pbkxlbmd0aCwgbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcywgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgY29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ2VtYWlsJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBtZXNzYWdlO1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmNvbmRpdGlvbnMgPSBbY29uZGl0aW9uXTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbWFpbCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFZhbGlkYXRpb24gdG8gdmFsaWRhdGUgYSBjb3JyZWN0IGVtYWlsIHN5bnRheC5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlXSBUaGUgZ2l2ZW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLnJlZmVyZW5jZV0gSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNpZGVdIFRoZSBzaWRlIG9wdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInRvcFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml6b250YWxseS4gRGVmYXVsdDogXCIxMHB4XCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogXCIwcHhcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIERlZmF1bHQ6IFwiYWJzb2x1dGVcIi5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEVtYWlsIFZhbGlkYXRpb24uXG4gICAgICogdmFyIGVtYWlsVmFsaWRhdGlvbiA9IG5ldyBjaC5FbWFpbCgkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgRW1haWwgdmFsaWRhdGlvbiB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgZW1haWxWYWxpZGF0aW9uID0gJChzZWxlY3RvcikuZW1haWwoW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBFbWFpbCB2YWxpZGF0aW9uIHdpdGggY3VzdG9tIG9wdGlvbnMuXG4gICAgICogdmFyIGVtYWlsVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLmVtYWlsKHtcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnVGhpcyBmaWVsZCBtdXN0IGJlIGEgdmFsaWQgZW1haWwuJyxcbiAgICAgKiAgICAgJ29mZnNldFgnOiAwLFxuICAgICAqICAgICAnb2Zmc2V0WSc6IDEwLFxuICAgICAqICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAqICAgICAnYWxpZ24nOiAnbGVmdCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBFbWFpbCB2YWxpZGF0aW9uIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChtZXNzYWdlIGFzIHBhcmFtZXRlcikuXG4gICAgICogdmFyIGVtYWlsVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLmVtYWlsKCdUaGlzIGZpZWxkIG11c3QgYmUgYSB2YWxpZCBlbWFpbC4nKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbWFpbCgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjaC5WYWxpZGF0aW9uKCRlbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkVtYWlsLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBlbWFpbFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCdlbWFpbCcpO1xuICAgICAqL1xuICAgIEVtYWlsLnByb3RvdHlwZS5uYW1lID0gJ2VtYWlsJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRW1haWwucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgRW1haWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRW1haWw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJlc2V0IG5hbWUuXG4gICAgICogQG1lbWJlcm9mISBjaC5FbWFpbC5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRW1haWwucHJvdG90eXBlLl9wcmVzZXQgPSAndmFsaWRhdGlvbic7XG5cbiAgICBjaC5mYWN0b3J5KEVtYWlsLCBub3JtYWxpemVPcHRpb25zKTtcblxufSh0aGlzLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyBhbmQgY3JlYXRlcyBhbiBvcHRpb25zIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBjb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAndXJsJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB0aGUgZmlyc3QgcGFyYW1hdGVyIGlzIGFuIG9iamVjdCwgaXQgY3JlYXRlcyBhIGNvbmRpdGlvbiBhbmQgYXBwZW5kIHRvIG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgICAgICAvLyBTdG9yZXMgdGhlIGN1cnJlbnQgb3B0aW9uc1xuICAgICAgICAgICAgb3B0aW9ucyA9IG1lc3NhZ2U7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZXMgY29uZGl0aW9uIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGNvbmRpdGlvbi5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmVzIHRoZSBrZXlzIHRoYXQgaGFzIGJlZW4gc3RvcmVkIGludG8gdGhlIGNvbmRpdGlvblxuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAvLyBDcmVhdGVzIGFuIG9wdGlvbiBvYmplY3QgaWYgcmVjZWl2ZSBtb3JlIHRoYW4gb25lIHBhcmFtZXRlclxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwZW5kcyBjb25kaXRpb24gb2JqZWN0IGludG8gY29uZGl0aW9ucyBjb2xsZWN0aW9uXG4gICAgICAgIG9wdGlvbnMuY29uZGl0aW9ucyA9IFtjb25kaXRpb25dO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVSTCBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFZhbGlkYXRpb24gdG8gdmFsaWRhdGUgYSBjb3JyZWN0IFVSTCBzeW50YXguXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLlZhbGlkYXRpb25cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLlZhbGlkYXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IFwiMTBweFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IFwiMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBVUkwgVmFsaWRhdGlvbi5cbiAgICAgKiB2YXIgdXJsVmFsaWRhdGlvbiA9IG5ldyBjaC5VcmwoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFVSTCB2YWxpZGF0aW9uIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciB1cmxWYWxpZGF0aW9uID0gJChzZWxlY3RvcikudXJsKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgVVJMIHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgdXJsVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLnVybCh7XG4gICAgICogICAgICdtZXNzYWdlJzogJ1RoaXMgZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVSTC4nLFxuICAgICAqICAgICAnb2Zmc2V0WCc6IDAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTAsXG4gICAgICogICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0J1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFVSTCB2YWxpZGF0aW9uIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChtZXNzYWdlIGFzIHBhcmFtZXRlcikuXG4gICAgICogdmFyIHVybFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS51cmwoJ1RoaXMgZmllbGQgbXVzdCBiZSBhIHZhbGlkIFVSTC4nKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVUkwoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2guVmFsaWRhdGlvbigkZWwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5VUkwucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHVybFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd2YWxpZGF0aW9uJyk7XG4gICAgICovXG4gICAgVVJMLnByb3RvdHlwZS5uYW1lID0gJ3VybCc7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlVybC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBVUkwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVVJMO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByZXNldCBuYW1lLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVVJMLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBVUkwucHJvdG90eXBlLl9wcmVzZXQgPSAndmFsaWRhdGlvbic7XG5cbiAgICBjaC5mYWN0b3J5KFVSTCwgbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcy5jaCkpO1xuKGZ1bmN0aW9uIChjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZXMgYW5kIGNyZWF0ZXMgYW4gb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgY29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ251bWJlcidcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgdGhlIGZpcnN0IHBhcmFtYXRlciBpcyBhbiBvYmplY3QsIGl0IGNyZWF0ZXMgYSBjb25kaXRpb24gYW5kIGFwcGVuZCB0byBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgLy8gU3RvcmVzIHRoZSBjdXJyZW50IG9wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMgPSBtZXNzYWdlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGNvbmRpdGlvbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUga2V5cyB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbnRvIHRoZSBjb25kaXRpb25cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBhbiBvcHRpb24gb2JqZWN0IGlmIHJlY2VpdmUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZHMgY29uZGl0aW9uIG9iamVjdCBpbnRvIGNvbmRpdGlvbnMgY29sbGVjdGlvblxuICAgICAgICBvcHRpb25zLmNvbmRpdGlvbnMgPSBbY29uZGl0aW9uXTtcblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uIHRvIHZhbGlkYXRlIGEgZ2l2ZW4gdmFsdWUgYXMgbnVtYmVyLlxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEBuYW1lIGNoLk51bWJlclxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBjaC5WYWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5WYWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1lc3NhZ2VdIFRoZSBnaXZlbiBlcnJvciBtZXNzYWdlIHRvIHRoZSBjb25kaXRpb24uXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMucmVmZXJlbmNlXSBJdCdzIGEgcmVmZXJlbmNlIHRvIHBvc2l0aW9uIGFuZCBzaXplIG9mIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgdG8gY2Fycnkgb3V0IHRoZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2lkZV0gVGhlIHNpZGUgb3B0aW9uIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIERlZmF1bHQ6IFwicmlnaHRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpZ25dIFRoZSBhbGlnbiBvcHRpb25zIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIERlZmF1bHQ6IFwidG9wXCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFhdIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgaG9yaXRvbnRhbGx5LiBEZWZhdWx0OiBcIjEwcHhcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WV0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LiBEZWZhdWx0OiBcIjBweFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gRGVmYXVsdDogXCJhYnNvbHV0ZVwiLlxuICAgICAqIEByZXR1cm5zIHt2YWxpZGF0aW9ufSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIFZhbGlkYXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTnVtYmVyIFZhbGlkYXRpb24uXG4gICAgICogdmFyIG51bVZhbGlkYXRpb24gPSBuZXcgY2guTnVtYmVyKCRlbCwgW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBOdW1iZXIgdmFsaWRhdGlvbiB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgbnVtVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLm51bWJlcihbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE51bWJlciB2YWxpZGF0aW9uIHdpdGggY3VzdG9tIG9wdGlvbnMuXG4gICAgICogdmFyIG51bVZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5udW1iZXIoe1xuICAgICAqICAgICAnbWVzc2FnZSc6ICdUaGlzIGZpZWxkIG11c3QgYmUgYSBudW1iZXIuJyxcbiAgICAgKiAgICAgJ29mZnNldFgnOiAwLFxuICAgICAqICAgICAnb2Zmc2V0WSc6IDEwLFxuICAgICAqICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAqICAgICAnYWxpZ24nOiAnbGVmdCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBOdW1iZXIgdmFsaWRhdGlvbiB1c2luZyB0aGUgc2hvcnRoYW5kIHdheSAobWVzc2FnZSBhcyBwYXJhbWV0ZXIpLlxuICAgICAqIHZhciBudW1WYWxpZGF0aW9uID0gJChzZWxlY3RvcikubnVtYmVyKCdUaGlzIGZpZWxkIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gTnVtKCRlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IGNoLlZhbGlkYXRpb24oJGVsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guTnVtYmVyLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBudW1WYWxpZGF0aW9uID0gJChzZWxlY3RvcikuZGF0YSgndmFsaWRhdGlvbicpO1xuICAgICAqL1xuICAgIE51bS5wcm90b3R5cGUubmFtZSA9ICdudW1iZXInO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5OdW1iZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgTnVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE51bTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmVzZXQgbmFtZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk51bS5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTnVtLnByb3RvdHlwZS5fcHJlc2V0ID0gJ3ZhbGlkYXRpb24nO1xuXG4gICAgY2guZmFjdG9yeShOdW0sIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZXMgYW5kIGNyZWF0ZXMgYW4gb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhudW0sIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBjb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnbWluJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB0aGUgZmlyc3QgcGFyYW1hdGVyIGlzIGFuIG9iamVjdCwgaXQgY3JlYXRlcyBhIGNvbmRpdGlvbiBhbmQgYXBwZW5kIHRvIG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBudW0gPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlcyB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zID0gbnVtO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGNvbmRpdGlvbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25kaXRpb24ubnVtID0gb3B0aW9ucy5udW07XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUga2V5cyB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbnRvIHRoZSBjb25kaXRpb25cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm51bTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBhbiBvcHRpb24gb2JqZWN0IGlmIHJlY2VpdmUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5udW0gPSBudW07XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBlbmRzIGNvbmRpdGlvbiBvYmplY3QgaW50byBjb25kaXRpb25zIGNvbGxlY3Rpb25cbiAgICAgICAgb3B0aW9ucy5jb25kaXRpb25zID0gW2NvbmRpdGlvbl07XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWluIGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbiB0byB2YWxpZGF0ZSBhIG51bWJlciB3aXRoIGEgbWluaW11biB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5udW1dIEEgZ2l2ZW4gbWluaW11biB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IFwiMTBweFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IFwiMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNaW4gVmFsaWRhdGlvbi5cbiAgICAgKiB2YXIgbWluVmFsaWRhdGlvbiA9IG5ldyBjaC5NaW4oJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1pbiB2YWxpZGF0aW9uIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBtaW5WYWxpZGF0aW9uID0gJChzZWxlY3RvcikubWluKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWluIHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgbWluVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLm1pbih7XG4gICAgICogICAgICdudW0nOiAxMCxcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnV3JpdGUgYSBudW1iZXIgYmlnZ2VyIHRoYW4gMTAuJyxcbiAgICAgKiAgICAgJ29mZnNldFgnOiAwLFxuICAgICAqICAgICAnb2Zmc2V0WSc6IDEwLFxuICAgICAqICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAqICAgICAnYWxpZ24nOiAnbGVmdCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNaW4gdmFsaWRhdGlvbiB1c2luZyB0aGUgc2hvcnRoYW5kIHdheSAobnVtYmVyIGFuZCBtZXNzYWdlIGFzIHBhcmFtZXRlcnMpLlxuICAgICAqIHZhciBtaW5WYWxpZGF0aW9uID0gJChzZWxlY3RvcikubWluKDEwLCAnV3JpdGUgYSBudW1iZXIgYmlnZ2VyIHRoYW4gMTAuJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gTWluKCRlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IGNoLlZhbGlkYXRpb24oJGVsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guTWluLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBtaW5WYWxpZGF0aW9uID0gJChzZWxlY3RvcikuZGF0YSgndmFsaWRhdGlvbicpO1xuICAgICAqL1xuICAgIE1pbi5wcm90b3R5cGUubmFtZSA9ICdtaW4nO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5NaW4ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgTWluLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1pbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmVzZXQgbmFtZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1pbi5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWluLnByb3RvdHlwZS5fcHJlc2V0ID0gJ3ZhbGlkYXRpb24nO1xuXG4gICAgY2guZmFjdG9yeShNaW4sIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZXMgYW5kIGNyZWF0ZXMgYW4gb3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT3B0aW9ucyhudW0sIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBjb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnbWF4J1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBJZiB0aGUgZmlyc3QgcGFyYW1hdGVyIGlzIGFuIG9iamVjdCwgaXQgY3JlYXRlcyBhIGNvbmRpdGlvbiBhbmQgYXBwZW5kIHRvIG9wdGlvbnNcbiAgICAgICAgaWYgKHR5cGVvZiBudW0gPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlcyB0aGUgY3VycmVudCBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zID0gbnVtO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGNvbmRpdGlvbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25kaXRpb24ubnVtID0gb3B0aW9ucy5udW07XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUga2V5cyB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbnRvIHRoZSBjb25kaXRpb25cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm51bTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBhbiBvcHRpb24gb2JqZWN0IGlmIHJlY2VpdmUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5udW0gPSBudW07XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBlbmRzIGNvbmRpdGlvbiBvYmplY3QgaW50byBjb25kaXRpb25zIGNvbGxlY3Rpb25cbiAgICAgICAgb3B0aW9ucy5jb25kaXRpb25zID0gW2NvbmRpdGlvbl07XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWF4IGNyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbiB0byB2YWxpZGF0ZSBhIG51bWJlciB3aXRoIGEgbWF4aW11biB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5udW1dIEEgZ2l2ZW4gbWF4aW11biB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IFwiMTBweFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IFwiMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNYXggVmFsaWRhdGlvbi5cbiAgICAgKiB2YXIgbWF4VmFsaWRhdGlvbiA9IG5ldyBjaC5NYXgoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1heCB2YWxpZGF0aW9uIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBtYXhWYWxpZGF0aW9uID0gJChzZWxlY3RvcikubWF4KFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWF4IHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgbWF4VmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLm1heCh7XG4gICAgICogICAgICdudW0nOiAxMCxcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnV3JpdGUgYSBudW1iZXIgc21hbGxlciB0aGFuIDEwLicsXG4gICAgICogICAgICdvZmZzZXRYJzogMCxcbiAgICAgKiAgICAgJ29mZnNldFknOiAxMCxcbiAgICAgKiAgICAgJ3NpZGUnOiAnYm90dG9tJyxcbiAgICAgKiAgICAgJ2FsaWduJzogJ2xlZnQnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWF4IHZhbGlkYXRpb24gdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKG51bWJlciBhbmQgbWVzc2FnZSBhcyBwYXJhbWV0ZXJzKS5cbiAgICAgKiB2YXIgbWF4VmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLm1heCgxMCwgJ1dyaXRlIGEgbnVtYmVyIHNtYWxsZXIgdGhhbiAxMC4nKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXgoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2guVmFsaWRhdGlvbigkZWwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5NYXgucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIG1heFZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd2YWxpZGF0aW9uJyk7XG4gICAgICovXG4gICAgTWF4LnByb3RvdHlwZS5uYW1lID0gJ21heCc7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1heC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBNYXgucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWF4O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHByZXNldCBuYW1lLlxuICAgICAqIEBtZW1iZXJvZiEgY2guTWF4LnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNYXgucHJvdG90eXBlLl9wcmVzZXQgPSAndmFsaWRhdGlvbic7XG5cbiAgICBjaC5mYWN0b3J5KE1heCwgbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcywgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyBhbmQgY3JlYXRlcyBhbiBvcHRpb25zIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG5hbWUsIGZuLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgY29uZGl0aW9uID0ge307XG5cbiAgICAgICAgLy8gSWYgdGhlIGZpcnN0IHBhcmFtYXRlciBpcyBhbiBvYmplY3QsIGl0IGNyZWF0ZXMgYSBjb25kaXRpb24gYW5kIGFwcGVuZCB0byBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAgICAgLy8gU3RvcmVzIHRoZSBjdXJyZW50IG9wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMgPSBuYW1lO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGVzIGNvbmRpdGlvbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBjb25kaXRpb24ubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5mbiA9IG9wdGlvbnMuZm47XG4gICAgICAgICAgICBjb25kaXRpb24ubWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlcyB0aGUga2V5cyB0aGF0IGhhcyBiZWVuIHN0b3JlZCBpbnRvIHRoZSBjb25kaXRpb25cbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm5hbWU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5mbjtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLm1lc3NhZ2U7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyBhbiBvcHRpb24gb2JqZWN0IGlmIHJlY2VpdmUgbW9yZSB0aGFuIG9uZSBwYXJhbWV0ZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5mbiA9IGZuO1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwZW5kcyBjb25kaXRpb24gb2JqZWN0IGludG8gY29uZGl0aW9ucyBjb2xsZWN0aW9uXG4gICAgICAgIG9wdGlvbnMuY29uZGl0aW9ucyA9IFtjb25kaXRpb25dO1xuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1c3RvbSBjcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIFZhbGlkYXRpb24gdG8gdmFsaWRhdGUgYSBjdXN0b20gY29uZGl0aW9uLlxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBjaC5WYWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5WYWxpZGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm5hbWVdIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mbl0gVGhlIG1ldGhvZCB0byB2YWxpZGF0ZSB0aGUgY3VzdG9tIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWVzc2FnZV0gVGhlIGdpdmVuIGVycm9yIG1lc3NhZ2UgdG8gdGhlIGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJyaWdodFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gRGVmYXVsdDogXCJ0b3BcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IFwiMTBweFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IFwiMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge3ZhbGlkYXRpb259IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVmFsaWRhdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBDdXN0b20gVmFsaWRhdGlvbi5cbiAgICAgKiB2YXIgY3VzdG9tVmFsaWRhdGlvbiA9IG5ldyBjaC5DdXN0b20oJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEN1c3RvbSB2YWxpZGF0aW9uIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBjdXN0b21WYWxpZGF0aW9uID0gJChzZWxlY3RvcikuY3VzdG9tKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQ3VzdG9tIHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgY3VzdG9tVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLmN1c3RvbSh7XG4gICAgICogICAgICduYW1lJzogJ215Q3VzdG9tJyxcbiAgICAgKiAgICAgJ2ZuJzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICogICAgICAgICByZXR1cm4gKHZhbHVlICUgMiA9PSAwKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnRW50ZXIgYW4gZXZlbiBudW1iZXIuJyxcbiAgICAgKiAgICAgJ29mZnNldFgnOiAwLFxuICAgICAqICAgICAnb2Zmc2V0WSc6IDEwLFxuICAgICAqICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAqICAgICAnYWxpZ24nOiAnbGVmdCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBDdXN0b20gdmFsaWRhdGlvbiB1c2luZyB0aGUgc2hvcnRoYW5kIHdheSAobmFtZSwgZm4gYW5kIG1lc3NhZ2UgYXMgcGFyYW1ldGVycykuXG4gICAgICogdmFyIGN1c3RvbVZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5jdXN0b20oJ215Q3VzdG9tJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICogICAgIHJldHVybiAodmFsdWUgJSAyID09IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAqIH0sICdFbnRlciBhbiBldmVuIG51bWJlci4nKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDdXN0b20oJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2guVmFsaWRhdGlvbigkZWwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5DdXN0b20ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGN1c3RvbSA9ICQoc2VsZWN0b3IpLmRhdGEoJ2N1c3RvbScpO1xuICAgICAqL1xuICAgIEN1c3RvbS5wcm90b3R5cGUubmFtZSA9ICdjdXN0b20nO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5DdXN0b20ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQ3VzdG9tLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEN1c3RvbTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmVzZXQgbmFtZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkN1c3RvbS5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ3VzdG9tLnByb3RvdHlwZS5fcHJlc2V0ID0gJ3ZhbGlkYXRpb24nO1xuXG4gICAgY2guZmFjdG9yeShDdXN0b20sIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMobWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAnbmFtZSc6ICdyZXF1aXJlZCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgICAgICBvcHRpb25zID0gbWVzc2FnZTtcbiAgICAgICAgICAgIGNvbmRpdGlvbi5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMubWVzc2FnZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgY29uZGl0aW9uLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5jb25kaXRpb25zID0gW2NvbmRpdGlvbl07XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWlyZWQgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uIHRvIHZhbGlkYXRlIHJlcXVpcmVkIHZhbHVlcy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guVmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXNzYWdlXSBUaGUgZ2l2ZW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgY29uZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLnJlZmVyZW5jZV0gSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNpZGVdIFRoZSBzaWRlIG9wdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBEZWZhdWx0OiBcInRvcFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml6b250YWxseS4gRGVmYXVsdDogXCIxMHB4XCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogXCIwcHhcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIERlZmF1bHQ6IFwiYWJzb2x1dGVcIi5cbiAgICAgKiBAcmV0dXJucyB7dmFsaWRhdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBWYWxpZGF0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFJlcXVpcmVkIFZhbGlkYXRpb24uXG4gICAgICogdmFyIHJlcVZhbGlkYXRpb24gPSBuZXcgY2guUmVxdWlyZWQoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFJlcXVpcmVkIHZhbGlkYXRpb24gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIHJlcVZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5yZXF1aXJlZChbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFJlcXVpcmVkIHZhbGlkYXRpb24gd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgcmVxVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLnJlcXVpcmVkKHtcbiAgICAgKiAgICAgJ21lc3NhZ2UnOiAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nLFxuICAgICAqICAgICAnb2Zmc2V0WCc6IDAsXG4gICAgICogICAgICdvZmZzZXRZJzogMTAsXG4gICAgICogICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICogICAgICdhbGlnbic6ICdsZWZ0J1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFJlcXVpcmVkIHZhbGlkYXRpb24gdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKG1lc3NhZ2UgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgcmVxVmFsaWRhdGlvbiA9ICQoc2VsZWN0b3IpLnJlcXVpcmVkKCdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlcXVpcmVkKCRlbCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IGNoLlZhbGlkYXRpb24oJGVsLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guUmVxdWlyZWQucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHJlcVZhbGlkYXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd2YWxpZGF0aW9uJyk7XG4gICAgICovXG4gICAgUmVxdWlyZWQucHJvdG90eXBlLm5hbWUgPSAncmVxdWlyZWQnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5SZXF1aXJlZC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBSZXF1aXJlZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXF1aXJlZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmVzZXQgbmFtZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlJlcXVpcmVkLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSZXF1aXJlZC5wcm90b3R5cGUuX3ByZXNldCA9ICd2YWxpZGF0aW9uJztcblxuICAgIGNoLmZhY3RvcnkoUmVxdWlyZWQsIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCAkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnIHx8IGNoLnV0aWwuaXMkKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICdjb250ZW50Jzogb3B0aW9uc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBhbmRhYmxlIGxldHMgeW91IHNob3cgb3IgaGlkZSBjb250ZW50LiBFeHBhbmRhYmxlIG5lZWRzIGEgcGFpcjogYSB0aXRsZSBhbmQgYSBjb250YWluZXIgcmVsYXRlZCB0byB0aXRsZS5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQG1peGVzIGNoLkNvbGxhcHNpYmxlXG4gICAgICogQG1peGVzIGNoLkNvbnRlbnRcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLkV4cGFuZGFibGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZnhdIEVuYWJsZSBvciBkaXNhYmxlIFVJIGVmZmVjdHMuIFlvdSBtdXN0IHVzZTogXCJzbGlkZURvd25cIiwgXCJmYWRlSW5cIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJub25lXCIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50b2dnbGVdIEN1c3RvbWl6ZSB0b2dnbGUgYmVoYXZpb3IuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMuY29udGFpbmVyXSBUaGUgY29udGFpbmVyIHdoZXJlIHRoZSBleHBhbmJkYWxlIHB1dHMgaXRzIGNvbnRlbnQuIERlZmF1bHQ6IHRoZSBuZXh0IHNpYmxpbmcgb2YgJGVsLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3RvciB8IFN0cmluZyl9IFtvcHRpb25zLmNvbnRlbnRdIFRoZSBjb250ZW50IHRvIGJlIHNob3duIGludG8gdGhlIGV4cGFuZGFibGUgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtleHBhbmRhYmxlfSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIEV4cGFuZGFibGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgRXhwYW5kYWJsZS5cbiAgICAgKiB2YXIgZXhwYW5kYWJsZSA9IG5ldyBjaC5FeHBhbmRhYmxlKCRlbCwgW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBFeHBhbmRhYmxlIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBleHBhbmRhYmxlID0gJChzZWxlY3RvcikuZXhwYW5kYWJsZShbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEV4cGFuZGFibGUgd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgZXhwYW5kYWJsZSA9ICQoc2VsZWN0b3IpLmV4cGFuZGFibGUoe1xuICAgICAqICAgICAnY29udGFpbmVyJzogJChzZWxlY3RvciksXG4gICAgICogICAgICd0b2dnbGUnOiBmYWxzZSxcbiAgICAgKiAgICAgJ2Z4JzogJ3NsaWRlRG93bicsXG4gICAgICogICAgICdjb250ZW50JzogJ2h0dHA6Ly91aS5tbC5jb206MzA0MC9hamF4J1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEV4cGFuZGFibGUgdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKGNvbnRlbnQgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgZXhwYW5kYWJsZSA9ICQoc2VsZWN0b3IpLmV4cGFuZGFibGUoJ2h0dHA6Ly91aS5tbC5jb206MzA0MC9hamF4Jyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gRXhwYW5kYWJsZSgkZWwsIG9wdGlvbnMpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgRXhwYW5kYWJsZSBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5FeHBhbmRhYmxlLnByb3RvdHlwZVxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlYWR5IHRvIHVzZS5cbiAgICAgICAgICogQGV2ZW50IGNoLkV4cGFuZGFibGUjcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogZXhwYW5kYWJsZS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIC8vIEluaGVyaXRhbmNlXG4gICAgdmFyICRkb2N1bWVudCA9ICQod2luZG93LmRvY3VtZW50KSxcbiAgICAgICAgcGFyZW50ID0gY2gudXRpbC5pbmhlcml0cyhFeHBhbmRhYmxlLCBjaC5Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkV4cGFuZGFibGUucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGV4cGFuZGFibGUgPSAkKHNlbGVjdG9yKS5kYXRhKCdleHBhbmRhYmxlJyk7XG4gICAgICovXG4gICAgRXhwYW5kYWJsZS5wcm90b3R5cGUubmFtZSA9ICdleHBhbmRhYmxlJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXhwYW5kYWJsZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBFeHBhbmRhYmxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEV4cGFuZGFibGU7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEV4cGFuZGFibGUucHJvdG90eXBlLl9kZWZhdWx0cyA9IHtcbiAgICAgICAgJ19jbGFzc05hbWVUcmlnZ2VyJzogJ2NoLWV4cGFuZGFibGUtdHJpZ2dlciBjaC1leHBhbmRhYmxlLWljbycsXG4gICAgICAgICdfY2xhc3NOYW1lQ29udGFpbmVyJzogJ2NoLWV4cGFuZGFibGUtY29udGFpbmVyIGNoLWhpZGUnLFxuICAgICAgICAnZngnOiBmYWxzZSxcbiAgICAgICAgJ3RvZ2dsZSc6IHRydWVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBFeHBhbmRhYmxlIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5FeHBhbmRhYmxlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2V4cGFuZGFibGV9XG4gICAgICovXG4gICAgRXhwYW5kYWJsZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENhbGwgdG8gaXRzIHBhcmVudCBpbml0IG1ldGhvZFxuICAgICAgICBwYXJlbnQuX2luaXQuY2FsbCh0aGlzLCAkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIFJlcXVpcmVzIGFiaWxpdGllc1xuICAgICAgICB0aGlzLnJlcXVpcmUoJ0NvbGxhcHNpYmxlJywgJ0NvbnRlbnQnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHBhbmRhYmxlIHRyaWdnZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gR2V0cyB0aGUgZXhwYW5kYWJsZSB0cmlnZ2VyLlxuICAgICAgICAgKiBleHBhbmRhYmxlLiR0cmlnZ2VyO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kdHJpZ2dlciA9IHRoaXMuXyRlbFxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMuX29wdGlvbnMuX2NsYXNzTmFtZVRyaWdnZXIpXG4gICAgICAgICAgICAub24oY2gub25wb2ludGVydGFwICsgJy4nICsgdGhpcy5uYW1lLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgIGlmIChjaC5wb2ludGVyQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoLnV0aWwucHJldmVudChldmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhhdC5fb3B0aW9ucy50b2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fdG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHBhbmRhYmxlIGNvbnRhaW5lci5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBHZXRzIHRoZSBleHBhbmRhYmxlIGNvbnRhaW5lci5cbiAgICAgICAgICogZXhwYW5kYWJsZS4kY29udGFpbmVyO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy5fJGNvbnRlbnQgPSAodGhpcy5fb3B0aW9ucy5jb250YWluZXIgfHzCoHRoaXMuXyRlbC5uZXh0KCkpXG4gICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5fb3B0aW9ucy5fY2xhc3NOYW1lQ29udGFpbmVyKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuJGNvbnRhaW5lci5wcm9wKCdpZCcpID09PSAnJykge1xuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnByb3AoJ2lkJywgJ2NoLWV4cGFuZGFibGUtJyArIHRoaXMudWlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJHRyaWdnZXIuYXR0cignYXJpYS1jb250cm9scycsIHRoaXMuJGNvbnRhaW5lci5wcm9wKCdpZCcpKTtcblxuICAgICAgICB0aGlzXG4gICAgICAgICAgICAub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJGRvY3VtZW50LnRyaWdnZXIoY2gub25sYXlvdXRjaGFuZ2UpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkZG9jdW1lbnQudHJpZ2dlcihjaC5vbmxheW91dGNoYW5nZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjaC51dGlsLmF2b2lkVGV4dFNlbGVjdGlvbih0aGlzLiR0cmlnZ2VyKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgZXhwYW5kYWJsZSdzIGNvbnRlbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5FeHBhbmRhYmxlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8IGpRdWVyeVNlbGVjdG9yIHzCoFplcHRvU2VsZWN0b3IpfSBbY29udGVudF0gVGhlIGNvbnRlbnQgdGhhdCB3aWxsIGJlIHVzZWQgYnkgZXhwYW5kYWJsZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgY3VzdG9tIG9wdGlvbnMgdG8gYmUgdXNlZCB3aXRoIGNvbnRlbnQgbG9hZGVkIGJ5IGFqYXguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZF0gVGhlIHR5cGUgb2YgcmVxdWVzdCAoXCJQT1NUXCIgb3IgXCJHRVRcIikgdG8gbG9hZCBjb250ZW50IGJ5IGFqYXguIERlZmF1bHQ6IFwiR0VUXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhcmFtc10gUGFyYW1zIGxpa2UgcXVlcnkgc3RyaW5nIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNhY2hlXSBGb3JjZSB0byBjYWNoZSB0aGUgcmVxdWVzdCBieSB0aGUgYnJvd3Nlci4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFzeW5jXSBGb3JjZSB0byBzZW50IHJlcXVlc3QgYXN5bmNocm9ub3VzbHkuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHzCoGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLndhaXRpbmddIFRlbXBvcmFyeSBjb250ZW50IHRvIHVzZSB3aGlsZSB0aGUgYWpheCByZXF1ZXN0IGlzIGxvYWRpbmcuXG4gICAgICogQHJldHVybnMge2V4cGFuZGFibGV9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIGJhc2ljIGV4cGFuZGFibGUuXG4gICAgICogY29tcG9uZW50LnNob3coKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGFuIGV4cGFuZGFibGUgd2l0aCBuZXcgY29udGVudC5cbiAgICAgKiBjb21wb25lbnQuc2hvdygnU29tZSBuZXcgY29udGVudCBoZXJlIScpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2hvd3MgYW4gZXhwYW5kYWJsZSB3aXRoIGEgbmV3IGNvbnRlbnQgdGhhdCB3aWxsIGJlIGxvYWRlZCBieSBhamF4IGFuZCBzb21lIGN1c3RvbSBvcHRpb25zLlxuICAgICAqIGNvbXBvbmVudC5zaG93KCdodHRwOi8vY2hpY28tdWkuY29tLmFyL2FqYXgnLCB7XG4gICAgICogICAgICdjYWNoZSc6IGZhbHNlLFxuICAgICAqICAgICAncGFyYW1zJzogJ3gtcmVxdWVzdD10cnVlJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIEV4cGFuZGFibGUucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaG93KCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIEFSSUFcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuXG4gICAgICAgIC8vIFNldCBuZXcgY29udGVudFxuICAgICAgICBpZiAoY29udGVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQoY29udGVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGlkZXMgY29tcG9uZW50J3MgY29udGFpbmVyLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXhwYW5kYWJsZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7ZXhwYW5kYWJsZX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENsb3NlIGFuIGV4cGFuZGFibGUuXG4gICAgICogZXhwYW5kYWJsZS5oaWRlKCk7XG4gICAgICovXG4gICAgRXhwYW5kYWJsZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGlkZSgpO1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgY29tcG9uZW50J3MgY29yZSBiZWhhdmlvciBpcyBzaG93bi4gVGhhdCBtZWFucyBpdCB3aWxsIHJldHVybiAndHJ1ZScgaWYgdGhlIGNvbXBvbmVudCBpcyBvbiwgYW5kIGl0IHdpbGwgcmV0dXJuIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkV4cGFuZGFibGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBFeGVjdXRlIGEgZnVuY3Rpb24gaWYgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cbiAgICAgKiBpZiAoZXhwYW5kYWJsZS5pc1Nob3duKCkpIHtcbiAgICAgKiAgICAgZm4oKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgRXhwYW5kYWJsZS5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3duO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhbiBFeHBhbmRhYmxlIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRXhwYW5kYWJsZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3kgYW4gZXhwYW5kYWJsZVxuICAgICAqIGV4cGFuZGFibGUuZGVzdHJveSgpO1xuICAgICAqIC8vIEVtcHR5IHRoZSBleHBhbmRhYmxlIHJlZmVyZW5jZVxuICAgICAqIGV4cGFuZGFibGUgPSB1bmRlZmluZWQ7XG4gICAgICovXG4gICAgRXhwYW5kYWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgICAgICAub2ZmKCcuZXhwYW5kYWJsZScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NoLWV4cGFuZGFibGUtdHJpZ2dlciBjaC1leHBhbmRhYmxlLWljbyBjaC11c2VyLW5vLXNlbGVjdCcpXG4gICAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1jb250cm9scycpO1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjaC1leHBhbmRhYmxlLWNvbnRhaW5lciBjaC1oaWRlJylcbiAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWV4cGFuZGVkIGFyaWEtaGlkZGVuJyk7XG5cbiAgICAgICAgJGRvY3VtZW50LnRyaWdnZXIoY2gub25sYXlvdXRjaGFuZ2UpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICAvLyBGYWN0b3JpemVcbiAgICBjaC5mYWN0b3J5KEV4cGFuZGFibGUsIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogTWVudSBsZXRzIHlvdSBvcmdhbml6ZSB0aGUgbGlua3MgYnkgY2F0ZWdvcmllcy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQHJlcXVpcmVzIGNoLkV4cGFuZGFibGVcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLk1lbnUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZnhdIEVuYWJsZSBvciBkaXNhYmxlIFVJIGVmZmVjdHMuIFlvdSBzaG91bGQgdXNlOiBcInNsaWRlRG93blwiLCBcImZhZGVJblwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcInNsaWRlRG93blwiLlxuICAgICAqIEByZXR1cm5zIHttZW51fSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIE1lbnUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTWVudS5cbiAgICAgKiB2YXIgbWVudSA9IG5ldyBjaC5NZW51KCRlbCwgW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNZW51IHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBtZW51ID0gJChzZWxlY3RvcikubWVudSgpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1lbnUgd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgbWVudSA9ICQoc2VsZWN0b3IpLm1lbnUoe1xuICAgICAqICAgICAnZngnOiAnbm9uZSdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNZW51KCRlbCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGF0Ll9pbml0KCRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHlvdSBkZWZpbmUgYW4gaW5pdGlhbGl6ZSBtZXRob2QsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhIG5ldyBNZW51IGlzIGNyZWF0ZWQuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLk1lbnUucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guTWVudSNyZWFkeVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJyZWFkeVwiIGV2ZW50LlxuICAgICAgICAgKiBtZW51Lm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5lbWl0KCdyZWFkeScpOyB9LCA1MCk7XG4gICAgfVxuXG4gICAgLy8gSW5oZXJpdGFuY2VcbiAgICB2YXIgcGFyZW50ID0gY2gudXRpbC5pbmhlcml0cyhNZW51LCBjaC5Db21wb25lbnQpLFxuXG4gICAgICAgIC8vIENyZWF0ZXMgbWV0aG9kcyBlbmFibGUgYW5kIGRpc2FibGUgaW50byB0aGUgcHJvdG90eXBlLlxuICAgICAgICBtZXRob2RzID0gWydlbmFibGUnLCAnZGlzYWJsZSddLFxuICAgICAgICBsZW4gPSBtZXRob2RzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZHMobWV0aG9kKSB7XG4gICAgICAgIE1lbnUucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGZvbGQgPSB0aGlzLmZvbGRzW2NoaWxkIC0gMV07XG5cbiAgICAgICAgICAgIC8vIEVuYWJsZXMgb3IgZGlzYWJsZXMgYSBzcGVjaWZpYyBleHBhbmRhYmxlIGZvbGRcbiAgICAgICAgICAgIGlmIChmb2xkICYmIGZvbGQubmFtZSA9PT0gJ2V4cGFuZGFibGUnKSB7XG5cbiAgICAgICAgICAgICAgICBmb2xkW21ldGhvZF0oKTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyBFeHBhbmRhYmxlIGZvbGRzXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgaSA9IHRoaXMuZm9sZHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkpIHtcblxuICAgICAgICAgICAgICAgICAgICBmb2xkID0gdGhpcy5mb2xkc1tpIC09IDFdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkLm5hbWUgPT09ICdleHBhbmRhYmxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZFttZXRob2RdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlcyBwYXJlbnQgbWV0aG9kXG4gICAgICAgICAgICAgICAgcGFyZW50W21ldGhvZF0uY2FsbCh0aGlzKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZXMgXCJhcmlhLWRpc2FibGVkXCIgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fZWwuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgIXRoaXMuX2VuYWJsZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guTWVudS5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgbWVudSA9ICQoc2VsZWN0b3IpLmRhdGEoJ21lbnUnKTtcbiAgICAgKi9cbiAgICBNZW51LnByb3RvdHlwZS5uYW1lID0gJ21lbnUnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5NZW51LnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIE1lbnUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVudTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVudS5wcm90b3R5cGUuX2RlZmF1bHRzID0ge1xuICAgICAgICAnZngnOiAnc2xpZGVEb3duJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIE1lbnUgYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1lbnUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7bWVudX1cbiAgICAgKi9cbiAgICBNZW51LnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2FsbCB0byBpdHMgcGFyZW50IGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gY2xvbmVOb2RlKHRydWUpID4gcGFyYW1ldGVycyBpcyByZXF1aXJlZC4gT3BlcmEgJiBJRSB0aHJvd3MgYW5kIGludGVybmFsIGVycm9yLiBPcGVyYSBtb2JpbGUgYnJlYWtzLlxuICAgICAgICB0aGlzLl9zbmlwcGV0ID0gdGhpcy5fZWwuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVudSBjb250YWluZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuXyRlbFxuICAgICAgICAgICAgLmF0dHIoJ3JvbGUnLCAnbmF2aWdhdGlvbicpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoLW1lbnUgJyArICh0aGlzLl9vcHRpb25zLl9jbGFzc05hbWUgfHzCoCcnKSArICcgJyArICh0aGlzLl9vcHRpb25zLmFkZENsYXNzIHx8ICcnKSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbiBvZiBmb2xkcy5cbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb2xkcyA9IFtdO1xuXG4gICAgICAgIC8vIEluaXRzIGFuIGV4cGFuZGFibGUgY29tcG9uZW50IG9uIGVhY2ggbGlzdCBpbnNpZGUgbWFpbiBIVE1MIGNvZGUgc25pcHBldFxuICAgICAgICB0aGlzLl9jcmVhdGVFeHBhbmRhYmxlcygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyBhbiBFeHBhbmRhYmxlIGNvbXBvbmVudCBvbiBlYWNoIGxpc3QgaW5zaWRlIG1haW4gSFRNTCBjb2RlIHNuaXBwZXQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNZW51LnByb3RvdHlwZS5fY3JlYXRlRXhwYW5kYWJsZXMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgJGxpLFxuICAgICAgICAgICAgJGNoaWxkO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUV4cGFuZGFibGUoaSwgbGkpIHtcbiAgICAgICAgICAgIC8vIExpc3QgZWxlbWVudFxuICAgICAgICAgICAgJGxpID0gJChsaSkuYWRkQ2xhc3MoJ2NoLW1lbnUtZm9sZCcpO1xuXG4gICAgICAgICAgICAvLyBDaGlsZHJlbiBvZiBsaXN0IGVsZW1lbnRzXG4gICAgICAgICAgICAkY2hpbGQgPSAkbGkuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpO1xuXG4gICAgICAgICAgICAvLyBBbmNob3IgaW5zaWRlIGxpc3RcbiAgICAgICAgICAgIGlmICgkY2hpbGRbMF0udGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGF0dHIgcm9sZSB0byBtYXRjaCB3YWktYXJpYVxuICAgICAgICAgICAgICAgICRsaS5hdHRyKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgJGNoaWxkLmFkZENsYXNzKCdjaC1mb2xkLXRyaWdnZXInKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgYW5jaG9yIHRvIHRoYXQuZm9sZFxuICAgICAgICAgICAgICAgIHRoYXQuZm9sZHMucHVzaCgkY2hpbGQpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExpc3QgaW5zaWRlIGxpc3QsIGluaXRzIGFuIEV4cGFuZGFibGVcbiAgICAgICAgICAgICAgICB2YXIgZXhwYW5kYWJsZSA9ICRjaGlsZC5leHBhbmRhYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdy9oaWRlIG9uIElFOC0gaW5zdGVhZCBzbGlkZVVwL3NsaWRlRG93blxuICAgICAgICAgICAgICAgICAgICAnZngnOiB0aGF0Ll9vcHRpb25zLmZ4XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBleHBhbmRhYmxlXG4gICAgICAgICAgICAgICAgICAgIC5vbignc2hvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBtZW51IHNob3dzIGEgZm9sZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBjaC5NZW51I3Nob3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJzaG93XCIgZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBtZW51Lm9uKCdzaG93JywgZnVuY3Rpb24gKHNob3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5lbWl0KCdzaG93JywgaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAub24oJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgbWVudSBoaWRlcyBhIGZvbGQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnQgY2guTWVudSNoaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwiaGlkZVwiIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICogbWVudS5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmVtaXQoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkY2hpbGQubmV4dCgpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyb2xlJywgJ21lbnUnKVxuICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3JvbGUnLCAncHJlc2VudGF0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3JvbGUnLCAnbWVudWl0ZW0nKTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCBleHBhbmRhYmxlIHRvIHRoYXQuZm9sZFxuICAgICAgICAgICAgICAgIHRoYXQuZm9sZHMucHVzaChleHBhbmRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICQuZWFjaCh0aGlzLiRjb250YWluZXIuY2hpbGRyZW4oKSwgY3JlYXRlRXhwYW5kYWJsZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIGEgc3BlY2lmaWMgZm9sZC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1lbnUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoaWxkIC0gQSBnaXZlbiBudW1iZXIgb2YgZm9sZC5cbiAgICAgKiBAcmV0dXJucyB7bWVudX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIHRoZSBzZWNvbmQgZm9sZC5cbiAgICAgKiBtZW51LnNob3coMik7XG4gICAgICovXG4gICAgTWVudS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXG4gICAgICAgIHRoaXMuZm9sZHNbY2hpbGQgLSAxXS5zaG93KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIGEgc3BlY2lmaWMgZm9sZC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1lbnUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoaWxkIC0gQSBnaXZlbiBudW1iZXIgb2YgZm9sZC5cbiAgICAgKiBAcmV0dXJucyB7bWVudX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEhpZGVzIHRoZSBzZWNvbmQgZm9sZC5cbiAgICAgKiBtZW51LmhpZGUoMik7XG4gICAgICovXG4gICAgTWVudS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xuXG4gICAgICAgIHRoaXMuZm9sZHNbY2hpbGQgLSAxXS5oaWRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBtYW5hZ2UgdGhlIG1lbnUgY29udGVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZm9sZCBBIGdpdmVuIGZvbGQgdG8gY2hhbmdlIGl0cyBjb250ZW50LlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8IGpRdWVyeVNlbGVjdG9yIHzCoFplcHRvU2VsZWN0b3IpfSBjb250ZW50IFRoZSBjb250ZW50IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IGEgZm9sZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgY3VzdG9tIG9wdGlvbnMgdG8gYmUgdXNlZCB3aXRoIGNvbnRlbnQgbG9hZGVkIGJ5IGFqYXguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZF0gVGhlIHR5cGUgb2YgcmVxdWVzdCAoXCJQT1NUXCIgb3IgXCJHRVRcIikgdG8gbG9hZCBjb250ZW50IGJ5IGFqYXguIERlZmF1bHQ6IFwiR0VUXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhcmFtc10gUGFyYW1zIGxpa2UgcXVlcnkgc3RyaW5nIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNhY2hlXSBGb3JjZSB0byBjYWNoZSB0aGUgcmVxdWVzdCBieSB0aGUgYnJvd3Nlci4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFzeW5jXSBGb3JjZSB0byBzZW50IHJlcXVlc3QgYXN5bmNocm9ub3VzbHkuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHzCoGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLndhaXRpbmddIFRlbXBvcmFyeSBjb250ZW50IHRvIHVzZSB3aGlsZSB0aGUgYWpheCByZXF1ZXN0IGlzIGxvYWRpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVcGRhdGVzIHRoZSBjb250ZW50IG9mIHRoZSBzZWNvbmQgZm9sZCB3aXRoIHNvbWUgc3RyaW5nLlxuICAgICAqIG1lbnUuY29udGVudCgyLCAnaHR0cDovL2FqYXguY29tJywgeydjYWNoZSc6IGZhbHNlfSk7XG4gICAgICovXG4gICAgTWVudS5wcm90b3R5cGUuY29udGVudCA9IGZ1bmN0aW9uIChmb2xkLCBjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChmb2xkID09PSB1bmRlZmluZWQgfHzCoHR5cGVvZiBmb2xkICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdpbmRvdy5FcnJvcignTWVudS5jb250ZW50KGZvbGQsIGNvbnRlbnQsIG9wdGlvbnMpOiBFeHBlY3RlZCBudW1iZXIgb2YgZm9sZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvbGRzW2ZvbGQgLSAxXS5jb250ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvbGRzW2ZvbGQgLSAxXS5jb250ZW50KGNvbnRlbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICB3aGlsZSAobGVuKSB7XG4gICAgICAgIGNyZWF0ZU1ldGhvZHMobWV0aG9kc1tsZW4gLT0gMV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGEgTWVudSBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1lbnUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgbWVudVxuICAgICAqIG1lbnUuZGVzdHJveSgpO1xuICAgICAqIC8vIEVtcHR5IHRoZSBtZW51IHJlZmVyZW5jZVxuICAgICAqIG1lbnUgPSB1bmRlZmluZWQ7XG4gICAgICovXG4gICAgTWVudS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2godGhpcy5mb2xkcywgZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgIGlmIChlLmRlc3Ryb3kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9lbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLl9zbmlwcGV0LCB0aGlzLl9lbCk7XG5cbiAgICAgICAgJCh3aW5kb3cuZG9jdW1lbnQpLnRyaWdnZXIoY2gub25sYXlvdXRjaGFuZ2UpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBjaC5mYWN0b3J5KE1lbnUpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBQb3BvdmVyIGlzIHRoZSBiYXNpYyB1bml0IG9mIGEgZGlhbG9nIHdpbmRvdy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQG1peGVzIGNoLkNvbGxhcHNpYmxlXG4gICAgICogQG1peGVzIGNoLkNvbnRlbnRcbiAgICAgKiBAcmVxdWlyZXMgY2guUG9zaXRpb25lclxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guUG9wb3Zlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hZGRDbGFzc10gQ1NTIGNsYXNzIG5hbWVzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udGFpbmVyIG9uIHRoZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZ4XSBFbmFibGUgb3IgZGlzYWJsZSBVSSBlZmZlY3RzLiBZb3UgbXVzdCB1c2U6IFwic2xpZGVEb3duXCIsIFwiZmFkZUluXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwiZmFkZUluXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLndpZHRoXSBTZXQgYSB3aWR0aCBmb3IgdGhlIGNvbnRhaW5lci4gRGVmYXVsdDogXCJhdXRvXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gU2V0IGEgaGVpZ2h0IGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcImF1dG9cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2hvd25ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgdHJpZ2dlciB0byBzaG93IHRoZSBjb250YWluZXIuIFlvdSBtdXN0IHVzZTogXCJwb2ludGVydGFwXCIsIFwicG9pbnRlcmVudGVyXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwicG9pbnRlcnRhcFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oaWRkZW5ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaGlkZSB0aGUgY29tcG9uZW50LiBZb3UgbXVzdCB1c2U6IFwiYnV0dG9uXCIsIFwicG9pbnRlcnNcIiwgXCJwb2ludGVybGVhdmVcIiwgXCJhbGxcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJidXR0b25cIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImNlbnRlclwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImNlbnRlclwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml6b250YWxseS4gRGVmYXVsdDogMC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WV0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LiBEZWZhdWx0OiAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gSXRzIHZhbHVlIG11c3QgYmUgXCJhYnNvbHV0ZVwiIG9yIFwiZml4ZWRcIi4gRGVmYXVsdDogXCJhYnNvbHV0ZVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLiBEZWZhdWx0OiAnJmx0O2RpdiBjbGFzcz1cImNoLWxvYWRpbmcgY2gtbG9hZGluZy1jZW50ZXJlZFwiJmd0OyZsdDsvZGl2Jmd0OycuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yIHwgSFRNTEVsZW1lbnQgfMKgU3RyaW5nKX0gW29wdGlvbnMuY29udGVudF0gVGhlIGNvbnRlbnQgdG8gYmUgc2hvd24gaW50byB0aGUgUG9wb3ZlciBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge3BvcG92ZXJ9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgUG9wb3Zlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBQb3BvdmVyLlxuICAgICAqIHZhciBwb3BvdmVyID0gbmV3IGNoLlBvcG92ZXIoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFBvcG92ZXIgd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIHBvcG92ZXIgPSAkKHNlbGVjdG9yKS5wb3BvdmVyKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgUG9wb3ZlciB3aXRoIGRpc2FibGVkIGVmZmVjdHMuXG4gICAgICogdmFyIHBvcG92ZXIgPSAkKHNlbGVjdG9yKS5wb3BvdmVyKHtcbiAgICAgKiAgICAgJ2Z4JzogJ25vbmUnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgUG9wb3ZlciB1c2luZyB0aGUgc2hvcnRoYW5kIHdheSAoY29udGVudCBhcyBwYXJhbWV0ZXIpLlxuICAgICAqIHZhciBwb3BvdmVyID0gJChzZWxlY3RvcikucG9wb3ZlcignaHR0cDovL3VpLm1sLmNvbTozMDQwL2FqYXgnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBQb3BvdmVyKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgUG9wb3ZlciBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5Qb3BvdmVyLnByb3RvdHlwZVxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlYWR5IHRvIHVzZS5cbiAgICAgICAgICogQGV2ZW50IGNoLlBvcG92ZXIjcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogcG9wb3Zlci5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIHZhciAkZG9jdW1lbnQgPSAkKHdpbmRvdy5kb2N1bWVudCksXG4gICAgICAgICRib2R5ID0gJCgnYm9keScpLFxuICAgICAgICAvLyBJbmhlcml0YW5jZVxuICAgICAgICBwYXJlbnQgPSBjaC51dGlsLmluaGVyaXRzKFBvcG92ZXIsIGNoLkNvbXBvbmVudCksXG4gICAgICAgIHNob3duYnlFdmVudCA9IHtcbiAgICAgICAgICAgICdwb2ludGVydGFwJzogY2gub25wb2ludGVydGFwLFxuICAgICAgICAgICAgJ3BvaW50ZXJlbnRlcic6IGNoLm9ucG9pbnRlcmVudGVyXG4gICAgICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgcG9wb3ZlciA9ICQoc2VsZWN0b3IpLmRhdGEoJ3BvcG92ZXInKTtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5uYW1lID0gJ3BvcG92ZXInO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5Qb3BvdmVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9wb3ZlcjtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBvcG92ZXIucHJvdG90eXBlLl9kZWZhdWx0cyA9IHtcbiAgICAgICAgJ19hcmlhUm9sZSc6ICdkaWFsb2cnLFxuICAgICAgICAnX2NsYXNzTmFtZSc6ICcnLFxuICAgICAgICAnX2hpZGVEZWxheSc6IDQwMCxcbiAgICAgICAgJ2FkZENsYXNzJzogJycsXG4gICAgICAgICdmeCc6ICdmYWRlSW4nLFxuICAgICAgICAnd2lkdGgnOiAnYXV0bycsXG4gICAgICAgICdoZWlnaHQnOiAnYXV0bycsXG4gICAgICAgICdzaG93bmJ5JzogJ3BvaW50ZXJ0YXAnLFxuICAgICAgICAnaGlkZGVuYnknOiAnYnV0dG9uJyxcbiAgICAgICAgJ3dhaXRpbmcnOiAnPGRpdiBjbGFzcz1cImNoLWxvYWRpbmcgY2gtbG9hZGluZy1jZW50ZXJlZFwiPjwvZGl2PicsXG4gICAgICAgICdwb3NpdGlvbic6ICdhYnNvbHV0ZSdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBQb3BvdmVyIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5Qb3BvdmVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3BvcG92ZXJ9XG4gICAgICovXG4gICAgUG9wb3Zlci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENhbGwgdG8gaXRzIHBhcmVudCBpbml0IG1ldGhvZFxuICAgICAgICBwYXJlbnQuX2luaXQuY2FsbCh0aGlzLCAkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIFJlcXVpcmUgYWJpbGl0aWVzXG4gICAgICAgIHRoaXMucmVxdWlyZSgnQ29sbGFwc2libGUnLCAnQ29udGVudCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBvcG92ZXIgY29udGFpbmVyLiBJdCdzIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBzaG93biBhbmQgaGlkZGVuLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKFtcbiAgICAgICAgICAgICc8ZGl2JyxcbiAgICAgICAgICAgICcgY2xhc3M9XCJjaC1wb3BvdmVyIGNoLWhpZGUgJyArIHRoaXMuX29wdGlvbnMuX2NsYXNzTmFtZSArICcgJyArIHRoaXMuX29wdGlvbnMuYWRkQ2xhc3MgKyAnXCInLFxuICAgICAgICAgICAgJyByb2xlPVwiJyArIHRoaXMuX29wdGlvbnMuX2FyaWFSb2xlICsgJ1wiJyxcbiAgICAgICAgICAgICcgaWQ9XCJjaC0nICsgdGhpcy5uYW1lICsgJy0nICsgdGhpcy51aWQgKyAnXCInLFxuICAgICAgICAgICAgJyBzdHlsZT1cInotaW5kZXg6JyArIChjaC51dGlsLnpJbmRleCArPSAxKSArICc7d2lkdGg6JyArIHRoaXMuX29wdGlvbnMud2lkdGggKyAnO2hlaWdodDonICsgdGhpcy5fb3B0aW9ucy5oZWlnaHQgKyAnXCInLFxuICAgICAgICAgICAgJz4nXG4gICAgICAgIF0uam9pbignJykpLm9uKGNoLm9ucG9pbnRlcnRhcCArICcuJyArIHRoaXMubmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsZW1lbnQgd2hlcmUgdGhlIGNvbnRlbnQgd2lsbCBiZSBhZGRlZC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJGNvbnRlbnQgPSAkKCc8ZGl2IGNsYXNzPVwiY2gtcG9wb3Zlci1jb250ZW50XCI+JykuYXBwZW5kVG8odGhpcy4kY29udGFpbmVyKTtcblxuICAgICAgICAvLyBBZGQgZnVuY3Rpb25hbGl0eSB0byB0aGUgdHJpZ2dlciBpZiBpdCBleGlzdHNcbiAgICAgICAgdGhpcy5fY29uZmlndXJlVHJpZ2dlcigpO1xuICAgICAgICAvLyBDb25maWd1cmUgdGhlIHdheSBpdCBoaWRlc1xuICAgICAgICB0aGlzLl9jb25maWd1cmVIaWRpbmcoKTtcblxuICAgICAgICB0aGlzLl9wb3NpdGlvbmVyID0gbmV3IGNoLlBvc2l0aW9uZXIoe1xuICAgICAgICAgICAgJ3RhcmdldCc6IHRoaXMuJGNvbnRhaW5lcixcbiAgICAgICAgICAgICdyZWZlcmVuY2UnOiB0aGlzLl9vcHRpb25zLnJlZmVyZW5jZSxcbiAgICAgICAgICAgICdzaWRlJzogdGhpcy5fb3B0aW9ucy5zaWRlLFxuICAgICAgICAgICAgJ2FsaWduJzogdGhpcy5fb3B0aW9ucy5hbGlnbixcbiAgICAgICAgICAgICdvZmZzZXRYJzogdGhpcy5fb3B0aW9ucy5vZmZzZXRYLFxuICAgICAgICAgICAgJ29mZnNldFknOiB0aGlzLl9vcHRpb25zLm9mZnNldFksXG4gICAgICAgICAgICAncG9zaXRpb24nOiB0aGlzLl9vcHRpb25zLnBvc2l0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVyIHRvIGV4ZWN1dGUgdGhlIHBvc2l0aW9uZXIgcmVmcmVzaCgpIG1ldGhvZCBvbiBsYXlvdXQgY2hhbmdlcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEB0b2RvIERlZmluZSB0aGlzIGZ1bmN0aW9uIG9uIHByb3RvdHlwZSBhbmQgdXNlIGJpbmQoKTogJGRvY3VtZW50Lm9uKGNoLm9ubGF5b3V0Y2hhbmdlLCB0aGlzLnJlZnJlc2hQb3NpdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZnJlc2hQb3NpdGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoYXQuX3Nob3duKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fcG9zaXRpb25lci5yZWZyZXNoKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBSZWZyZXNoIHBvc2l0aW9uOlxuICAgICAgICAvLyBvbiBsYXlvdXQgY2hhbmdlXG4gICAgICAgICRkb2N1bWVudC5vbihjaC5vbmxheW91dGNoYW5nZSwgdGhpcy5fcmVmcmVzaFBvc2l0aW9uTGlzdGVuZXIpO1xuICAgICAgICAvLyBvbiByZXNpemVcbiAgICAgICAgY2gudmlld3BvcnQub24oY2gub25yZXNpemUsIHRoaXMuX3JlZnJlc2hQb3NpdGlvbkxpc3RlbmVyKTtcblxuICAgICAgICB0aGlzXG4gICAgICAgICAgICAub25jZSgnX3Nob3cnLCB0aGlzLl9yZWZyZXNoUG9zaXRpb25MaXN0ZW5lcilcbiAgICAgICAgICAgIC8vIG9uIGNvbnRlbnQgY2hhbmdlXG4gICAgICAgICAgICAub24oJ19jb250ZW50Y2hhbmdlJywgdGhpcy5fcmVmcmVzaFBvc2l0aW9uTGlzdGVuZXIpXG4gICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBET00gdGhlIGNvbXBvbmVudCBjb250YWluZXIgYWZ0ZXIgaGlkZVxuICAgICAgICAgICAgLm9uKCdoaWRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuJGNvbnRhaW5lci5yZW1vdmUobnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBmdW5jdGlvbmFsaXR5IHRvIHRoZSB0cmlnZ2VyLiBXaGVuIGEgbm9uLXRyaWdnZXIgcG9wb3ZlciBpcyBpbml0aWFsaXplZCwgdGhpcyBtZXRob2QgaXNuJ3QgZXhlY3V0ZWQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Qb3BvdmVyLnByb3RvdHlwZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgUG9wb3Zlci5wcm90b3R5cGUuX2NvbmZpZ3VyZVRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIC8vIEl0IHdpbGwgYmUgdHJpZ2dlcmVkIG9uIHBvaW50ZXJ0YXAvcG9pbnRlcmVudGVyIG9mIHRoZSAkdHJpZ2dlclxuICAgICAgICAgICAgLy8gSXQgY2FuIHRvZ2dsZSwgc2hvdywgb3IgZG8gbm90aGluZyAoaW4gc3BlY2lmaWMgY2FzZXMpXG4gICAgICAgICAgICBzaG93SGFuZGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIGFzIGRlZmF1bHRcbiAgICAgICAgICAgICAgICB2YXIgZm4gPSB0aGF0Ll90b2dnbGU7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBhIFBvcG92ZXIgaXMgc2hvd24gb24gcG9pbnRlcmVudGVyLCBpdCB3aWxsIHNldCBhIHRpbWVvdXQgdG8gbWFuYWdlIHdoZW5cbiAgICAgICAgICAgICAgICAvLyB0byBjbG9zZSB0aGUgY29tcG9uZW50LiBBdm9pZCB0byB0b2dnbGUgYW5kIGxldCBjaG9pc2Ugd2hlbiB0byBjbG9zZSB0byB0aGUgdGltZXJcbiAgICAgICAgICAgICAgICBpZiAodGhhdC5fb3B0aW9ucy5zaG93bmJ5ID09PSAncG9pbnRlcmVudGVyJyB8fCB0aGF0Ll9vcHRpb25zLmhpZGRlbmJ5ID09PSAnbm9uZScgfHwgdGhhdC5fb3B0aW9ucy5oaWRkZW5ieSA9PT0gJ2J1dHRvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuX3Nob3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICAgICAgfSgpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsIGFuZCBlbnRpcmUgZWxlbWVudCBhbmQgaXRzIHN0YXRlLCBiZWZvcmUgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRGl2RWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIC8vIGNsb25lTm9kZSh0cnVlKSA+IHBhcmFtZXRlcnMgaXMgcmVxdWlyZWQuIE9wZXJhICYgSUUgdGhyb3dzIGFuZCBpbnRlcm5hbCBlcnJvci4gT3BlcmEgbW9iaWxlIGJyZWFrcy5cbiAgICAgICAgdGhpcy5fc25pcHBldCA9IHRoaXMuX2VsLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAvLyBVc2UgdGhlIHRyaWdnZXIgYXMgdGhlIHBvc2l0aW9uaW5nIHJlZmVyZW5jZVxuICAgICAgICB0aGlzLl9vcHRpb25zLnJlZmVyZW5jZSA9IHRoaXMuX29wdGlvbnMucmVmZXJlbmNlIHx8IHRoaXMuXyRlbDtcblxuICAgICAgICAvLyBPcGVuIGV2ZW50IHdoZW4gY29uZmlndXJlZCBhcyBhYmxlIHRvIHNob3duIGFueXdheVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5zaG93bmJ5ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHRoaXMuXyRlbFxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY2gtc2hvd25ieS0nICsgdGhpcy5fb3B0aW9ucy5zaG93bmJ5KVxuICAgICAgICAgICAgICAgIC5vbihzaG93bmJ5RXZlbnRbdGhpcy5fb3B0aW9ucy5zaG93bmJ5XSArICcuJyArIHRoaXMubmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoLnV0aWwucHJldmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dIYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgYSBjb250ZW50IGlmIGl0J3Mgbm90IGRlZmluZWRcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBDb250ZW50IGZyb20gYW5jaG9yIGhyZWZcbiAgICAgICAgICAgIC8vIElFIGRlZmluZXMgdGhlIGhyZWYgYXR0cmlidXRlIGVxdWFsIHRvIHNyYyBhdHRyaWJ1dGUgb24gaW1hZ2VzLlxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsLm5vZGVOYW1lID09PSAnQScgJiYgdGhpcy5fZWwuaHJlZiAhPT0gJycpwqB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jb250ZW50ID3CoHRoaXMuX2VsLmhyZWY7XG5cbiAgICAgICAgICAgIC8vIENvbnRlbnQgZnJvbSB0aXRsZSBvciBhbHRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZWwudGl0bGUgIT09ICcnIHx8IHRoaXMuX2VsLmFsdCAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jb250ZW50ID3CoHRoaXMuX2VsLnRpdGxlIHx8IHRoaXMuX2VsLmFsdDtcbiAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSBhdHRyaWJ1dGVzIGNvbnRlbnQgaW50byB0aGUgZWxlbWVudCBmb3IgcG9zc2libGUgdXNhZ2VcbiAgICAgICAgICAgICAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGl0bGUnLCB0aGlzLl9vcHRpb25zLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIC8vIEF2b2lkIHRvIHRyaWdnZXIgdGhlIG5hdGl2ZSB0b29sdGlwXG4gICAgICAgICAgICAgICAgdGhpcy5fZWwudGl0bGUgPSB0aGlzLl9lbC5hbHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBXQUktQVJJQVxuICAgICAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtb3ducycsICdjaC0nICsgdGhpcy5uYW1lICsgJy0nICsgdGhpcy51aWQpO1xuICAgICAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9wb3ZlciB0cmlnZ2VyLiBJdCdzIHRoZSBlbGVtZW50IHRoYXQgd2lsbCBzaG93IGFuZCBoaWRlIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHRyaWdnZXIgPSB0aGlzLl8kZWw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaG93IHRvIGhpZGUgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5fY29uZmlndXJlSGlkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBoaWRkZW5ieSA9IHRoaXMuX29wdGlvbnMuaGlkZGVuYnksXG4gICAgICAgICAgICBwb2ludGVydGFwID0gY2gub25wb2ludGVydGFwICsgJy4nICsgdGhpcy5uYW1lLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIGV2ZW50cyA9IHt9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVUaW1lcigpIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICB9LCB0aGF0Ll9vcHRpb25zLl9oaWRlRGVsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgaGlkZSBhbnl0aW1lXG4gICAgICAgIGlmIChoaWRkZW5ieSA9PT0gJ25vbmUnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIEhpZGUgYnkgbGVhdmluZyB0aGUgY29tcG9uZW50XG4gICAgICAgIGlmIChoaWRkZW5ieSA9PT0gJ3BvaW50ZXJsZWF2ZScgJiYgdGhpcy4kdHJpZ2dlciAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGV2ZW50c1tjaC5vbnBvaW50ZXJlbnRlciArICcuJyArIHRoaXMubmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGV2ZW50c1tjaC5vbnBvaW50ZXJsZWF2ZSArICcuJyArIHRoaXMubmFtZV0gPSBoaWRlVGltZXI7XG5cbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXIub24oZXZlbnRzKTtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbihldmVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGlkZSB3aXRoIHRoZSBidXR0b24gQ2xvc2VcbiAgICAgICAgaWYgKGhpZGRlbmJ5ID09PSAnYnV0dG9uJyB8fCBoaWRkZW5ieSA9PT0gJ2FsbCcpIHtcbiAgICAgICAgICAgICQoJzxpIGNsYXNzPVwiY2gtY2xvc2VcIiByb2xlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PC9pPicpLm9uKHBvaW50ZXJ0YXAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGF0LmhpZGUoKTtcbiAgICAgICAgICAgIH0pLnByZXBlbmRUbyh0aGlzLiRjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChoaWRkZW5ieSA9PT0gJ3BvaW50ZXJzJyB8fCBoaWRkZW5ieSA9PT0gJ2FsbCcpICYmIHRoaXMuX2hpZGluZ1Nob3J0Y3V0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9oaWRpbmdTaG9ydGN1dHMoKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb3B0aW9ucyBvYmplY3QgZnJvbSB0aGUgcGFyYW1ldGVycyBhcnJpdmluZyB0byB0aGUgY29uc3RydWN0b3IgbWV0aG9kLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIFBvcG92ZXIucHJvdG90eXBlLl9ub3JtYWxpemVPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyB8fCBjaC51dGlsLmlzJChvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IG9wdGlvbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBwb3BvdmVyIGNvbnRhaW5lciBhbmQgYXBwZW5kcyBpdCB0byB0aGUgYm9keS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHwgalF1ZXJ5U2VsZWN0b3IgfMKgWmVwdG9TZWxlY3Rvcil9IFtjb250ZW50XSBUaGUgY29udGVudCB0aGF0IHdpbGwgYmUgdXNlZCBieSBwb3BvdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBjdXN0b20gb3B0aW9ucyB0byBiZSB1c2VkIHdpdGggY29udGVudCBsb2FkZWQgYnkgYWpheC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJucyB7cG9wb3Zlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgYmFzaWMgcG9wb3Zlci5cbiAgICAgKiBwb3BvdmVyLnNob3coKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgcG9wb3ZlciB3aXRoIG5ldyBjb250ZW50XG4gICAgICogcG9wb3Zlci5zaG93KCdTb21lIG5ldyBjb250ZW50IGhlcmUhJyk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIHBvcG92ZXIgd2l0aCBhIG5ldyBjb250ZW50IHRoYXQgd2lsbCBiZSBsb2FkZWQgYnkgYWpheCB3aXRoIHNvbWUgY3VzdG9tIG9wdGlvbnNcbiAgICAgKiBwb3BvdmVyLnNob3coJ2h0dHA6Ly9kb21haW4uY29tL2FqYXgvdXJsJywge1xuICAgICAqICAgICAnY2FjaGUnOiBmYWxzZSxcbiAgICAgKiAgICAgJ3BhcmFtcyc6ICd4LXJlcXVlc3Q9dHJ1ZSdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRG9uJ3QgZXhlY3V0ZSB3aGVuIGl0J3MgZGlzYWJsZWRcbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkIHx8IHRoaXMuX3Nob3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluY3JlYXNlIHotaW5kZXggYW5kIGFwcGVuZCB0byBib2R5XG4gICAgICAgIC8vIERvIGl0IGJlZm9yZSBzZXQgY29udGVudCBiZWNhdXNlIHdoZW4gY29udGVudCBzZXRzLCBpdCB0cmlnZ2VycyB0aGUgcG9zaXRpb24gcmVmcmVzaFxuICAgICAgICB0aGlzLiRjb250YWluZXIuY3NzKCd6LWluZGV4JywgKGNoLnV0aWwuekluZGV4ICs9IDEpKS5hcHBlbmRUbygkYm9keSk7XG5cbiAgICAgICAgLy8gT3BlbiB0aGUgY29sbGFwc2libGVcbiAgICAgICAgdGhpcy5fc2hvdygpO1xuXG4gICAgICAgIC8vIFJlcXVlc3QgdGhlIGNvbnRlbnRcbiAgICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50KGNvbnRlbnQsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBwb3BvdmVyIGNvbnRhaW5lciBhbmQgZGVsZXRlcyBpdCBmcm9tIHRoZSBib2R5LlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7cG9wb3Zlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENsb3NlIGEgcG9wb3ZlclxuICAgICAqIHBvcG92ZXIuaGlkZSgpO1xuICAgICAqL1xuICAgIFBvcG92ZXIucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIERvbid0IGV4ZWN1dGUgd2hlbiBpdCdzIGRpc2FibGVkXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCB8fCAhdGhpcy5fc2hvd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xvc2UgdGhlIGNvbGxhcHNpYmxlXG4gICAgICAgIHRoaXMuX2hpZGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJvb2xlYW4gc3BlY2lmeWluZyBpZiB0aGUgY29udGFpbmVyIGlzIHNob3duIG9yIG5vdC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDaGVjayB0aGUgcG9wb3ZlciBzdGF0dXNcbiAgICAgKiBwb3BvdmVyLmlzU2hvd24oKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENoZWNrIHRoZSBwb3BvdmVyIHN0YXR1cyBhZnRlciBhbiB1c2VyIGFjdGlvblxuICAgICAqICQod2luZG93KS5vbihjaC5vbnBvaW50ZXJ0YXAsIGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgaWYgKHBvcG92ZXIuaXNTaG93bigpKSB7XG4gICAgICogICAgICAgICBhbGVydCgnUG9wb3ZlcjogdmlzaWJsZScpO1xuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgICAgYWxlcnQoJ1BvcG92ZXI6IG5vdCB2aXNpYmxlJyk7XG4gICAgICogICAgIH1cbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgZ2V0cyB0aGUgd2lkdGggb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtkYXRhXSBTZXQgYSB3aWR0aCBmb3IgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7KE51bWJlciB8IHBvcG92ZXIpfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGEgbmV3IHBvcG92ZXIgd2lkdGhcbiAgICAgKiBjb21wb25lbnQud2lkdGgoJzMwMHB4Jyk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgdGhlIGN1cnJlbnQgcG9wb3ZlciB3aWR0aFxuICAgICAqIGNvbXBvbmVudC53aWR0aCgpOyAvLyAnMzAwcHgnXG4gICAgICovXG4gICAgUG9wb3Zlci5wcm90b3R5cGUud2lkdGggPSBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmNzcygnd2lkdGgnLCBkYXRhKTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zLndpZHRoID0gZGF0YTtcblxuICAgICAgICB0aGlzLnJlZnJlc2hQb3NpdGlvbigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGdldHMgdGhlIGhlaWdodCBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGFdIFNldCBhIGhlaWdodCBmb3IgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7KE51bWJlciB8IHBvcG92ZXIpfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGEgbmV3IHBvcG92ZXIgaGVpZ2h0XG4gICAgICogY29tcG9uZW50LmhlaWdodCgnMzAwcHgnKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEdldCB0aGUgY3VycmVudCBwb3BvdmVyIGhlaWdodFxuICAgICAqIGNvbXBvbmVudC5oZWlnaHQoKTsgLy8gJzMwMHB4J1xuICAgICAqL1xuICAgIFBvcG92ZXIucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmNzcygnaGVpZ2h0JywgZGF0YSk7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9ucy5oZWlnaHQgPSBkYXRhO1xuXG4gICAgICAgIHRoaXMucmVmcmVzaFBvc2l0aW9uKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGNvbnRhaW5lciB3aXRoIGdpdmVuIG9wdGlvbnMgb3IgZGVmYXVsdHMuXG4gICAgICogQG1lbWJlcm9mISBjaC5Qb3BvdmVyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbXMge09iamVjdH0gW29wdGlvbnNdIEEgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge3BvcG92ZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgKiBwb3BvdmVyLnJlZnJlc2hQb3NpdGlvbigpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gVXBkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uIHdpdGggYSBuZXcgb2Zmc2V0WCBhbmQgb2Zmc2V0WVxuICAgICAqIHBvcG92ZXIucmVmcmVzaFBvc2l0aW9uKHtcbiAgICAgKiAgICAgJ29mZmVzdFgnOiAxMDAsXG4gICAgICogICAgICdvZmZlc3RZJzogMTBcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5yZWZyZXNoUG9zaXRpb24gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgICAgIGlmICh0aGlzLl9zaG93bikge1xuICAgICAgICAgICAgLy8gUmVmcmVzaCBpdHMgcG9zaXRpb24uXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmVyLnJlZnJlc2gob3B0aW9ucyk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpdHMgb3B0aW9ucy4gSXQgd2lsbCB1cGRhdGUgcG9zaXRpb24gdGhlIG5leHQgdGltZSB0byBiZSBzaG93bi5cbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uZXIuX2NvbmZpZ3VyZShvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGEgUG9wb3ZlciBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlBvcG92ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge3BvcG92ZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBFbmFibGUgYSBwb3BvdmVyXG4gICAgICogcG9wb3Zlci5lbmFibGUoKTtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5lbmFibGUuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYSBQb3BvdmVyIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7cG9wb3Zlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERpc2FibGUgYSBwb3BvdmVyXG4gICAgICogcG9wb3Zlci5kaXNhYmxlKCk7XG4gICAgICovXG4gICAgUG9wb3Zlci5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAodGhpcy5fZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZWwuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2hvd24pIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50LmRpc2FibGUuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBQb3BvdmVyIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guUG9wb3Zlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7cG9wb3Zlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3kgYSBwb3BvdmVyXG4gICAgICogcG9wb3Zlci5kZXN0cm95KCk7XG4gICAgICogLy8gRW1wdHkgdGhlIHBvcG92ZXIgcmVmZXJlbmNlXG4gICAgICogcG9wb3ZlciA9IHVuZGVmaW5lZDtcbiAgICAgKi9cbiAgICBQb3BvdmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICh0aGlzLiR0cmlnZ2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgICAgICAgICAub2ZmKCcuJyArIHRoaXMubmFtZSlcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NoLScgKyB0aGlzLm5hbWUgKyAnLXRyaWdnZXInKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXRpdGxlIGFyaWEtb3ducyBhcmlhLWhhc3BvcHVwIGRhdGEtc2lkZSBkYXRhLWFsaWduIHJvbGUnKVxuICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ2FsdCc6IHRoaXMuX3NuaXBwZXQuYWx0LFxuICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiB0aGlzLl9zbmlwcGV0LnRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkZG9jdW1lbnQub2ZmKGNoLm9ubGF5b3V0Y2hhbmdlLCB0aGlzLl9yZWZyZXNoUG9zaXRpb25MaXN0ZW5lcik7XG5cbiAgICAgICAgY2gudmlld3BvcnQub2ZmKGNoLm9ucmVzaXplLCB0aGlzLl9yZWZyZXNoUG9zaXRpb25MaXN0ZW5lcik7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIGNoLmZhY3RvcnkoUG9wb3ZlciwgUG9wb3Zlci5wcm90b3R5cGUuX25vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgJGRvY3VtZW50ID0gJCh3aW5kb3cuZG9jdW1lbnQpO1xuXG4gICAgY2guUG9wb3Zlci5wcm90b3R5cGUuX2hpZGluZ1Nob3J0Y3V0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBwb2ludGVydGFwID0gY2gub25wb2ludGVydGFwICsgJy4nICsgdGhpcy5uYW1lO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGV2ZW50LmJ1dHRvbiA9PT0gMDogRml4IGlzc3VlICM5MzMgUmlnaHQgY2xpY2sgY2xvc2VzIGl0IG9uIEZpcmVmb3guXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSB0aGF0Ll9lbCAmJsKgZXZlbnQudGFyZ2V0ICE9PSB0aGF0LiRjb250YWluZXJbMF0gJiYgZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaC5zaG9ydGN1dHMuYWRkKGNoLm9ua2V5ZXNjLCB0aGlzLnVpZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC5oaWRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXNcbiAgICAgICAgICAgIC5vbignc2hvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjaC5zaG9ydGN1dHMub24odGhhdC51aWQpO1xuICAgICAgICAgICAgICAgICRkb2N1bWVudC5vbihwb2ludGVydGFwLCBoaWRlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2guc2hvcnRjdXRzLm9mZih0aGF0LnVpZCk7XG4gICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9mZihwb2ludGVydGFwLCBoaWRlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub25jZSgnZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjaC5zaG9ydGN1dHMucmVtb3ZlKHRoYXQudWlkLCBjaC5vbmtleWVzYyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogTGF5ZXIgaXMgYSBkaWFsb2cgd2luZG93IHRoYXQgY2FuIGJlIHNob3duIG9uZSBhdCBhIHRpbWUuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLlBvcG92ZXJcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLkxheWVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFkZENsYXNzXSBDU1MgY2xhc3MgbmFtZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250YWluZXIgb24gdGhlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZnhdIEVuYWJsZSBvciBkaXNhYmxlIFVJIGVmZmVjdHMuIFlvdSBtdXN0IHVzZTogXCJzbGlkZURvd25cIiwgXCJmYWRlSW5cIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJmYWRlSW5cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMud2lkdGhdIFNldCBhIHdpZHRoIGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcImF1dG9cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaGVpZ2h0XSBTZXQgYSBoZWlnaHQgZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiYXV0b1wiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaG93bmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBpbnRlcmFjdCB3aXRoIHRoZSB0cmlnZ2VyIHRvIHNob3cgdGhlIGNvbnRhaW5lci4gWW91IG11c3QgdXNlOiBcInBvaW50ZXJ0YXBcIiwgXCJwb2ludGVyZW50ZXJcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJwb2ludGVyZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaGlkZGVuYnldIERldGVybWluZXMgaG93IHRvIGhpZGUgdGhlIGNvbXBvbmVudC4gWW91IG11c3QgdXNlOiBcImJ1dHRvblwiLCBcInBvaW50ZXJzXCIsIFwicG9pbnRlcmxlYXZlXCIsIFwiYWxsXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwicG9pbnRlcmxlYXZlXCIuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMucmVmZXJlbmNlXSBJdCdzIGEgcmVmZXJlbmNlIHRvIHBvc2l0aW9uIGFuZCBzaXplIG9mIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgdG8gY2Fycnkgb3V0IHRoZSBwb3NpdGlvbi4gRGVmYXVsdDogdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2lkZV0gVGhlIHNpZGUgb3B0aW9uIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJib3R0b21cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpZ25dIFRoZSBhbGlnbiBvcHRpb25zIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJsZWZ0XCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFhdIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgaG9yaXpvbnRhbGx5LiBEZWZhdWx0OiAwLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuIERlZmF1bHQ6IDEwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gSXRzIHZhbHVlIG11c3QgYmUgXCJhYnNvbHV0ZVwiIG9yIFwiZml4ZWRcIi4gRGVmYXVsdDogXCJhYnNvbHV0ZVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLiBEZWZhdWx0OiAnJmx0O2RpdiBjbGFzcz1cImNoLWxvYWRpbmcgY2gtbG9hZGluZy1jZW50ZXJlZFwiJmd0OyZsdDsvZGl2Jmd0OycuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yIHwgSFRNTEVsZW1lbnQgfMKgU3RyaW5nKX0gW29wdGlvbnMuY29udGVudF0gVGhlIGNvbnRlbnQgdG8gYmUgc2hvd24gaW50byB0aGUgTGF5ZXIgY29udGFpbmVyLlxuICAgICAqIEByZXR1cm5zIHtsYXllcn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBMYXllci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBMYXllci5cbiAgICAgKiB2YXIgbGF5ZXIgPSBuZXcgY2guTGF5ZXIoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IExheWVyIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBsYXllciA9ICQoc2VsZWN0b3IpLmxheWVyKFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTGF5ZXIgd2l0aCBkaXNhYmxlZCBlZmZlY3RzLlxuICAgICAqIHZhciBsYXllciA9ICQoc2VsZWN0b3IpLmxheWVyKHtcbiAgICAgKiAgICAgJ2Z4JzogJ25vbmUnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTGF5ZXIgdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKGNvbnRlbnQgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgbGF5ZXIgPSAkKHNlbGVjdG9yKS5sYXllcignaHR0cDovL3VpLm1sLmNvbTozMDQwL2FqYXgnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXllcigkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IExheWVyIGlzIGNyZWF0ZWQuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLkxheWVyLnByb3RvdHlwZVxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlYWR5IHRvIHVzZS5cbiAgICAgICAgICogQGV2ZW50IGNoLkxheWVyI3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIGxheWVyLm9uKCdyZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5lbWl0KCdyZWFkeScpOyB9LCA1MCk7XG4gICAgfVxuXG4gICAgLy8gUmVmZXJlbmNlIHRvIHRoZSBsYXN0IGNvbXBvbmVudCBvcGVuLiBBbGxvd3MgdG8gY2xvc2UgYW5kIHRvIGRlbnkgdG9cbiAgICAvLyBoYXZlIDIgY29tcG9uZW50cyBvcGVuIGF0IHRoZSBzYW1lIHRpbWVcbiAgICB2YXIgbGFzdFNob3duLFxuICAgICAgICAvLyBJbmhlcml0YW5jZVxuICAgICAgICBwYXJlbnQgPSBjaC51dGlsLmluaGVyaXRzKExheWVyLCBjaC5Qb3BvdmVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5MYXllci5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgbGF5ZXIgPSAkKHNlbGVjdG9yKS5kYXRhKCdsYXllcicpO1xuICAgICAqL1xuICAgIExheWVyLnByb3RvdHlwZS5uYW1lID0gJ2xheWVyJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guTGF5ZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF5ZXI7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQG1lbWJlcm9mISBjaC5MYXllci5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLl9kZWZhdWx0cyA9ICQuZXh0ZW5kKGNoLnV0aWwuY2xvbmUocGFyZW50Ll9kZWZhdWx0cyksIHtcbiAgICAgICAgJ19jbGFzc05hbWUnOiAnY2gtbGF5ZXIgY2gtYm94LWxpdGUgY2gtY29uZScsXG4gICAgICAgICdfYXJpYVJvbGUnOiAndG9vbHRpcCcsXG4gICAgICAgICdzaG93bmJ5JzogJ3BvaW50ZXJlbnRlcicsXG4gICAgICAgICdoaWRkZW5ieSc6ICdwb2ludGVybGVhdmUnLFxuICAgICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAgICAnYWxpZ24nOiAnbGVmdCcsXG4gICAgICAgICdvZmZzZXRYJzogMCxcbiAgICAgICAgJ29mZnNldFknOiAxMCxcbiAgICAgICAgJ3dhaXRpbmcnOiAnPGRpdiBjbGFzcz1cImNoLWxvYWRpbmctc21hbGxcIj48L2Rpdj4nXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgbGF5ZXIgY29udGFpbmVyIGFuZCBoaWRlcyBvdGhlciBsYXllcnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5MYXllci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfCBqUXVlcnlTZWxlY3RvciB8wqBaZXB0b1NlbGVjdG9yKX0gW2NvbnRlbnRdIFRoZSBjb250ZW50IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IGxheWVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBjdXN0b20gb3B0aW9ucyB0byBiZSB1c2VkIHdpdGggY29udGVudCBsb2FkZWQgYnkgYWpheC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJucyB7bGF5ZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIGJhc2ljIGxheWVyLlxuICAgICAqIGxheWVyLnNob3coKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgbGF5ZXIgd2l0aCBuZXcgY29udGVudFxuICAgICAqIGxheWVyLnNob3coJ1NvbWUgbmV3IGNvbnRlbnQgaGVyZSEnKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgbGF5ZXIgd2l0aCBhIG5ldyBjb250ZW50IHRoYXQgd2lsbCBiZSBsb2FkZWQgYnkgYWpheCB3aXRoIHNvbWUgY3VzdG9tIG9wdGlvbnNcbiAgICAgKiBsYXllci5zaG93KCdodHRwOi8vZG9tYWluLmNvbS9hamF4L3VybCcsIHtcbiAgICAgKiAgICAgJ2NhY2hlJzogZmFsc2UsXG4gICAgICogICAgICdwYXJhbXMnOiAneC1yZXF1ZXN0PXRydWUnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgTGF5ZXIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuICAgICAgICAvLyBEb24ndCBleGVjdXRlIHdoZW4gaXQncyBkaXNhYmxlZFxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQgfHwgdGhpcy5fc2hvd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT25seSBoaWRlIGlmIHRoZXJlIHdhcyBhIGNvbXBvbmVudCBvcGVuZWQgYmVmb3JlXG4gICAgICAgIGlmIChsYXN0U2hvd24gIT09IHVuZGVmaW5lZCAmJiBsYXN0U2hvd24ubmFtZSA9PT0gdGhpcy5uYW1lICYmIGxhc3RTaG93biAhPT0gdGhpcynCoHtcbiAgICAgICAgICAgIGxhc3RTaG93bi5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IHNhdmUgdG8gZnV0dXJlIGNsb3NlIGlmIHRoaXMgY29tcG9uZW50IGlzIGNsb3NhYmxlXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhpZGRlbmJ5ICE9PSAnbm9uZScgJiYgdGhpcy5fb3B0aW9ucy5oaWRkZW5ieSAhPT0gJ2J1dHRvbicpIHtcbiAgICAgICAgICAgIGxhc3RTaG93biA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBvcmlnaW5hbCBzaG93KClcbiAgICAgICAgcGFyZW50LnNob3cuY2FsbCh0aGlzLCBjb250ZW50LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgY2guZmFjdG9yeShMYXllciwgcGFyZW50Ll9ub3JtYWxpemVPcHRpb25zKTtcblxufSh0aGlzLCB0aGlzLmNoLiQsIHRoaXMuY2gpKTtcblxuKGZ1bmN0aW9uICgkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEltcHJvdmVzIHRoZSBuYXRpdmUgdG9vbHRpcHMuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLlBvcG92ZXJcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLlRvb2x0aXAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWRkQ2xhc3NdIENTUyBjbGFzcyBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRhaW5lciBvbiB0aGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5meF0gRW5hYmxlIG9yIGRpc2FibGUgVUkgZWZmZWN0cy4gWW91IG11c3QgdXNlOiBcInNsaWRlRG93blwiLCBcImZhZGVJblwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcImZhZGVJblwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gU2V0IGEgd2lkdGggZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiYXV0b1wiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oZWlnaHRdIFNldCBhIGhlaWdodCBmb3IgdGhlIGNvbnRhaW5lci4gRGVmYXVsdDogXCJhdXRvXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNob3duYnldIERldGVybWluZXMgaG93IHRvIGludGVyYWN0IHdpdGggdGhlIHRyaWdnZXIgdG8gc2hvdyB0aGUgY29udGFpbmVyLiBZb3UgbXVzdCB1c2U6IFwicG9pbnRlcnRhcFwiLCBcInBvaW50ZXJlbnRlclwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcInBvaW50ZXJlbnRlclwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oaWRkZW5ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaGlkZSB0aGUgY29tcG9uZW50LiBZb3UgbXVzdCB1c2U6IFwiYnV0dG9uXCIsIFwicG9pbnRlcnNcIiwgXCJwb2ludGVybGVhdmVcIiwgXCJhbGxcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJwb2ludGVybGVhdmVcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImJvdHRvbVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImxlZnRcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogMTAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uXSBUaGUgdHlwZSBvZiBwb3NpdGlvbmluZyB1c2VkLiBJdHMgdmFsdWUgbXVzdCBiZSBcImFic29sdXRlXCIgb3IgXCJmaXhlZFwiLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZF0gVGhlIHR5cGUgb2YgcmVxdWVzdCAoXCJQT1NUXCIgb3IgXCJHRVRcIikgdG8gbG9hZCBjb250ZW50IGJ5IGFqYXguIERlZmF1bHQ6IFwiR0VUXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhcmFtc10gUGFyYW1zIGxpa2UgcXVlcnkgc3RyaW5nIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNhY2hlXSBGb3JjZSB0byBjYWNoZSB0aGUgcmVxdWVzdCBieSB0aGUgYnJvd3Nlci4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFzeW5jXSBGb3JjZSB0byBzZW50IHJlcXVlc3QgYXN5bmNocm9ub3VzbHkuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHzCoGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLndhaXRpbmddIFRlbXBvcmFyeSBjb250ZW50IHRvIHVzZSB3aGlsZSB0aGUgYWpheCByZXF1ZXN0IGlzIGxvYWRpbmcuIERlZmF1bHQ6ICc8ZGl2IGNsYXNzPVwiY2gtbG9hZGluZyBjaC1sb2FkaW5nLWNlbnRlcmVkXCI+PC9kaXY+Jy5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IgfCBIVE1MRWxlbWVudCB8wqBTdHJpbmcpfSBbb3B0aW9ucy5jb250ZW50XSBUaGUgY29udGVudCB0byBiZSBzaG93biBpbnRvIHRoZSBUb29sdGlwIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7dG9vbHRpcH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBUb29sdGlwLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFRvb2x0aXAuXG4gICAgICogdmFyIHRvb2x0aXAgPSBuZXcgY2guVG9vbHRpcCgkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgVG9vbHRpcCB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgdG9vbHRpcCA9ICQoc2VsZWN0b3IpLnRvb2x0aXAoW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUb29sdGlwIHdpdGggZGlzYWJsZWQgZWZmZWN0cy5cbiAgICAgKiB2YXIgdG9vbHRpcCA9ICQoc2VsZWN0b3IpLnRvb2x0aXAoe1xuICAgICAqICAgICAnZngnOiAnbm9uZSdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUb29sdGlwIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChjb250ZW50IGFzIHBhcmFtZXRlcikuXG4gICAgICogdmFyIHRvb2x0aXAgPSAkKHNlbGVjdG9yKS50b29sdGlwKCdodHRwOi8vdWkubWwuY29tOjMwNDAvYWpheCcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRvb2x0aXAoJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCAmJiAkZWwgIT09IHVuZGVmaW5lZCAmJiAhY2gudXRpbC5pcyQoJGVsKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9ICRlbDtcbiAgICAgICAgICAgICRlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZChjaC51dGlsLmNsb25lKHRoaXMuX2RlZmF1bHRzKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBjaC5MYXllcigkZWwsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Ub29sdGlwLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciB0b29sdGlwID0gJChzZWxlY3RvcikuZGF0YSgndG9vbHRpcCcpO1xuICAgICAqL1xuICAgIFRvb2x0aXAucHJvdG90eXBlLm5hbWUgPSAndG9vbHRpcCc7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlRvb2x0aXAucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb29sdGlwO1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBieSBkZWZhdWx0LlxuICAgICAqIEBtZW1iZXJvZiEgY2guVG9vbHRpcC5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVG9vbHRpcC5wcm90b3R5cGUuX2RlZmF1bHRzID0gJC5leHRlbmQoY2gudXRpbC5jbG9uZShjaC5MYXllci5wcm90b3R5cGUuX2RlZmF1bHRzKSwge1xuICAgICAgICAnX2NsYXNzTmFtZSc6ICdjaC10b29sdGlwIGNoLWNvbmUnXG4gICAgfSk7XG5cbiAgICBjaC5mYWN0b3J5KFRvb2x0aXAsIGNoLkxheWVyLnByb3RvdHlwZS5fbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcy5jaC4kLCB0aGlzLmNoKSk7XG5cbihmdW5jdGlvbiAod2luZG93LCAkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIERpYWxvZyB3aW5kb3cgd2l0aCBhbiBlcnJvciBza2luLlxuICAgICAqIEBtZW1iZXJvZiBjaFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBhdWdtZW50cyBjaC5Db21wb25lbnRcbiAgICAgKiBAcmVxdWlyZXMgY2guUG9zaXRpb25lclxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guQnViYmxlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFkZENsYXNzXSBDU1MgY2xhc3MgbmFtZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250YWluZXIgb24gdGhlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZnhdIEVuYWJsZSBvciBkaXNhYmxlIFVJIGVmZmVjdHMuIFlvdSBtdXN0IHVzZTogXCJzbGlkZURvd25cIiwgXCJmYWRlSW5cIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJmYWRlSW5cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMud2lkdGhdIFNldCBhIHdpZHRoIGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcImF1dG9cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaGVpZ2h0XSBTZXQgYSBoZWlnaHQgZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiYXV0b1wiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaG93bmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBpbnRlcmFjdCB3aXRoIHRoZSB0cmlnZ2VyIHRvIHNob3cgdGhlIGNvbnRhaW5lci4gWW91IG11c3QgdXNlOiBcInBvaW50ZXJ0YXBcIiwgXCJwb2ludGVyZW50ZXJcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJub25lXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhpZGRlbmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBoaWRlIHRoZSBjb21wb25lbnQuIFlvdSBtdXN0IHVzZTogXCJidXR0b25cIiwgXCJwb2ludGVyc1wiLCBcInBvaW50ZXJsZWF2ZVwiLCBcImFsbFwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcIm5vbmVcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBJdHMgdmFsdWUgY2FuIGJlOiBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiIG9yIFwiY2VudGVyXCIuIERlZmF1bHQ6IFwidG9wXCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFhdIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgaG9yaXpvbnRhbGx5LiBEZWZhdWx0OiAxMC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WV0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LiBEZWZhdWx0OiAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gSXRzIHZhbHVlIG11c3QgYmUgXCJhYnNvbHV0ZVwiIG9yIFwiZml4ZWRcIi4gRGVmYXVsdDogXCJhYnNvbHV0ZVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLiBEZWZhdWx0OiAnJmx0O2RpdiBjbGFzcz1cImNoLWxvYWRpbmcgY2gtbG9hZGluZy1jZW50ZXJlZFwiJmd0OyZsdDsvZGl2Jmd0OycuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yIHwgSFRNTEVsZW1lbnQgfMKgU3RyaW5nKX0gW29wdGlvbnMuY29udGVudF0gVGhlIGNvbnRlbnQgdG8gYmUgc2hvd24gaW50byB0aGUgQnViYmxlIGNvbnRhaW5lci4gRGVmYXVsdDogXCJDaGVjayB0aGUgaW5mb3JtYXRpb24sIHBsZWFzZS5cIlxuICAgICAqIEByZXR1cm5zIHtidWJibGV9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgQnViYmxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEJ1YmJsZS5cbiAgICAgKiB2YXIgYnViYmxlID0gbmV3IGNoLkJ1YmJsZSgkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQnViYmxlIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciBidWJibGUgPSAkKHNlbGVjdG9yKS5idWJibGUoW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBCdWJibGUgd2l0aCBkaXNhYmxlZCBlZmZlY3RzLlxuICAgICAqIHZhciBidWJibGUgPSAkKHNlbGVjdG9yKS5idWJibGUoe1xuICAgICAqICAgICAnZngnOiAnbm9uZSdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBCdWJibGUgdXNpbmcgdGhlIHNob3J0aGFuZCB3YXkgKGNvbnRlbnQgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgYnViYmxlID0gJChzZWxlY3RvcikuYnViYmxlKCdodHRwOi8vdWkubWwuY29tOjMwNDAvYWpheCcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJ1YmJsZSgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IEJ1YmJsZSBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5CdWJibGUucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQnViYmxlI3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIGJ1YmJsZS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIC8vIEluaGVyaXRhbmNlXG4gICAgdmFyIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoQnViYmxlLCBjaC5Qb3BvdmVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5CdWJibGUucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGJ1YmJsZSA9ICQoc2VsZWN0b3IpLmRhdGEoJ2J1YmJsZScpO1xuICAgICAqL1xuICAgIEJ1YmJsZS5wcm90b3R5cGUubmFtZSA9ICdidWJibGUnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5CdWJibGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQnViYmxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1YmJsZTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkJ1YmJsZS5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQnViYmxlLnByb3RvdHlwZS5fZGVmYXVsdHMgPSAkLmV4dGVuZChjaC51dGlsLmNsb25lKHBhcmVudC5fZGVmYXVsdHMpLCB7XG4gICAgICAgICdfY2xhc3NOYW1lJzogJ2NoLWJ1YmJsZSBjaC1ib3gtaWNvbiBjaC1ib3gtZXJyb3IgY2gtY29uZScsXG4gICAgICAgICdfYXJpYVJvbGUnOiAnYWxlcnQnLFxuICAgICAgICAnc2hvd25ieSc6ICdub25lJyxcbiAgICAgICAgJ2hpZGRlbmJ5JzogJ25vbmUnLFxuICAgICAgICAnc2lkZSc6ICdyaWdodCcsXG4gICAgICAgICdhbGlnbic6ICdjZW50ZXInLFxuICAgICAgICAnb2Zmc2V0WCc6IDEwLFxuICAgICAgICAnY29udGVudCc6ICdDaGVjayB0aGUgaW5mb3JtYXRpb24sIHBsZWFzZS4nXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIEJ1YmJsZSBhbmQgbWVyZ2UgY3VzdG9tIG9wdGlvbnMgd2l0aCBkZWZhdWx0cyBvcHRpb25zLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQnViYmxlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2J1YmJsZX1cbiAgICAgKi9cbiAgICBCdWJibGUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDYWxsIHRvIGl0cyBwYXJlbnQgaW5pdCBtZXRob2RcbiAgICAgICAgcGFyZW50Ll9pbml0LmNhbGwodGhpcywgJGVsLCBvcHRpb25zKTtcblxuICAgICAgICAkKCc8aSBjbGFzcz1cImNoLWljb24tcmVtb3ZlLXNpZ25cIj48L2k+JykucHJlcGVuZFRvKHRoaXMuJGNvbnRhaW5lcik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIGNoLmZhY3RvcnkoQnViYmxlLCBwYXJlbnQuX25vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBpcyBhIGRpYWxvZyB3aW5kb3cgd2l0aCBhbiB1bmRlcmxheS5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guUG9wb3ZlclxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guTW9kYWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWRkQ2xhc3NdIENTUyBjbGFzcyBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRhaW5lciBvbiB0aGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5meF0gRW5hYmxlIG9yIGRpc2FibGUgVUkgZWZmZWN0cy4gWW91IG11c3QgdXNlOiBcInNsaWRlRG93blwiLCBcImZhZGVJblwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcImZhZGVJblwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gU2V0IGEgd2lkdGggZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiNTAlXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gU2V0IGEgaGVpZ2h0IGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcImF1dG9cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2hvd25ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgdHJpZ2dlciB0byBzaG93IHRoZSBjb250YWluZXIuIFlvdSBtdXN0IHVzZTogXCJwb2ludGVydGFwXCIsIFwicG9pbnRlcmVudGVyXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwicG9pbnRlcnRhcFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oaWRkZW5ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaGlkZSB0aGUgY29tcG9uZW50LiBZb3UgbXVzdCB1c2U6IFwiYnV0dG9uXCIsIFwicG9pbnRlcnNcIiwgXCJwb2ludGVybGVhdmVcIiwgXCJhbGxcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJhbGxcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiBjaC52aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2lkZV0gVGhlIHNpZGUgb3B0aW9uIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJjZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpZ25dIFRoZSBhbGlnbiBvcHRpb25zIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJjZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogMC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIEl0cyB2YWx1ZSBtdXN0IGJlIFwiYWJzb2x1dGVcIiBvciBcImZpeGVkXCIuIERlZmF1bHQ6IFwiZml4ZWRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy4gRGVmYXVsdDogJyZsdDtkaXYgY2xhc3M9XCJjaC1sb2FkaW5nLWxhcmdlIGNoLWxvYWRpbmctY2VudGVyZWRcIiZndDsmbHQ7L2RpdiZndDsnLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3RvciB8IEhUTUxFbGVtZW50IHzCoFN0cmluZyl9IFtvcHRpb25zLmNvbnRlbnRdIFRoZSBjb250ZW50IHRvIGJlIHNob3duIGludG8gdGhlIE1vZGFsIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7bW9kYWx9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgTW9kYWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgTW9kYWwuXG4gICAgICogdmFyIG1vZGFsID0gbmV3IGNoLk1vZGFsKCRlbCwgW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBNb2RhbCB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgbW9kYWwgPSAkKHNlbGVjdG9yKS5tb2RhbChbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1vZGFsIHdpdGggZGlzYWJsZWQgZWZmZWN0cy5cbiAgICAgKiB2YXIgbW9kYWwgPSAkKHNlbGVjdG9yKS5tb2RhbCh7XG4gICAgICogICAgICdmeCc6ICdub25lJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IE1vZGFsIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChjb250ZW50IGFzIHBhcmFtZXRlcikuXG4gICAgICogdmFyIG1vZGFsID0gJChzZWxlY3RvcikubW9kYWwoJ2h0dHA6Ly91aS5tbC5jb206MzA0MC9hamF4Jyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gTW9kYWwoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9pbml0KCRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHlvdSBkZWZpbmUgYW4gaW5pdGlhbGl6ZSBtZXRob2QsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhIG5ldyBNb2RhbCBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZWFkeSB0byB1c2UuXG4gICAgICAgICAqIEBldmVudCBjaC5Nb2RhbCNyZWFkeVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJyZWFkeVwiIGV2ZW50LlxuICAgICAgICAgKiBtb2RhbC5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKSxcbiAgICAgICAgJHVuZGVybGF5ID0gJCgnPGRpdiBjbGFzcz1cImNoLXVuZGVybGF5IGNoLWhpZGVcIiB0YWJpbmRleD1cIi0xXCI+JyksXG4gICAgICAgIC8vIEluaGVyaXRhbmNlXG4gICAgICAgIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoTW9kYWwsIGNoLlBvcG92ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1vZGFsLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBtb2RhbCA9ICQoc2VsZWN0b3IpLmRhdGEoJ21vZGFsJyk7XG4gICAgICovXG4gICAgTW9kYWwucHJvdG90eXBlLm5hbWUgPSAnbW9kYWwnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBNb2RhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNb2RhbDtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLk1vZGFsLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBNb2RhbC5wcm90b3R5cGUuX2RlZmF1bHRzID0gJC5leHRlbmQoY2gudXRpbC5jbG9uZShwYXJlbnQuX2RlZmF1bHRzKSwge1xuICAgICAgICAnX2NsYXNzTmFtZSc6ICdjaC1tb2RhbCBjaC1ib3gtbGl0ZScsXG4gICAgICAgICdfYXJpYVJvbGUnOiAnZGlhbG9nJyxcbiAgICAgICAgJ3dpZHRoJzogJzUwJScsXG4gICAgICAgICdoaWRkZW5ieSc6ICdhbGwnLFxuICAgICAgICAncmVmZXJlbmNlJzogY2gudmlld3BvcnQsXG4gICAgICAgICd3YWl0aW5nJzogJzxkaXYgY2xhc3M9XCJjaC1sb2FkaW5nLWxhcmdlIGNoLWxvYWRpbmctY2VudGVyZWRcIj48L2Rpdj4nLFxuICAgICAgICAncG9zaXRpb24nOiAnZml4ZWQnXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgTW9kYWwgdW5kZXJsYXkuXG4gICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1vZGFsLnByb3RvdHlwZS5fc2hvd1VuZGVybGF5ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICR1bmRlcmxheS5jc3MoJ3otaW5kZXgnLCBjaC51dGlsLnpJbmRleCkuYXBwZW5kVG8oJGJvZHkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmZ4ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICR1bmRlcmxheS5mYWRlSW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICR1bmRlcmxheS5yZW1vdmVDbGFzcygnY2gtaGlkZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkdW5kZXJsYXkucmVtb3ZlQ2xhc3MoJ2NoLWhpZGUnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgTW9kYWwgdW5kZXJsYXkuXG4gICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1vZGFsLnByb3RvdHlwZS5faGlkZVVuZGVybGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5meCAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAkdW5kZXJsYXkuZmFkZU91dCgnbm9ybWFsJywgZnVuY3Rpb24gKCkgeyAkdW5kZXJsYXkucmVtb3ZlKG51bGwsIHRydWUpOyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICR1bmRlcmxheS5hZGRDbGFzcygnY2gtaGlkZScpLnJlbW92ZShudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgbW9kYWwgY29udGFpbmVyIGFuZCB0aGUgdW5kZXJsYXkuXG4gICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfCBqUXVlcnlTZWxlY3RvciB8wqBaZXB0b1NlbGVjdG9yKX0gW2NvbnRlbnRdIFRoZSBjb250ZW50IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IG1vZGFsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQSBjdXN0b20gb3B0aW9ucyB0byBiZSB1c2VkIHdpdGggY29udGVudCBsb2FkZWQgYnkgYWpheC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJucyB7bW9kYWx9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIGJhc2ljIG1vZGFsLlxuICAgICAqIG1vZGFsLnNob3coKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgbW9kYWwgd2l0aCBuZXcgY29udGVudFxuICAgICAqIG1vZGFsLnNob3coJ1NvbWUgbmV3IGNvbnRlbnQgaGVyZSEnKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgbW9kYWwgd2l0aCBhIG5ldyBjb250ZW50IHRoYXQgd2lsbCBiZSBsb2FkZWQgYnkgYWpheCB3aXRoIHNvbWUgY3VzdG9tIG9wdGlvbnNcbiAgICAgKiBtb2RhbC5zaG93KCdodHRwOi8vZG9tYWluLmNvbS9hamF4L3VybCcsIHtcbiAgICAgKiAgICAgJ2NhY2hlJzogZmFsc2UsXG4gICAgICogICAgICdwYXJhbXMnOiAneC1yZXF1ZXN0PXRydWUnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoY29udGVudCwgb3B0aW9ucykge1xuICAgICAgICAvLyBEb24ndCBleGVjdXRlIHdoZW4gaXQncyBkaXNhYmxlZFxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQgfHwgdGhpcy5fc2hvd24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFkZCB0byB0aGUgdW5kZXJsYXkgdGhlIGFiaWxpdHkgdG8gaGlkZSB0aGUgY29tcG9uZW50XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhpZGRlbmJ5ID09PSAnYWxsJyB8fCB0aGlzLl9vcHRpb25zLmhpZGRlbmJ5ID09PSAncG9pbnRlcnMnKSB7XG4gICAgICAgICAgICAvLyBBbGxvdyBvbmx5IG9uZSBjbGljayB0byBhbmFsaXplIHRoZSBjb25maWcgZXZlcnkgdGltZSBhbmQgdG8gY2xvc2UgT05MWSBUSElTIG1vZGFsXG4gICAgICAgICAgICAkdW5kZXJsYXkub25lKGNoLm9ucG9pbnRlcnRhcCwgZnVuY3Rpb24gKCnCoHtcbiAgICAgICAgICAgICAgICB0aGF0LmhpZGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyB0aGUgdW5kZXJsYXlcbiAgICAgICAgdGhpcy5fc2hvd1VuZGVybGF5KCk7XG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIG9yaWdpbmFsIHNob3coKVxuICAgICAgICBwYXJlbnQuc2hvdy5jYWxsKHRoaXMsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgbW9kYWwgY29udGFpbmVyIGFuZCB0aGUgdW5kZXJsYXkuXG4gICAgICogQG1lbWJlcm9mISBjaC5Nb2RhbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7bW9kYWx9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDbG9zZSBhIG1vZGFsXG4gICAgICogbW9kYWwuaGlkZSgpO1xuICAgICAqL1xuICAgIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Nob3duKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgdW5kZXJsYXkgbGlzdGVuZXJcbiAgICAgICAgJHVuZGVybGF5Lm9mZihjaC5vbnBvaW50ZXJ0YXApO1xuICAgICAgICAvLyBIaWRlIHRoZSB1bmRlcmxheSBlbGVtZW50XG4gICAgICAgIHRoaXMuX2hpZGVVbmRlcmxheSgpO1xuICAgICAgICAvLyBFeGVjdXRlIHRoZSBvcmlnaW5hbCBoaWRlKClcbiAgICAgICAgcGFyZW50LmhpZGUuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgY2guZmFjdG9yeShNb2RhbCwgcGFyZW50Ll9ub3JtYWxpemVPcHRpb25zKTtcblxufSh0aGlzLCB0aGlzLmNoLiQsIHRoaXMuY2gpKTtcblxuKGZ1bmN0aW9uICgkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gbGV0cyB5b3UgZ2l2ZSBmZWVkYmFjayB0byB0aGUgdXNlcnMgd2hlbiB0aGVpciBoYXZlIHRvIHdhaXQgZm9yIGFuIGFjdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guUG9wb3ZlclxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guVHJhbnNpdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hZGRDbGFzc10gQ1NTIGNsYXNzIG5hbWVzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udGFpbmVyIG9uIHRoZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZ4XSBFbmFibGUgb3IgZGlzYWJsZSBVSSBlZmZlY3RzLiBZb3UgbXVzdCB1c2U6IFwic2xpZGVEb3duXCIsIFwiZmFkZUluXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwiZmFkZUluXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLndpZHRoXSBTZXQgYSB3aWR0aCBmb3IgdGhlIGNvbnRhaW5lci4gRGVmYXVsdDogXCI1MCVcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaGVpZ2h0XSBTZXQgYSBoZWlnaHQgZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiYXV0b1wiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaG93bmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBpbnRlcmFjdCB3aXRoIHRoZSB0cmlnZ2VyIHRvIHNob3cgdGhlIGNvbnRhaW5lci4gWW91IG11c3QgdXNlOiBcInBvaW50ZXJ0YXBcIiwgXCJwb2ludGVyZW50ZXJcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJwb2ludGVydGFwXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhpZGRlbmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBoaWRlIHRoZSBjb21wb25lbnQuIFlvdSBtdXN0IHVzZTogXCJidXR0b25cIiwgXCJwb2ludGVyc1wiLCBcInBvaW50ZXJsZWF2ZVwiLCBcImFsbFwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcIm5vbmVcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiBjaC52aWV3cG9ydC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2lkZV0gVGhlIHNpZGUgb3B0aW9uIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJjZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpZ25dIFRoZSBhbGlnbiBvcHRpb25zIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIEl0cyB2YWx1ZSBjYW4gYmU6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJjZW50ZXJcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3Jpem9udGFsbHkuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgdmVydGljYWxseS4gRGVmYXVsdDogMC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIEl0cyB2YWx1ZSBtdXN0IGJlIFwiYWJzb2x1dGVcIiBvciBcImZpeGVkXCIuIERlZmF1bHQ6IFwiZml4ZWRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy4gRGVmYXVsdDogJyZsdDtkaXYgY2xhc3M9XCJjaC1sb2FkaW5nLWxhcmdlIGNoLWxvYWRpbmctY2VudGVyZWRcIiZndDsmbHQ7L2RpdiZndDsnLlxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3RvciB8IEhUTUxFbGVtZW50IHzCoFN0cmluZyl9IFtvcHRpb25zLmNvbnRlbnRdIFRoZSBjb250ZW50IHRvIGJlIHNob3duIGludG8gdGhlIFRyYW5zaXRpb24gY29udGFpbmVyLiBEZWZhdWx0OiBcIlBsZWFzZSB3YWl0Li4uXCJcbiAgICAgKiBAcmV0dXJucyB7dHJhbnNpdGlvbn0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBUcmFuc2l0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFRyYW5zaXRpb24uXG4gICAgICogdmFyIHRyYW5zaXRpb24gPSBuZXcgY2guVHJhbnNpdGlvbigkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgVHJhbnNpdGlvbiB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgdHJhbnNpdGlvbiA9ICQoc2VsZWN0b3IpLnRyYW5zaXRpb24oW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUcmFuc2l0aW9uIHdpdGggZGlzYWJsZWQgZWZmZWN0cy5cbiAgICAgKiB2YXIgdHJhbnNpdGlvbiA9ICQoc2VsZWN0b3IpLnRyYW5zaXRpb24oe1xuICAgICAqICAgICAnZngnOiAnbm9uZSdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUcmFuc2l0aW9uIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChjb250ZW50IGFzIHBhcmFtZXRlcikuXG4gICAgICogdmFyIHRyYW5zaXRpb24gPSAkKHNlbGVjdG9yKS50cmFuc2l0aW9uKCdodHRwOi8vdWkubWwuY29tOjMwNDAvYWpheCcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zaXRpb24oJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCAmJiAkZWwgIT09IHVuZGVmaW5lZCAmJiAhY2gudXRpbC5pcyQoJGVsKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9ICRlbDtcbiAgICAgICAgICAgICRlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZChjaC51dGlsLmNsb25lKHRoaXMuX2RlZmF1bHRzKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgb3B0aW9ucy5jb250ZW50ID0gJCgnPGRpdiBjbGFzcz1cImNoLWxvYWRpbmctbGFyZ2VcIj48L2Rpdj48cD4nICsgb3B0aW9ucy5jb250ZW50ICsgJzwvcD4nKTtcblxuICAgICAgICByZXR1cm4gbmV3IGNoLk1vZGFsKCRlbCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlRyYW5zaXRpb24ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHRyYW5zaXRpb24gPSAkKHNlbGVjdG9yKS5kYXRhKCd0cmFuc2l0aW9uJyk7XG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUubmFtZSA9ICd0cmFuc2l0aW9uJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVHJhbnNpdGlvbi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRyYW5zaXRpb247XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQG1lbWJlcm9mISBjaC5UcmFuc2l0aW9uLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5fZGVmYXVsdHMgPSAkLmV4dGVuZChjaC51dGlsLmNsb25lKGNoLk1vZGFsLnByb3RvdHlwZS5fZGVmYXVsdHMpLCB7XG4gICAgICAgICdfY2xhc3NOYW1lJzogJ2NoLXRyYW5zaXRpb24gY2gtYm94LWxpdGUnLFxuICAgICAgICAnX2FyaWFSb2xlJzogJ2FsZXJ0JyxcbiAgICAgICAgJ2hpZGRlbmJ5JzogJ25vbmUnLFxuICAgICAgICAnY29udGVudCc6ICdQbGVhc2Ugd2FpdC4uLidcbiAgICB9KTtcblxuICAgIGNoLmZhY3RvcnkoVHJhbnNpdGlvbiwgY2guTW9kYWwucHJvdG90eXBlLl9ub3JtYWxpemVPcHRpb25zKTtcblxufSh0aGlzLmNoLiQsIHRoaXMuY2gpKTtcblxuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogWm9vbSBzaG93cyBhIGNvbnRleHR1YWwgcmVmZXJlbmNlIHRvIGFuIGF1Z21lbnRlZCB2ZXJzaW9uIG9mIGEgZGVjbGFyZWQgaW1hZ2UuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkxheWVyXG4gICAgICogQHJlcXVpcmVzIGNoLk9uSW1hZ2VzTG9hZHNcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLlpvb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWRkQ2xhc3NdIENTUyBjbGFzcyBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRhaW5lciBvbiB0aGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5meF0gRW5hYmxlIG9yIGRpc2FibGUgVUkgZWZmZWN0cy4gWW91IG11c3QgdXNlOiBcInNsaWRlRG93blwiLCBcImZhZGVJblwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcIm5vbmVcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMud2lkdGhdIFNldCBhIHdpZHRoIGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcIjMwMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gU2V0IGEgaGVpZ2h0IGZvciB0aGUgY29udGFpbmVyLiBEZWZhdWx0OiBcIjMwMHB4XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNob3duYnldIERldGVybWluZXMgaG93IHRvIGludGVyYWN0IHdpdGggdGhlIHRyaWdnZXIgdG8gc2hvdyB0aGUgY29udGFpbmVyLiBZb3UgbXVzdCB1c2U6IFwicG9pbnRlcnRhcFwiLCBcInBvaW50ZXJlbnRlclwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcInBvaW50ZXJlbnRlclwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oaWRkZW5ieV0gRGV0ZXJtaW5lcyBob3cgdG8gaGlkZSB0aGUgY29tcG9uZW50LiBZb3UgbXVzdCB1c2U6IFwiYnV0dG9uXCIsIFwicG9pbnRlcnNcIiwgXCJwb2ludGVybGVhdmVcIiwgXCJhbGxcIiBvciBcIm5vbmVcIi4gRGVmYXVsdDogXCJwb2ludGVybGVhdmVcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcInJpZ2h0XCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWduXSBUaGUgYWxpZ24gb3B0aW9ucyB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBJdHMgdmFsdWUgY2FuIGJlOiBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiIG9yIFwiY2VudGVyXCIuIERlZmF1bHQ6IFwidG9wXCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFhdIERpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgaG9yaXpvbnRhbGx5LiBEZWZhdWx0OiAyMC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WV0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LiBEZWZhdWx0OiAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gSXRzIHZhbHVlIG11c3QgYmUgXCJhYnNvbHV0ZVwiIG9yIFwiZml4ZWRcIi4gRGVmYXVsdDogXCJhYnNvbHV0ZVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLiBEZWZhdWx0OiAnTG9hZGluZyB6b29tLi4uJy5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IgfCBIVE1MRWxlbWVudCB8wqBTdHJpbmcpfSBbb3B0aW9ucy5jb250ZW50XSBUaGUgY29udGVudCB0byBiZSBzaG93biBpbnRvIHRoZSBab29tIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7em9vbX0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBab29tLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IFpvb20uXG4gICAgICogdmFyIHpvb20gPSBuZXcgY2guWm9vbSgkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgWm9vbSB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgem9vbSA9ICQoc2VsZWN0b3IpLnpvb20oW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBab29tIHdpdGggYSBkZWZpbmVkIHdpZHRoIChoYWxmIG9mIHRoZSBzY3JlZW4pLlxuICAgICAqICQoc2VsZWN0b3IpLnpvb20oe1xuICAgICAqICAgICAnd2lkdGgnOiAoY2gudmlld3BvcnQud2lkdGggLyAyKSArICdweCdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBab29tKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgWm9vbSBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5ab29tLnByb3RvdHlwZVxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlYWR5IHRvIHVzZS5cbiAgICAgICAgICogQGV2ZW50IGNoLlpvb20jcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogem9vbS5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIC8vIEluaGVyaXRhbmNlXG4gICAgdmFyIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoWm9vbSwgY2guTGF5ZXIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlpvb20ucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHpvb20gPSAkKHNlbGVjdG9yKS5kYXRhKCd6b29tJyk7XG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUubmFtZSA9ICd6b29tJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guWm9vbS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFpvb207XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQG1lbWJlcm9mISBjaC5ab29tLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5fZGVmYXVsdHMgPSAkLmV4dGVuZChjaC51dGlsLmNsb25lKHBhcmVudC5fZGVmYXVsdHMpLCB7XG4gICAgICAgICdfY2xhc3NOYW1lJzogJ2NoLXpvb20nLFxuICAgICAgICAnX2FyaWFSb2xlJzogJ3Rvb2x0aXAnLFxuICAgICAgICAnX2hpZGVEZWxheSc6IDAsXG4gICAgICAgICdmeCc6ICdub25lJyxcbiAgICAgICAgJ3dpZHRoJzogJzMwMHB4JyxcbiAgICAgICAgJ2hlaWdodCc6ICczMDBweCcsXG4gICAgICAgICdzaWRlJzogJ3JpZ2h0JyxcbiAgICAgICAgJ2FsaWduJzogJ3RvcCcsXG4gICAgICAgICdvZmZzZXRYJzogMjAsXG4gICAgICAgICdvZmZzZXRZJzogMCxcbiAgICAgICAgJ3dhaXRpbmcnOiAnTG9hZGluZyB6b29tLi4uJ1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBab29tIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5ab29tLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge3pvb219XG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENhbGwgdG8gaXRzIHBhcmVudCBpbml0IG1ldGhvZFxuICAgICAgICBwYXJlbnQuX2luaXQuY2FsbCh0aGlzLCAkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyB0byBjb250cm9sIHdoZW4gem9vbWVkIGltYWdlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmVlZGJhY2sgc2hvd2VkIGJlZm9yZSB0aGUgem9vbWVkIGltYWdlIGlzIGxvYWQuIEl0J3MgYSB0cmFuc2l0aW9uIG1lc3NhZ2UgYW5kIGl0cyBjb250ZW50IGNhbiBiZSBjb25maWd1cmVkIHRocm91Z2ggcGFyYW1ldGVyIFwid2FpdGluZ1wiLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIENoYW5naW5nIHRoZSBsb2FkaW5nIGZlZWRiYWNrLlxuICAgICAgICAgKiAkKHNlbGVjdG9yKS56b29tKHtcbiAgICAgICAgICogICAgICd3YWl0aW5nJzogJ015IGN1c3RvbSBtZXNzYWdlJ1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRsb2FkaW5nID0gJCgnPGRpdiBjbGFzcz1cImNoLXpvb20tbG9hZGluZyBjaC1oaWRlXCI+PGRpdiBjbGFzcz1cImNoLWxvYWRpbmctbGFyZ2VcIj48L2Rpdj48cD4nICsgdGhpcy5fb3B0aW9ucy53YWl0aW5nICsgJzwvcD48L2Rpdj4nKS5hcHBlbmRUbyh0aGlzLiR0cmlnZ2VyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogalF1ZXJ5L1plcHRvIEVsZW1lbnQgKHNoYXBlKSB3aXRoIHZpc3VhbCBmZWVkYmFjayB0byB0aGUgcmVsYXRpdmUgc2l6ZSBvZiB0aGUgem9vbWVkIGFyZWEuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRzZWVrZXIgPSAkKCc8ZGl2IGNsYXNzPVwiY2gtem9vbS1zZWVrZXIgY2gtaGlkZVwiPicpLmFwcGVuZFRvKHRoaXMuJHRyaWdnZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIVE1MIEVsZW1lbnQgc2hhcGUgd2l0aCB2aXN1YWwgZmVlZGJhY2sgdG8gdGhlIHJlbGF0aXZlIHNpemUgb2YgdGhlIHpvb21lZCBhcmVhLlxuICAgICAgICAgKiBAdHlwZSB7SFRNTERpdkVsZW1lbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zZWVrZXIgPSB0aGlzLl8kc2Vla2VyWzBdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFpbiBzcGVjaWZpZWQgaW1hZ2Ugd2l0aCBvcmlnaW5hbCBzaXplIChub3Qgem9vbWVkKS5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJG9yaWdpbmFsID0gdGhpcy4kdHJpZ2dlci5jaGlsZHJlbigpLmVxKDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgem9vbWVkIGltYWdlIHNwZWNpZmllZCBhcyBhIGxpbmsgaHJlZiAoc2VlIHRoZSBIVE1MIHNuaXBwZXQpLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICAvLyBVc2UgYSBuZXcgSW1hZ2UgaW5zdGVhZCAkKCc8aW1nIC4uLj4nKSB0byBjYWxjdWxhdGUgdGhlXG4gICAgICAgIC8vIHNpemUgYmVmb3JlIGFwcGVuZCB0aGUgaW1hZ2UgdG8gRE9NLCBpbiBBTEwgdGhlIGJyb3dzZXJzLlxuICAgICAgICB0aGlzLl96b29tZWQgPSBuZXcgd2luZG93LkltYWdlKCk7XG5cbiAgICAgICAgLy8gQXNzaWduIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBvcmlnaW5hbCBpbWFnZVxuICAgICAgICBjaC5vbkltYWdlc0xvYWRzKHRoaXMuXyRvcmlnaW5hbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC5fb3JpZ2luYWxMb2FkZWQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQXNzaWduIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSB6b29tZWQgaW1hZ2VcbiAgICAgICAgY2gub25JbWFnZXNMb2FkcygkKHRoaXMuX3pvb21lZCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuX3pvb21lZExvYWRlZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBNYWtlIHRoZSBlbnRpcmUgU2hvdyBwcm9jZXNzIGlmIGl0IHRyaWVkIHRvIHNob3cgYmVmb3JlXG4gICAgICAgIHRoaXMub24oJ2ltYWdlbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhhdC5fJGxvYWRpbmcuaGFzQ2xhc3MoJ2NoLWhpZGUnKSkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBc3NpZ24gZXZlbnQgaGFuZGxlcnMgdG8gdGhlIGFuY2hvclxuICAgICAgICB0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCdjaC16b29tLXRyaWdnZXInKS5vbih7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRvIHJlZGlyZWN0IHRvIHRoZSBocmVmXG4gICAgICAgICAgICAnY2xpY2suem9vbSc6IGZ1bmN0aW9uIChldmVudCkgeyBjaC51dGlsLnByZXZlbnQoZXZlbnQpOyB9LFxuICAgICAgICAgICAgLy8gQmluZCBtb3ZlIGNhbGN1bGF0aW9uc1xuICAgICAgICAgICAgJ21vdXNlbW92ZS56b29tJzogZnVuY3Rpb24gKGV2ZW50KSB7IHRoYXQuX21vdmUoZXZlbnQpOyB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb3JyZWN0IHNpemUgdG8gdGhlIHdyYXBwZXIgYW5jaG9yLlxuICAgICAqIEBtZW1iZXJvZiEgY2guWm9vbS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFpvb20ucHJvdG90eXBlLl9vcmlnaW5hbExvYWRlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl8kb3JpZ2luYWxbMF0ud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLl8kb3JpZ2luYWxbMF0uaGVpZ2h0LFxuICAgICAgICAgICAgb2Zmc2V0ID0gY2gudXRpbC5nZXRPZmZzZXQodGhpcy5fZWwpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgd3JhcHBlciBhbmNob3Igc2l6ZSAoc2FtZSBhcyBpbWFnZSlcbiAgICAgICAgdGhpcy4kdHJpZ2dlci5jc3Moe1xuICAgICAgICAgICAgJ3dpZHRoJzogd2lkdGgsXG4gICAgICAgICAgICAnaGVpZ2h0JzogaGVpZ2h0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExvYWRpbmcgcG9zaXRpb24gY2VudGVyZWQgaW50byB0aGUgYW5jaG9yXG4gICAgICAgIHRoaXMuXyRsb2FkaW5nLmNzcyh7XG4gICAgICAgICAgICAnbGVmdCc6ICh3aWR0aCAtIHRoaXMuXyRsb2FkaW5nLndpZHRoKCkpIC8gMixcbiAgICAgICAgICAgICd0b3AnOiAoaGVpZ2h0IC0gdGhpcy5fJGxvYWRpbmcuaGVpZ2h0KCkpIC8gMlxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGggb2YgdGhlIG9yaWdpbmFsIHNwZWNpZmllZCBpbWFnZS5cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29yaWdpbmFsV2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIHRoZSBvcmlnaW5hbCBzcGVjaWZpZWQgaW1hZ2UuXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGVmdCBwb3NpdGlvbiBvZiB0aGUgb3JpZ2luYWwgc3BlY2lmaWVkIGFuY2hvci9pbWFnZS5cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29yaWdpbmFsT2Zmc2V0TGVmdCA9IG9mZnNldC5sZWZ0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb3AgcG9zaXRpb24gb2YgdGhlIG9yaWdpbmFsIHNwZWNpZmllZCBhbmNob3IvaW1hZ2UuXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE9mZnNldFRvcCA9IG9mZnNldC50b3A7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoZSBab29tIGNvbnRlbnQgYW5kIHNldHMgdGhlIFNlZWtlciBzaXplLlxuICAgICAqIEBtZW1iZXJvZiEgY2guWm9vbS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFpvb20ucHJvdG90eXBlLl96b29tZWRMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbGF0aW9uIGJldHdlZW4gdGhlIHpvb21lZCBhbmQgdGhlIG9yaWdpbmFsIGltYWdlIHdpZHRoLlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmF0aW9YID0gKHRoaXMuX3pvb21lZC53aWR0aCAvIHRoaXMuX29yaWdpbmFsV2lkdGgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWxhdGlvbiBiZXR3ZWVuIHRoZSB6b29tZWQgYW5kIHRoZSBvcmlnaW5hbCBpbWFnZSBoZWlnaHQuXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yYXRpb1kgPSAodGhpcy5fem9vbWVkLmhlaWdodCAvIHRoaXMuX29yaWdpbmFsSGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2lkdGggb2YgdGhlIFNlZWtlciwgY2FsY3VsYXRlZCBmcm9tIHJhdGlvLlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Vla2VyV2lkdGggPSB3aW5kb3cuTWF0aC5mbG9vcih3aW5kb3cucGFyc2VJbnQodGhpcy5fb3B0aW9ucy53aWR0aCwgMTApIC8gdGhpcy5fcmF0aW9YKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGVpZ2h0IG9mIHRoZSBTZWVrZXIsIGNhbGN1bGF0ZWQgZnJvbSByYXRpby5cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NlZWtlckhlaWdodCA9IHdpbmRvdy5NYXRoLmZsb29yKHdpbmRvdy5wYXJzZUludCh0aGlzLl9vcHRpb25zLmhlaWdodCwgMTApIC8gdGhpcy5fcmF0aW9ZKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFsZiBvZiB0aGUgd2lkdGggb2YgdGhlIFNlZWtlci4gVXNlZCB0byBwb3NpdGlvbiBpdC5cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NlZWtlckhhbGZXaWR0aCA9IHdpbmRvdy5NYXRoLmZsb29yKHRoaXMuX3NlZWtlcldpZHRoIC8gMik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbGYgb2YgdGhlIGhlaWdodCBvZiB0aGUgU2Vla2VyLiBVc2VkIHRvIHBvc2l0aW9uIGl0LlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc2Vla2VySGFsZkhlaWdodCA9IHdpbmRvdy5NYXRoLmZsb29yKHRoaXMuX3NlZWtlckhlaWdodCAvIDIpO1xuXG4gICAgICAgIC8vIFNldCBzaXplIG9mIHRoZSBTZWVrZXJcbiAgICAgICAgdGhpcy5fc2Vla2VyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6JyArIHRoaXMuX3NlZWtlcldpZHRoICsgJ3B4O2hlaWdodDonICsgdGhpcy5fc2Vla2VySGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAvLyBVc2UgdGhlIHpvb21lZCBpbWFnZSBhcyBjb250ZW50IGZvciB0aGUgZmxvYXRlZCBlbGVtZW50XG4gICAgICAgIHRoaXMuY29udGVudCh0aGlzLl96b29tZWQpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgZmxhZyB0byBhbGxvdyB0byB6b29tXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgem9vbWVkIGltYWdlIGlzIGRvd25sb2FkZWQuXG4gICAgICAgICAqIEBldmVudCBjaC5ab29tI2ltYWdlbG9hZFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJpbWFnZWxvYWRcIiBldmVudC5cbiAgICAgICAgICogem9vbS5vbignaW1hZ2Vsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgYWxlcnQoJ1pvb21lZCBpbWFnZSByZWFkeSEnKTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ2ltYWdlbG9hZCcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIG1vdmVtZW50IGxpbWl0cyBhbmQgc2V0cyBpdCB0byBTZWVrZXIgYW5kIHpvb21lZCBpbWFnZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlpvb20ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBVc2VkIHRvIHRha2UgdGhlIGN1cnNvciBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5fbW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBEb24ndCBleGVjdXRlIHdoZW4gaXQncyBkaXNhYmxlZCBvciBpdCdzIG5vdCBsb2FkZWRcbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkIHx8ICF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJ5IGRlZmluaW5nIHRoZXNlIHZhcmlhYmxlcyBpbiBoZXJlLCBpdCBhdm9pZHMgdG8gbWFrZVxuICAgICAgICAvLyB0aGUgc3Vic3RyYWN0aW9uIHR3aWNlIGlmIGl0J3MgYSBmcmVlIG1vdmVtZW50XG4gICAgICAgIHZhciBzZWVrZXJMZWZ0ID0gZXZlbnQucGFnZVggLSB0aGlzLl9zZWVrZXJIYWxmV2lkdGgsXG4gICAgICAgICAgICBzZWVrZXJUb3AgPSBldmVudC5wYWdlWSAtIHRoaXMuX3NlZWtlckhhbGZIZWlnaHQsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeTtcblxuICAgICAgICAvLyBMZWZ0IHNpZGUgb2Ygc2Vla2VyIExFU1MgVEhBTiBsZWZ0IHNpZGUgb2YgaW1hZ2VcbiAgICAgICAgaWYgKHNlZWtlckxlZnQgPD0gdGhpcy5fb3JpZ2luYWxPZmZzZXRMZWZ0KSB7XG4gICAgICAgICAgICB4ID0gMDtcbiAgICAgICAgLy8gUmlnaHQgc2lkZSBvZiBzZWVrZXIgR1JFQVRFUiBUSEFOIHJpZ2h0IHNpZGUgb2YgaW1hZ2VcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5wYWdlWCArIHRoaXMuX3NlZWtlckhhbGZXaWR0aCA+IHRoaXMuX29yaWdpbmFsV2lkdGggKyB0aGlzLl9vcmlnaW5hbE9mZnNldExlZnQpIHtcbiAgICAgICAgICAgIHggPSB0aGlzLl9vcmlnaW5hbFdpZHRoIC0gdGhpcy5fc2Vla2VyV2lkdGggLSAyO1xuICAgICAgICAvLyBGcmVlIG1vdmVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBzZWVrZXJMZWZ0IC0gdGhpcy5fb3JpZ2luYWxPZmZzZXRMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9wIHNpZGUgb2Ygc2Vla2VyIExFU1MgVEhBTiB0b3Agc2lkZSBvZiBpbWFnZVxuICAgICAgICBpZiAoc2Vla2VyVG9wIDw9IHRoaXMuX29yaWdpbmFsT2Zmc2V0VG9wKSB7XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgLy8gQm90dG9tIHNpZGUgb2Ygc2Vla2VyIEdSRUFURVIgVEhBTiBib3R0b20gc2lkZSBvZiBpbWFnZVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnBhZ2VZICsgdGhpcy5fc2Vla2VySGFsZkhlaWdodCA+IHRoaXMuX29yaWdpbmFsSGVpZ2h0ICsgdGhpcy5fb3JpZ2luYWxPZmZzZXRUb3ApIHtcbiAgICAgICAgICAgIHkgPSB0aGlzLl9vcmlnaW5hbEhlaWdodCAtIHRoaXMuX3NlZWtlckhlaWdodCAtIDI7XG4gICAgICAgIC8vIEZyZWUgbW92ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeSA9IHNlZWtlclRvcCAtIHRoaXMuX29yaWdpbmFsT2Zmc2V0VG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBzZWVrZXIgYW5kIHRoZSB6b29tZWQgaW1hZ2VcbiAgICAgICAgdGhpcy5fc2Vla2VyLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICAgICAgdGhpcy5fc2Vla2VyLnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuICAgICAgICB0aGlzLl96b29tZWQuc3R5bGUuY3NzVGV4dCA9ICdsZWZ0OicgKyAoLXRoaXMuX3JhdGlvWCAqIHgpICsgJ3B4O3RvcDonICsgKC10aGlzLl9yYXRpb1kgKiB5KSArICdweCc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSB6b29tIGNvbnRhaW5lciBhbmQgdGhlIFNlZWtlciwgb3Igc2hvdyBhIGxvYWRpbmcgZmVlZGJhY2sgdW50aWwgdGhlIHpvb21lZCBpbWFnZSBsb2Fkcy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlpvb20ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHwgalF1ZXJ5U2VsZWN0b3IgfMKgWmVwdG9TZWxlY3Rvcil9IFtjb250ZW50XSBUaGUgY29udGVudCB0aGF0IHdpbGwgYmUgdXNlZCBieSBkcm9wZG93bi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEEgY3VzdG9tIG9wdGlvbnMgdG8gYmUgdXNlZCB3aXRoIGNvbnRlbnQgbG9hZGVkIGJ5IGFqYXguXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZF0gVGhlIHR5cGUgb2YgcmVxdWVzdCAoXCJQT1NUXCIgb3IgXCJHRVRcIikgdG8gbG9hZCBjb250ZW50IGJ5IGFqYXguIERlZmF1bHQ6IFwiR0VUXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBhcmFtc10gUGFyYW1zIGxpa2UgcXVlcnkgc3RyaW5nIHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNhY2hlXSBGb3JjZSB0byBjYWNoZSB0aGUgcmVxdWVzdCBieSB0aGUgYnJvd3Nlci4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFzeW5jXSBGb3JjZSB0byBzZW50IHJlcXVlc3QgYXN5bmNocm9ub3VzbHkuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHzCoGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9IFtvcHRpb25zLndhaXRpbmddIFRlbXBvcmFyeSBjb250ZW50IHRvIHVzZSB3aGlsZSB0aGUgYWpheCByZXF1ZXN0IGlzIGxvYWRpbmcuXG4gICAgICogQHJldHVybnMge3pvb219XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIGJhc2ljIHpvb20uXG4gICAgICogem9vbS5zaG93KCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTaG93cyBhIHpvb20gd2l0aCBuZXcgY29udGVudFxuICAgICAqIHpvb20uc2hvdygnU29tZSBuZXcgY29udGVudCBoZXJlIScpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2hvd3MgYSB6b29tIHdpdGggYSBuZXcgY29udGVudCB0aGF0IHdpbGwgYmUgbG9hZGVkIGJ5IGFqYXggd2l0aCBzb21lIGN1c3RvbSBvcHRpb25zXG4gICAgICogem9vbS5zaG93KCdodHRwOi8vZG9tYWluLmNvbS9hamF4L3VybCcsIHtcbiAgICAgKiAgICAgJ2NhY2hlJzogZmFsc2UsXG4gICAgICogICAgICdwYXJhbXMnOiAneC1yZXF1ZXN0PXRydWUnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIERvbid0IGV4ZWN1dGUgd2hlbiBpdCdzIGRpc2FibGVkXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCB8fCB0aGlzLl9zaG93bikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IGZlZWRiYWNrIGFuZCB0cmlnZ2VyIHRoZSBpbWFnZSBsb2FkLCBpZiBpdCdzIG5vdCBsb2FkZWRcbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuXyRsb2FkaW5nLnJlbW92ZUNsYXNzKCdjaC1oaWRlJyk7XG4gICAgICAgICAgICB0aGlzLmxvYWRJbWFnZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWxldGUgdGhlIExvYWRpbmcgYW5kIHNob3cgdGhlIFNlZWtlclxuICAgICAgICB0aGlzLl8kbG9hZGluZy5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fJHNlZWtlci5yZW1vdmVDbGFzcygnY2gtaGlkZScpO1xuXG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIG9yaWdpbmFsIHNob3coKVxuICAgICAgICBwYXJlbnQuc2hvdy5jYWxsKHRoaXMsIGNvbnRlbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgem9vbSBjb250YWluZXIgYW5kIHRoZSBTZWVrZXIuXG4gICAgICogQG1lbWJlcm9mISBjaC5ab29tLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHt6b29tfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ2xvc2UgYSB6b29tXG4gICAgICogem9vbS5oaWRlKCk7XG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zaG93bikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBleGVjdXRpb25cbiAgICAgICAgaWYgKCF0aGlzLl9sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuXyRsb2FkaW5nLmFkZENsYXNzKCdjaC1oaWRlJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuXyRzZWVrZXIuYWRkQ2xhc3MoJ2NoLWhpZGUnKTtcblxuICAgICAgICBwYXJlbnQuaGlkZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSB6b29tZWQgaW1hZ2Ugc291cmNlIHRvIHRoZSA8aW1nPiB0YWcgdG8gdHJpZ2dlciB0aGUgcmVxdWVzdC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlpvb20ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge3pvb219XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBMb2FkIHRoZSB6b29tZWQgaW1hZ2Ugb24gZGVtYW5kLlxuICAgICAqIGNvbXBvbmVudC5sb2FkSW1hZ2UoKTtcbiAgICAgKi9cbiAgICBab29tLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5fem9vbWVkLnNyYyA9IHRoaXMuX2VsLmhyZWY7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGEgWm9vbSBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlpvb20ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge3pvb219XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgem9vbVxuICAgICAqIHpvb20uZGVzdHJveSgpO1xuICAgICAqIC8vIEVtcHR5IHRoZSB6b29tIHJlZmVyZW5jZVxuICAgICAqIHpvb20gPSB1bmRlZmluZWQ7XG4gICAgICovXG4gICAgWm9vbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLl8kc2Vla2VyLnJlbW92ZSgpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBjaC5mYWN0b3J5KFpvb20sIHBhcmVudC5fbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG5cbihmdW5jdGlvbiAod2luZG93LCAkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnIHx8IGNoLnV0aWwuaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAnc2VsZWN0ZWQnOiBvcHRpb25zXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IGxldHMgeW91IG1vdmUgYWNyb3NzIHRoZSBtb250aHMgb2YgdGhlIHllYXIgYW5kIGFsbG93IHRvIHNldCBkYXRlcyBhcyBzZWxlY3RlZC5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5DYWxlbmRhci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXRdIFNldHMgdGhlIGRhdGUgZm9ybWF0LiBZb3UgbXVzdCB1c2UgXCJERC9NTS9ZWVlZXCIsIFwiTU0vREQvWVlZWVwiIG9yIFwiWVlZWS9NTS9ERFwiLiBEZWZhdWx0OiBcIkREL01NL1lZWVlcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2VsZWN0ZWRdIFNldHMgYSBkYXRlIHRoYXQgc2hvdWxkIGJlIHNlbGVjdGVkIGJ5IGRlZmF1bHQuIERlZmF1bHQ6IFRoZSBkYXRlIG9mIHRvZGF5LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mcm9tXSBTZXQgYSBtaW5pbXVtIHNlbGVjdGFibGUgZGF0ZS4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgWVlZWS9NTS9ERC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudG9dIFNldCBhIG1heGltdW0gc2VsZWN0YWJsZSBkYXRlLiBUaGUgZm9ybWF0IG9mIHRoZSBnaXZlbiBkYXRlIHNob3VsZCBiZSBZWVlZL01NL0RELlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1vbnRoc05hbWVzXSBBIGNvbGxlY3Rpb24gb2YgbW9udGhzIG5hbWVzLiBEZWZhdWx0OiBbXCJFbmVyb1wiLCAuLi4gLCBcIkRpY2llbWJyZVwiXS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy53ZWVrZGF5c10gQSBjb2xsZWN0aW9uIG9mIHdlZWtkYXlzLiBEZWZhdWx0OiBbXCJEb21cIiwgLi4uICwgXCJTYWJcIl0uXG4gICAgICogQHJldHVybnMge2NhbGVuZGFyfSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIENhbGVuZGFyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IENhbGVuZGFyLlxuICAgICAqIHZhciBjYWxlbmRhciA9IG5ldyBjaC5DYWxlbmRhcigkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQ2FsZW5kYXIgd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIGNhbGVuZGFyID0gJChzZWxlY3RvcikuY2FsZW5kYXIoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZXMgYSBuZXcgQ2FsZW5kYXIgd2l0aCBjdXN0b20gb3B0aW9ucy5cbiAgICAgKiB2YXIgY2FsZW5kYXIgPSAgJChzZWxlY3RvcikuY2FsZW5kYXIoe1xuICAgICAqICAgICAnZm9ybWF0JzogJ01NL0REL1lZWVknLFxuICAgICAqICAgICAnc2VsZWN0ZWQnOiAnMjAxMS8xMi8yNScsXG4gICAgICogICAgICdmcm9tJzogJzIwMTAvMTIvMjUnLFxuICAgICAqICAgICAndG8nOiAnMjAxMi8xMi8yNScsXG4gICAgICogICAgICdtb250aHNOYW1lcyc6IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgICAgKiAgICAgJ3dlZWtkYXlzJzogWydTdScsICdNbycsICdUdScsICdXZScsICdUaHUnLCAnRnInLCAnU2EnXVxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlcyBhIG5ldyBDYWxlbmRhciB1c2luZyBhIHNob3J0aGFuZCB3YXkgKHNlbGVjdGVkIGRhdGUgYXMgcGFyYW1ldGVyKS5cbiAgICAgKiB2YXIgY2FsZW5kYXIgPSAkKHNlbGVjdG9yKS5jYWxlbmRhcignMjAxMS8xMi8yNScpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhbGVuZGFyKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgQ2FsZW5kYXIgaXMgY3JlYXRlZC5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiEgY2guQ2FsZW5kYXIucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2FsZW5kYXIjcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogY2FsZW5kYXIub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZXMgd2l0aCB6ZXJvIHRoZSBudW1iZXJzIGxlc3MgdGhhbiAxMC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgdmFyIGFkZFplcm8gPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgICAgICByZXR1cm4gKHBhcnNlSW50KG51bSwgMTApIDwgMTApID8gJzAnICsgbnVtIDogbnVtO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgZGF0ZSBmb3JtYXRzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgRk9STUFUX2RhdGVzID0ge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnZlcnRzIGEgZ2l2ZW4gZGF0ZSB0byBcIllZWVkvTU0vRERcIiBmb3JtYXQuXG4gICAgICAgICAgICAgKiBAcGFyYW1zIHtEYXRlfSBkYXRlIEEgZ2l2ZW4gZGF0ZSB0byBjb252ZXJ0LlxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnWVlZWS9NTS9ERCc6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtkYXRlLnllYXIsIGFkZFplcm8oZGF0ZS5tb250aCksIGFkZFplcm8oZGF0ZS5kYXkpXS5qb2luKCcvJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnZlcnRzIGEgZ2l2ZW4gZGF0ZSB0byBcIkREL01NL1lZWVlcIiBmb3JtYXQuXG4gICAgICAgICAgICAgKiBAcGFyYW1zIHtEYXRlfSBkYXRlIEEgZ2l2ZW4gZGF0ZSB0byBjb252ZXJ0LlxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnREQvTU0vWVlZWSc6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRaZXJvKGRhdGUuZGF5KSwgYWRkWmVybyhkYXRlLm1vbnRoKSwgZGF0ZS55ZWFyXS5qb2luKCcvJyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnZlcnRzIGEgZ2l2ZW4gZGF0ZSB0byBcIk1NL0REL1lZWVlcIiBmb3JtYXQuXG4gICAgICAgICAgICAgKiBAcGFyYW1zIHtEYXRlfSBkYXRlIEEgZ2l2ZW4gZGF0ZSB0byBjb252ZXJ0LlxuICAgICAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnTU0vREQvWVlZWSc6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFthZGRaZXJvKGRhdGUubW9udGgpLCBhZGRaZXJvKGRhdGUuZGF5KSwgZGF0ZS55ZWFyXS5qb2luKCcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSBKU09OIE9iamVjdCB3aXRoIHJlZmVyZW5jZSB0byBkYXksIG1vbnRoIGFuZCB5ZWFyLCBmcm9tIGEgZGV0ZXJtaW5hdGVkIGRhdGUuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRGF0ZU9iamVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG5cbiAgICAgICAgICAgIC8vIFVzZXMgZGF0ZSBwYXJhbWV0ZXIgb3IgY3JlYXRlIGEgZGF0ZSBmcm9tIHRvZGF5XG4gICAgICAgICAgICBkYXRlID0gKGRhdGUgPT09ICd0b2RheScpID8gbmV3IERhdGUoKSA6IG5ldyBEYXRlKGRhdGUpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHVybmVkIGN1c3RvbSBEYXRlIG9iamVjdC5cbiAgICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVmZXJlbmNlIHRvIG5hdGl2ZSBEYXRlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7RGF0ZX1cbiAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICduYXRpdmUnOiBkYXRlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTnVtYmVyIG9mIGRheS5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJ2RheSc6IGRhdGUuZ2V0RGF0ZSgpLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogT3JkZXIgb2YgZGF5IGluIGEgd2Vlay5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJ29yZGVyJzogZGF0ZS5nZXREYXkoKSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIE51bWJlciBvZiBtb250aC5cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgJ21vbnRoJzogZGF0ZS5nZXRNb250aCgpICsgMSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIE51bWJlciBvZiBmdWxsIHllYXIuXG4gICAgICAgICAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICd5ZWFyJzogZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wbGF0ZXMgb2YgYXJyb3dzIHRvIG1vdmUgYXJvdW5kIG1vbnRocy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGFycm93cyA9IHtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZW1wbGF0ZSBvZiBwcmV2aW91cyBhcnJvdy5cbiAgICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICdwcmV2JzogJzxkaXYgY2xhc3M9XCJjaC1jYWxlbmRhci1wcmV2XCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGlkZGVuPVwiZmFsc2VcIj48L2Rpdj4nLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRlbXBsYXRlIG9mIG5leHQgYXJyb3cuXG4gICAgICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAnbmV4dCc6ICc8ZGl2IGNsYXNzPVwiY2gtY2FsZW5kYXItbmV4dFwiIHJvbGU9XCJidXR0b25cIiBhcmlhLWhpZGRlbj1cImZhbHNlXCI+PC9kaXY+J1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEluaGVyaXRhbmNlXG4gICAgICAgIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoQ2FsZW5kYXIsIGNoLkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2FsZW5kYXIucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIGNhbGVuZGFyID0gJChzZWxlY3RvcikuZGF0YSgnY2FsZW5kYXInKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUubmFtZSA9ICdjYWxlbmRhcic7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhbGVuZGFyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbGVuZGFyO1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJhdGlvbiBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX2RlZmF1bHRzID0ge1xuICAgICAgICAnbW9udGhzTmFtZXMnOiBbJ0VuZXJvJywgJ0ZlYnJlcm8nLCAnTWFyem8nLCAnQWJyaWwnLCAnTWF5bycsICdKdW5pbycsICdKdWxpbycsICdBZ29zdG8nLCAnU2VwdGllbWJyZScsICdPY3R1YnJlJywgJ05vdmllbWJyZScsICdEaWNpZW1icmUnXSxcbiAgICAgICAgJ3dlZWtkYXlzJzogWydEb20nLCAnTHVuJywgJ01hcicsICdNaWUnLCAnSnVlJywgJ1ZpZScsICdTYWInXSxcbiAgICAgICAgJ2Zvcm1hdCc6ICdERC9NTS9ZWVlZJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIENhbGVuZGFyIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYWxlbmRhci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtjYWxlbmRhcn1cbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENhbGwgdG8gaXRzIHBhcmVudCBpbml0IG1ldGhvZFxuICAgICAgICBwYXJlbnQuX2luaXQuY2FsbCh0aGlzLCAkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAvLyBjbG9uZU5vZGUodHJ1ZSkgPiBwYXJhbWV0ZXJzIGlzIHJlcXVpcmVkLiBPcGVyYSAmIElFIHRocm93cyBhbmQgaW50ZXJuYWwgZXJyb3IuIE9wZXJhIG1vYmlsZSBicmVha3MuXG4gICAgICAgIHRoaXMuX3NuaXBwZXQgPSB0aGlzLl9lbC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9iamVjdCB0byBtYW5nZSB0aGUgZGF0ZSBhbmQgaXRzIHJhbmdlcy5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RhdGVzID0ge1xuICAgICAgICAgICAgJ3JhbmdlJzoge31cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9kYXRlcy50b2RheSA9IGNyZWF0ZURhdGVPYmplY3QoJ3RvZGF5Jyk7XG5cbiAgICAgICAgdGhpcy5fZGF0ZXMuY3VycmVudCA9IHRoaXMuX2RhdGVzLnRvZGF5O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRlIG9mIHNlbGVjdGVkIGRheS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RhdGVzLnNlbGVjdGVkID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gR2V0IGRhdGUgZnJvbSBjb25maWd1cmF0aW9uIG9yIGlucHV0IHZhbHVlLCBpZiBjb25maWd1cmVkIGNvdWxkIGJlIGFuIEFycmF5IHdpdGggbXVsdGlwbGUgc2VsZWN0aW9uc1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhhdC5fb3B0aW9ucy5zZWxlY3RlZDtcblxuICAgICAgICAgICAgLy8gRG8gaXQgb25seSBpZiB0aGVyZSBhcmUgYSBcInNlbGVjdGVkXCIgcGFyYW1ldGVyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkKSB7IHJldHVybiBzZWxlY3RlZDsgfVxuXG4gICAgICAgICAgICAvLyBTaW1wbGUgZGF0ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICghY2gudXRpbC5pc0FycmF5KHNlbGVjdGVkKSnCoHtcblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZCAhPT0gJ3RvZGF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZGF0ZSBvYmplY3QgYW5kIHVwZGF0ZSBjdXJyZW50RGF0ZVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRoYXQuX2RhdGVzLmN1cnJlbnQgPSBjcmVhdGVEYXRlT2JqZWN0KHNlbGVjdGVkKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdGhhdC5fZGF0ZXMudG9kYXk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNdWx0aXBsZSBkYXRlIHNlbGVjdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmVhY2goc2VsZWN0ZWQsIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBkYXRlXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2gudXRpbC5pc0FycmF5KGUpKcKge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRbaV0gPSAoc2VsZWN0ZWRbaV0gIT09ICd0b2RheScpID8gY3JlYXRlRGF0ZU9iamVjdChlKSA6IHRoYXQuX2RhdGVzLnRvZGF5O1xuICAgICAgICAgICAgICAgICAgICAvLyBSYW5nZVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRbaV1bMF0gPSAoc2VsZWN0ZWRbaV1bMF0gIT09ICd0b2RheScpID8gY3JlYXRlRGF0ZU9iamVjdChlWzBdKSA6IHRoYXQuX2RhdGVzLnRvZGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRbaV1bMV0gPSAoc2VsZWN0ZWRbaV1bMV0gIT09ICd0b2RheScpID8gY3JlYXRlRGF0ZU9iamVjdChlWzFdKSA6IHRoYXQuX2RhdGVzLnRvZGF5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICAgICAgfSgpKTtcblxuICAgICAgICAvLyBUb2RheSdzIGRhdGUgb2JqZWN0XG4gICAgICAgIHRoaXMuX2RhdGVzLnRvZGF5ID0gY3JlYXRlRGF0ZU9iamVjdCgndG9kYXknKTtcblxuICAgICAgICAvLyBNaW5pbXVtIHNlbGVjdGFibGUgZGF0ZVxuICAgICAgICB0aGlzLl9kYXRlcy5yYW5nZS5mcm9tID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gT25seSB3b3JrcyB3aGVuIHRoZXJlIGFyZSBhIFwiZnJvbVwiIHBhcmFtZXRlciBvbiBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICBpZiAodGhhdC5fb3B0aW9ucy5mcm9tID09PSB1bmRlZmluZWQgfHwgIXRoYXQuX29wdGlvbnMuZnJvbSkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIGRhdGUgb2JqZWN0XG4gICAgICAgICAgICByZXR1cm4gKHRoYXQuX29wdGlvbnMuZnJvbSA9PT0gJ3RvZGF5JykgPyB0aGF0Ll9kYXRlcy50b2RheSA6IGNyZWF0ZURhdGVPYmplY3QodGhhdC5fb3B0aW9ucy5mcm9tKTtcblxuICAgICAgICB9KCkpO1xuXG4gICAgICAgIC8vIE1heGltdW0gc2VsZWN0YWJsZSBkYXRlXG4gICAgICAgIHRoaXMuX2RhdGVzLnJhbmdlLnRvID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgLy8gT25seSB3b3JrcyB3aGVuIHRoZXJlIGFyZSBhIFwidG9cIiBwYXJhbWV0ZXIgb24gY29uZmlndXJhdGlvblxuICAgICAgICAgICAgaWYgKHRoYXQuX29wdGlvbnMudG8gPT09IHVuZGVmaW5lZCB8fCAhdGhhdC5fb3B0aW9ucy50bykgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIGRhdGUgb2JqZWN0XG4gICAgICAgICAgICByZXR1cm4gKHRoYXQuX29wdGlvbnMudG8gPT09ICd0b2RheScpID8gdGhhdC5fZGF0ZXMudG9kYXkgOiBjcmVhdGVEYXRlT2JqZWN0KHRoYXQuX29wdGlvbnMudG8pO1xuXG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgLy8gU2hvdyBvciBoaWRlIGFycm93cyBkZXBlbmRpbmcgb24gXCJmcm9tXCIgYW5kIFwidG9cIiBsaW1pdHNcbiAgICAgICAgdGhpcy5fJHByZXYgPSAkKGFycm93cy5wcmV2KS5hdHRyKCdhcmlhLWNvbnRyb2xzJywgJ2NoLWNhbGVuZGFyLWdyaWQtJyArIHRoaXMudWlkKS5vbihjaC5vbnBvaW50ZXJ0YXAgKyAnLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uIChldmVudCkgeyBjaC51dGlsLnByZXZlbnQoZXZlbnQpOyB0aGF0LnByZXZNb250aCgpOyB9KTtcbiAgICAgICAgdGhpcy5fJG5leHQgPSAkKGFycm93cy5uZXh0KS5hdHRyKCdhcmlhLWNvbnRyb2xzJywgJ2NoLWNhbGVuZGFyLWdyaWQtJyArIHRoaXMudWlkKS5vbihjaC5vbnBvaW50ZXJ0YXAgKyAnLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uIChldmVudCkgeyBjaC51dGlsLnByZXZlbnQoZXZlbnQpOyB0aGF0Lm5leHRNb250aCgpOyB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbGVuZGFyIGNvbnRhaW5lci5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy5fJGVsXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoLWNhbGVuZGFyJylcbiAgICAgICAgICAgIC5wcmVwZW5kKHRoaXMuXyRwcmV2KVxuICAgICAgICAgICAgLnByZXBlbmQodGhpcy5fJG5leHQpXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMuX2NyZWF0ZVRlbXBsYXRlKHRoaXMuX2RhdGVzLmN1cnJlbnQpKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVDb250cm9scygpO1xuXG4gICAgICAgIC8vIEF2b2lkIHNlbGVjdGlvbiBvbiB0aGUgY29tcG9uZW50XG4gICAgICAgIGNoLnV0aWwuYXZvaWRUZXh0U2VsZWN0aW9uKHRoYXQuJGNvbnRhaW5lcik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBpdCBoYXMgZ290IGEgcHJldmlvdXMgbW9udGggdG8gc2hvdyBkZXBlbmRpbmcgb24gXCJmcm9tXCIgbGltaXQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX2hhc1ByZXZNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGVzLnJhbmdlLmZyb20gPT09IHVuZGVmaW5lZCB8fCAhKHRoaXMuX2RhdGVzLnJhbmdlLmZyb20ubW9udGggPj0gdGhpcy5fZGF0ZXMuY3VycmVudC5tb250aCAmJiB0aGlzLl9kYXRlcy5yYW5nZS5mcm9tLnllYXIgPj0gdGhpcy5fZGF0ZXMuY3VycmVudC55ZWFyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGl0IGhhcyBnb3QgYSBuZXh0IG1vbnRoIHRvIHNob3cgZGVwZW5kaW5nIG9uIFwidG9cIiBsaW1pdHMuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX2hhc05leHRNb250aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGVzLnJhbmdlLnRvID09PSB1bmRlZmluZWQgfHwgISh0aGlzLl9kYXRlcy5yYW5nZS50by5tb250aCA8PSB0aGlzLl9kYXRlcy5jdXJyZW50Lm1vbnRoICYmIHRoaXMuX2RhdGVzLnJhbmdlLnRvLnllYXIgPD0gdGhpcy5fZGF0ZXMuY3VycmVudC55ZWFyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBhcnJvd3MgdmlzaWJpbGl0eSBkZXBlbmRpbmcgb24gXCJmcm9tXCIgYW5kIFwidG9cIiBsaW1pdHMuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX3VwZGF0ZUNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIFNob3cgcHJldmlvdXMgYXJyb3cgd2hlbiBpdCdzIG91dCBvZiBsaW1pdFxuICAgICAgICBpZiAodGhpcy5faGFzUHJldk1vbnRoKCkpIHtcbiAgICAgICAgICAgIHRoaXMuXyRwcmV2LnJlbW92ZUNsYXNzKCdjaC1oaWRlJykuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAvLyBIaWRlIHByZXZpb3VzIGFycm93IHdoZW4gaXQncyBvdXQgb2YgbGltaXRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRwcmV2LmFkZENsYXNzKCdjaC1oaWRlJykuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBuZXh0IGFycm93IHdoZW4gaXQncyBvdXQgb2YgbGltaXRcbiAgICAgICAgaWYgKHRoaXMuX2hhc05leHRNb250aCgpKSB7XG4gICAgICAgICAgICB0aGlzLl8kbmV4dC5yZW1vdmVDbGFzcygnY2gtaGlkZScpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgLy8gSGlkZSBuZXh0IGFycm93IHdoZW4gaXQncyBvdXQgb2YgbGltaXRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRuZXh0LmFkZENsYXNzKCdjaC1oaWRlJykuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggdGhlIHN0cnVjdHVyZSBvZiBDYWxlbmRhcidzIHRhYmxlIHdpdGggYSBuZXcgZGF0ZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5fdXBkYXRlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAvLyBVcGRhdGUgXCJjdXJyZW50RGF0ZVwiIG9iamVjdFxuICAgICAgICB0aGlzLl9kYXRlcy5jdXJyZW50ID0gKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykgPyBjcmVhdGVEYXRlT2JqZWN0KGRhdGUpIDogZGF0ZTtcblxuICAgICAgICAvLyBEZWxldGUgb2xkIHRhYmxlXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5jaGlsZHJlbigndGFibGUnKS5yZW1vdmUoKTtcblxuICAgICAgICAvLyBBcHBlbmQgbmV3IHRhYmxlIHRvIGNvbnRlbnRcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCh0aGlzLl9jcmVhdGVUZW1wbGF0ZSh0aGlzLl9kYXRlcy5jdXJyZW50KSk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBhcnJvd3NcbiAgICAgICAgdGhpcy5fdXBkYXRlQ29udHJvbHMoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBsZXRlIG1vbnRoIGluIGEgdGFibGUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuX2NyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBjZWxsLFxuICAgICAgICAgICAgcG9zaXRpdmUsXG4gICAgICAgICAgICBkYXksXG4gICAgICAgICAgICBpc1NlbGVjdGVkLFxuICAgICAgICAgICAgdGhlYWQgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZWFkIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIHZhciB0ID0gWyc8dGhlYWQ+PHRyIHJvbGU9XCJyb3dcIj4nXSxcbiAgICAgICAgICAgICAgICAgICAgZGF5SW5kZXg7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgd2VlayBuYW1lc1xuICAgICAgICAgICAgICAgIGZvciAoZGF5SW5kZXggPSAwOyBkYXlJbmRleCA8IDc7IGRheUluZGV4ICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKCc8dGggcm9sZT1cImNvbHVtbmhlYWRlclwiPicgKyB0aGF0Ll9kZWZhdWx0cy53ZWVrZGF5c1tkYXlJbmRleF0gKyAnPC90aD4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDbG9zZSB0aGVhZCBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICB0LnB1c2goJzwvdHI+PC90aGVhZD4nKTtcblxuICAgICAgICAgICAgICAgIC8vIEpvaW4gc3RydWN0dXJlIGFuZCByZXR1cm5cbiAgICAgICAgICAgICAgICByZXR1cm4gdC5qb2luKCcnKTtcblxuICAgICAgICAgICAgfSgpKSxcblxuICAgICAgICAgICAgdGFibGUgPSBbXG4gICAgICAgICAgICAgICAgJzx0YWJsZSBjbGFzcz1cImNoLWNhbGVuZGFyLW1vbnRoXCIgcm9sZT1cImdyaWRcIiBpZD1cImNoLWNhbGVuZGFyLWdyaWQtJyArIHRoYXQudWlkICsgJ1wiPicsXG4gICAgICAgICAgICAgICAgJzxjYXB0aW9uPicgKyB0aGF0Ll9kZWZhdWx0cy5tb250aHNOYW1lc1tkYXRlLm1vbnRoIC0gMV0gKyAnIC0gJyArIGRhdGUueWVhciArICc8L2NhcHRpb24+JyxcbiAgICAgICAgICAgICAgICB0aGVhZFxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgLy8gVG90YWwgYW1vdW50IG9mIGRheXMgaW50byBtb250aFxuICAgICAgICAgICAgY2VsbHMgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gQW1vdW50IG9mIGRheXMgb2YgY3VycmVudCBtb250aFxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSBuZXcgRGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIDApLmdldERhdGUoKSxcblxuICAgICAgICAgICAgICAgIC8vIEFtb3VudCBvZiBkYXlzIG9mIHByZXZpb3VzIG1vbnRoXG4gICAgICAgICAgICAgICAgICAgIHByZXZNb250aCA9IG5ldyBEYXRlKFtkYXRlLnllYXIsIGRhdGUubW9udGgsICcwMSddLmpvaW4oJy8nKSkuZ2V0RGF5KCksXG5cbiAgICAgICAgICAgICAgICAvLyBNZXJnZSBhbW91bnQgb2YgcHJldmlvdXMgYW5kIGN1cnJlbnQgbW9udGhcbiAgICAgICAgICAgICAgICAgICAgc3VidG90YWwgPSBwcmV2TW9udGggKyBjdXJyZW50TW9udGgsXG5cbiAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGF5cyBpbnRvIGxhc3Qgd2VlayBvZiBtb250aFxuICAgICAgICAgICAgICAgICAgICBsYXRlc3QgPSBzdWJ0b3RhbCAlIDcsXG5cbiAgICAgICAgICAgICAgICAvLyBBbW91bnQgb2YgZGF5cyBvZiBuZXh0IG1vbnRoXG4gICAgICAgICAgICAgICAgICAgIG5leHRNb250aCA9IChsYXRlc3QgPiAwKSA/IDcgLSBsYXRlc3QgOiAwO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJ3ByZXZpb3VzJzogcHJldk1vbnRoLFxuICAgICAgICAgICAgICAgICAgICAnc3VidG90YWwnOiBzdWJ0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgJ3RvdGFsJzogc3VidG90YWwgKyBuZXh0TW9udGhcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9KCkpO1xuXG4gICAgICAgIHRhYmxlLnB1c2goJzx0Ym9keT48dHIgY2xhc3M9XCJjaC1jYWxlbmRhci13ZWVrXCIgcm9sZT1cInJvd1wiPicpO1xuXG4gICAgICAgIC8vIEl0ZXJhdGlvbiBvZiB3ZWVrZGF5c1xuICAgICAgICBmb3IgKGNlbGwgPSAwOyBjZWxsIDwgY2VsbHMudG90YWw7IGNlbGwgKz0gMSkge1xuXG4gICAgICAgICAgICAvLyBQdXNoIGFuIGVtcHR5IGNlbGwgb24gcHJldmlvdXMgYW5kIG5leHQgbW9udGhcbiAgICAgICAgICAgIGlmIChjZWxsIDwgY2VsbHMucHJldmlvdXMgfHwgY2VsbCA+IGNlbGxzLnN1YnRvdGFsIC0gMSkge1xuICAgICAgICAgICAgICAgIHRhYmxlLnB1c2goJzx0ZCByb2xlPVwiZ3JpZGNlbGxcIiBjbGFzcz1cImNoLWNhbGVuZGFyLW90aGVyXCI+WDwvdGQ+Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgLy8gUG9zaXRpdmUgbnVtYmVyIG9mIGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgIHBvc2l0aXZlID0gY2VsbCArIDE7XG5cbiAgICAgICAgICAgICAgICAvLyBEYXkgbnVtYmVyXG4gICAgICAgICAgICAgICAgZGF5ID0gcG9zaXRpdmUgLSBjZWxscy5wcmV2aW91cztcblxuICAgICAgICAgICAgICAgIC8vIERlZmluZSBpZiBpdCdzIHRoZSBkYXkgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gdGhpcy5faXNTZWxlY3RlZChkYXRlLnllYXIsIGRhdGUubW9udGgsIGRheSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgY2VsbFxuICAgICAgICAgICAgICAgIHRhYmxlLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gY2VsbCBzdHJ1Y3R1cmUgaW5jbHVkaW5nIFdBSS1BUklBIGFuZCBjbGFzc25hbWVzIHNwYWNlIG9wZW5pbmdcbiAgICAgICAgICAgICAgICAgICAgJzx0ZCByb2xlPVwiZ3JpZGNlbGxcIicgKyAoaXNTZWxlY3RlZCA/ICcgYXJpYS1zZWxlY3RlZD1cInRydWVcIicgOiAnJykgKyAnIGNsYXNzPVwiY2gtY2FsZW5kYXItZGF5JyxcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgVG9kYXkgY2xhc3NuYW1lIGlmIGl0J3MgbmVjZXNhcnlcbiAgICAgICAgICAgICAgICAgICAgKGRhdGUueWVhciA9PT0gdGhhdC5fZGF0ZXMudG9kYXkueWVhciAmJiBkYXRlLm1vbnRoID09PSB0aGF0Ll9kYXRlcy50b2RheS5tb250aCAmJiBkYXkgPT09IHRoYXQuX2RhdGVzLnRvZGF5LmRheSkgPyAnIGNoLWNhbGVuZGFyLXRvZGF5JyA6IG51bGwsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIFNlbGVjdGVkIGNsYXNzbmFtZSBpZiBpdCdzIG5lY2VzYXJ5XG4gICAgICAgICAgICAgICAgICAgIChpc1NlbGVjdGVkID8gJyBjaC1jYWxlbmRhci1zZWxlY3RlZCAnIDogbnVsbCksXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRnJvbS90byByYW5nZS4gRGlzYWJsaW5nIGNlbGxzXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2FibGUgY2VsbCBpZiBpdCdzIG91dCBvZiBGUk9NIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhhdC5fZGF0ZXMucmFuZ2UuZnJvbSAmJiBkYXkgPCB0aGF0Ll9kYXRlcy5yYW5nZS5mcm9tLmRheSAmJiBkYXRlLm1vbnRoID09PSB0aGF0Ll9kYXRlcy5yYW5nZS5mcm9tLm1vbnRoICYmIGRhdGUueWVhciA9PT0gdGhhdC5fZGF0ZXMucmFuZ2UuZnJvbS55ZWFyKSB8fFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGNlbGwgaWYgaXQncyBvdXQgb2YgVE8gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGF0Ll9kYXRlcy5yYW5nZS50byAmJiBkYXkgPiB0aGF0Ll9kYXRlcy5yYW5nZS50by5kYXkgJiYgZGF0ZS5tb250aCA9PT0gdGhhdC5fZGF0ZXMucmFuZ2UudG8ubW9udGggJiYgZGF0ZS55ZWFyID09PSB0aGF0Ll9kYXRlcy5yYW5nZS50by55ZWFyKVxuXG4gICAgICAgICAgICAgICAgICAgICkgPyAnIGNoLWNhbGVuZGFyLWRpc2FibGVkJyA6IG51bGwsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgY2xhc3NuYW1lcyBhdHRyaWJ1dGUgYW5kIHByaW50IGNvbnRlbnQgY2xvc2luZyBjZWxsIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICAnXCI+JyArIGRheSArICc8L3RkPidcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3V0IHdlZWsgaWYgdGhlcmUgYXJlIHNldmVuIGRheXNcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpdmUgJSA3ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnB1c2goJzwvdHI+PHRyIGNsYXNzPVwiY2gtY2FsZW5kYXItd2Vla1wiIHJvbGU9XCJyb3dcIj4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgdGFibGUucHVzaCgnPC90cj48L3Rib2R5PjwvdGFibGU+Jyk7XG5cbiAgICAgICAgLy8gUmV0dXJuIHRhYmxlIG9iamVjdFxuICAgICAgICByZXR1cm4gdGFibGUuam9pbignJyk7XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgZ2l2ZW4gZGF0ZSBpcyBpbnRvICdmcm9tJyBhbmQgJ3RvJyBkYXRlcy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5faXNJblJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgdmFyIGluUmFuZ2VGcm9tID0gdHJ1ZSxcbiAgICAgICAgICAgIGluUmFuZ2VUbyA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGVzLnJhbmdlLmZyb20pIHtcbiAgICAgICAgICAgIGluUmFuZ2VGcm9tID0gKHRoaXMuX2RhdGVzLnJhbmdlLmZyb20ubmF0aXZlIDw9IGRhdGUubmF0aXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9kYXRlcy5yYW5nZS50bykge1xuICAgICAgICAgICAgaW5SYW5nZVRvID0gKHRoaXMuX2RhdGVzLnJhbmdlLnRvLm5hdGl2ZSA+PSBkYXRlLm5hdGl2ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5SYW5nZUZyb20gJiYgaW5SYW5nZVRvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgYW4gc3BlY2lmaWMgZGF0ZSBpcyBzZWxlY3RlZCBvciBub3QgKGluY2x1ZGluZyBkYXRlIHJhbmdlcyBhbmQgc2ltcGxlIGRhdGVzKS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5faXNTZWxlY3RlZCA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCwgZGF5KSB7XG4gICAgICAgIHZhciB5ZXBub3BlO1xuXG4gICAgICAgIGlmICghdGhpcy5fZGF0ZXMuc2VsZWN0ZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgeWVwbm9wZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFNpbXBsZSBzZWxlY3Rpb25cbiAgICAgICAgaWYgKCFjaC51dGlsLmlzQXJyYXkodGhpcy5fZGF0ZXMuc2VsZWN0ZWQpKSB7XG4gICAgICAgICAgICBpZiAoeWVhciA9PT0gdGhpcy5fZGF0ZXMuc2VsZWN0ZWQueWVhciAmJiBtb250aCA9PT0gdGhpcy5fZGF0ZXMuc2VsZWN0ZWQubW9udGggJiYgZGF5ID09PSB0aGlzLl9kYXRlcy5zZWxlY3RlZC5kYXkpIHtcbiAgICAgICAgICAgICAgICB5ZXBub3BlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4geWVwbm9wZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAvLyBNdWx0aXBsZSBzZWxlY3Rpb24gKHJhbmdlcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9kYXRlcy5zZWxlY3RlZCwgZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICAvLyBTaW1wbGUgZGF0ZVxuICAgICAgICAgICAgICAgIGlmICghY2gudXRpbC5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyID09PSBlLnllYXIgJiYgbW9udGggPT09IGUubW9udGggJiYgZGF5ID09PSBlLmRheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVwbm9wZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWVwbm9wZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJhbmdlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHllYXIgPj0gZVswXS55ZWFyICYmIG1vbnRoID49IGVbMF0ubW9udGggJiYgZGF5ID49IGVbMF0uZGF5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh5ZWFyIDw9IGVbMV0ueWVhciAmJiBtb250aCA8PSBlWzFdLm1vbnRoICYmIGRheSA8PSBlWzFdLmRheSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXBub3BlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5ZXBub3BlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geWVwbm9wZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIHNwZWNpZmljIGRhdGUgb3IgcmV0dXJucyB0aGUgc2VsZWN0ZWQgZGF0ZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhbGVuZGFyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbZGF0ZV0gQSBnaXZlbiBkYXRlIHRvIHNlbGVjdC4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgXCJZWVlZL01NL0REXCIuXG4gICAgICogQHJldHVybnMge2NhbGVuZGFyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gUmV0dXJucyB0aGUgc2VsZWN0ZWQgZGF0ZS5cbiAgICAgKiBjYWxlbmRhci5zZWxlY3QoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNlbGVjdCBhIHNwZWNpZmljIGRhdGUuXG4gICAgICogY2FsZW5kYXIuc2VsZWN0KCcyMDE0LzA1LzI4Jyk7XG4gICAgICovXG4gICAgQ2FsZW5kYXIucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIC8vIEdldHRlclxuICAgICAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXRlcy5zZWxlY3RlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEZPUk1BVF9kYXRlc1t0aGlzLl9vcHRpb25zLmZvcm1hdF0odGhpcy5fZGF0ZXMuc2VsZWN0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0dGVyXG4gICAgICAgIHZhciBuZXdEYXRlID0gY3JlYXRlRGF0ZU9iamVjdChkYXRlKTtcblxuXG4gICAgICAgIGlmICghdGhpcy5faXNJblJhbmdlKG5ld0RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBkYXRlXG4gICAgICAgIHRoaXMuX2RhdGVzLnNlbGVjdGVkID0gKGRhdGUgPT09ICd0b2RheScpID8gdGhpcy5fZGF0ZXMudG9kYXkgOiBuZXdEYXRlO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyB0YWJsZSBvZiBzZWxlY3RlZCBtb250aFxuICAgICAgICB0aGlzLl91cGRhdGVUZW1wbGF0ZSh0aGlzLl9kYXRlcy5zZWxlY3RlZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiBhIGRhdGUgaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqIEBldmVudCBjaC5DYWxlbmRhciNzZWxlY3RcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwic2VsZWN0XCIgZXZlbnQuXG4gICAgICAgICAqIGNhbGVuZGFyLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRhdGUgb2YgdG9kYXlcbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhbGVuZGFyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBkYXRlIG9mIHRvZGF5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgdGhlIGRhdGUgb2YgdG9kYXkuXG4gICAgICogdmFyIHRvZGF5ID0gY2FsZW5kYXIuZ2V0VG9kYXkoKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuZ2V0VG9kYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBGT1JNQVRfZGF0ZXNbdGhpcy5fb3B0aW9ucy5mb3JtYXRdKHRoaXMuX2RhdGVzLnRvZGF5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdG8gdGhlIG5leHQgbW9udGguXG4gICAgICogQG1lbWJlcm9mISBjaC5DYWxlbmRhci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Y2FsZW5kYXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBNb3ZlcyB0byB0aGUgbmV4dCBtb250aC5cbiAgICAgKiBjYWxlbmRhci5uZXh0TW9udGgoKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUubmV4dE1vbnRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQgfHzCoCF0aGlzLl9oYXNOZXh0TW9udGgoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOZXh0IHllYXJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGVzLmN1cnJlbnQubW9udGggPT09IDEyKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcy5jdXJyZW50Lm1vbnRoID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVzLmN1cnJlbnQueWVhciArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRhYmxlIG9mIHNlbGVjdGVkIG1vbnRoXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKFt0aGlzLl9kYXRlcy5jdXJyZW50LnllYXIsIHRoaXMuX2RhdGVzLmN1cnJlbnQubW9udGggKyAxLCAnMDEnXS5qb2luKCcvJykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBuZXh0IG1vbnRoIGlzIHNob3duLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2FsZW5kYXIjbmV4dG1vbnRoXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcIm5leHRtb250aFwiIGV2ZW50LlxuICAgICAgICAgKiBjYWxlbmRhci5vbignbmV4dG1vbnRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCduZXh0bW9udGgnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZSB0byB0aGUgcHJldmlvdXMgbW9udGguXG4gICAgICogQG1lbWJlcm9mISBjaC5DYWxlbmRhci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Y2FsZW5kYXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBNb3ZlcyB0byB0aGUgcHJldiBtb250aC5cbiAgICAgKiBjYWxlbmRhci5wcmV2TW9udGgoKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUucHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCB8fMKgIXRoaXMuX2hhc1ByZXZNb250aCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZXZpb3VzIHllYXJcbiAgICAgICAgaWYgKHRoaXMuX2RhdGVzLmN1cnJlbnQubW9udGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVzLmN1cnJlbnQubW9udGggPSAxMztcbiAgICAgICAgICAgIHRoaXMuX2RhdGVzLmN1cnJlbnQueWVhciAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRhYmxlIHRvIHRoZSBwcmV2IG1vbnRoXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKFt0aGlzLl9kYXRlcy5jdXJyZW50LnllYXIsIHRoaXMuX2RhdGVzLmN1cnJlbnQubW9udGggLSAxLCAnMDEnXS5qb2luKCcvJykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBwcmV2aW91cyBtb250aCBpcyBzaG93bi5cbiAgICAgICAgICogQGV2ZW50IGNoLkNhbGVuZGFyI3ByZXZtb250aFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJwcmV2bW9udGhcIiBldmVudC5cbiAgICAgICAgICogY2FsZW5kYXIub24oJ3ByZXZtb250aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncHJldm1vbnRoJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdG8gdGhlIG5leHQgeWVhci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhbGVuZGFyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjYWxlbmRhcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIE1vdmVzIHRvIHRoZSBuZXh0IHllYXIuXG4gICAgICogY2FsZW5kYXIubmV4dFllYXIoKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUubmV4dFllYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkIHx8wqAhdGhpcy5faGFzTmV4dE1vbnRoKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHRhYmxlIG9mIHNlbGVjdGVkIG1vbnRoXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKFt0aGlzLl9kYXRlcy5jdXJyZW50LnllYXIgKyAxLCB0aGlzLl9kYXRlcy5jdXJyZW50Lm1vbnRoLCAnMDEnXS5qb2luKCcvJykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBuZXh0IHllYXIgaXMgc2hvd24uXG4gICAgICAgICAqIEBldmVudCBjaC5DYWxlbmRhciNuZXh0eWVhclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJuZXh0eWVhclwiIGV2ZW50LlxuICAgICAgICAgKiBjYWxlbmRhci5vbignbmV4dHllYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ25leHR5ZWFyJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdG8gdGhlIHByZXZpb3VzIHllYXIuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYWxlbmRhci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Y2FsZW5kYXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBNb3ZlcyB0byB0aGUgcHJldiB5ZWFyLlxuICAgICAqIGNhbGVuZGFyLnByZXZZZWFyKCk7XG4gICAgICovXG4gICAgQ2FsZW5kYXIucHJvdG90eXBlLnByZXZZZWFyID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCB8fMKgIXRoaXMuX2hhc1ByZXZNb250aCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyB0YWJsZSB0byB0aGUgcHJldiB5ZWFyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKFt0aGlzLl9kYXRlcy5jdXJyZW50LnllYXIgLSAxLCB0aGlzLl9kYXRlcy5jdXJyZW50Lm1vbnRoLCAnMDEnXS5qb2luKCcvJykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBwcmV2aW91cyB5ZWFyIGlzIHNob3duLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2FsZW5kYXIjcHJldnllYXJcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicHJldnllYXJcIiBldmVudC5cbiAgICAgICAgICogY2FsZW5kYXIub24oJ3ByZXZ5ZWFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdwcmV2eWVhcicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBtaW5pbXVtIHNlbGVjdGFibGUgZGF0ZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhbGVuZGFyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRlIEEgZ2l2ZW4gZGF0ZSB0byBzZXQgYXMgbWluaW11bSBzZWxlY3RhYmxlIGRhdGUuIFRoZSBmb3JtYXQgb2YgdGhlIGdpdmVuIGRhdGUgc2hvdWxkIGJlIFwiWVlZWS9NTS9ERFwiLlxuICAgICAqIEByZXR1cm5zIHtjYWxlbmRhcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNldCBhIG1pbmltdW0gc2VsZWN0YWJsZSBkYXRlLlxuICAgICAqIGNhbGVuZGFyLnNldEZyb20oJzIwMTAvMDUvMjgnKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuc2V0RnJvbSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIC8vIHRoaXMgZnJvbSBpcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIGZvcm1cbiAgICAgICAgdGhpcy5fZGF0ZXMucmFuZ2UuZnJvbSA9IChkYXRlID09PSAnYXV0bycpID8gdW5kZWZpbmVkIDogY3JlYXRlRGF0ZU9iamVjdChkYXRlKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGVtcGxhdGUodGhpcy5fZGF0ZXMuY3VycmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBhIG1heGltdW0gc2VsZWN0YWJsZSBkYXRlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2FsZW5kYXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGUgQSBnaXZlbiBkYXRlIHRvIHNldCBhcyBtYXhpbXVtIHNlbGVjdGFibGUgZGF0ZS4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgXCJZWVlZL01NL0REXCIuXG4gICAgICogQHJldHVybnMge2NhbGVuZGFyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2V0IGEgbWF4aW11bSBzZWxlY3RhYmxlIGRhdGUuXG4gICAgICogY2FsZW5kYXIuc2V0VG8oJzIwMTQvMDUvMjgnKTtcbiAgICAgKi9cbiAgICBDYWxlbmRhci5wcm90b3R5cGUuc2V0VG8gPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAvLyB0aGlzIHRvIGlzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgdG9cbiAgICAgICAgdGhpcy5fZGF0ZXMucmFuZ2UudG8gPSAoZGF0ZSA9PT0gJ2F1dG8nKSA/IHVuZGVmaW5lZCA6IGNyZWF0ZURhdGVPYmplY3QoZGF0ZSk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKHRoaXMuX2RhdGVzLmN1cnJlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIENhbGVuZGFyIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2FsZW5kYXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgY2FsZW5kYXJcbiAgICAgKiBjYWxlbmRhci5kZXN0cm95KCk7XG4gICAgICogLy8gRW1wdHkgdGhlIGNhbGVuZGFyIHJlZmVyZW5jZVxuICAgICAqIGNhbGVuZGFyID0gdW5kZWZpbmVkO1xuICAgICAqL1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2VsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMuX3NuaXBwZXQsIHRoaXMuX2VsKTtcblxuICAgICAgICAkKHdpbmRvdy5kb2N1bWVudCkudHJpZ2dlcihjaC5vbmxheW91dGNoYW5nZSk7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIC8vIEZhY3Rvcml6ZVxuICAgIGNoLmZhY3RvcnkoQ2FsZW5kYXIsIG5vcm1hbGl6ZU9wdGlvbnMpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuKGZ1bmN0aW9uICh3aW5kb3csICQsIGNoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogRHJvcGRvd24gc2hvd3MgYSBsaXN0IG9mIG9wdGlvbnMgZm9yIG5hdmlnYXRpb24uXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkxheWVyXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5Ecm9wZG93bi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hZGRDbGFzc10gQ1NTIGNsYXNzIG5hbWVzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udGFpbmVyIG9uIHRoZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZ4XSBFbmFibGUgb3IgZGlzYWJsZSBVSSBlZmZlY3RzLiBZb3UgbXVzdCB1c2U6IFwic2xpZGVEb3duXCIsIFwiZmFkZUluXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwibm9uZVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gU2V0IGEgd2lkdGggZm9yIHRoZSBjb250YWluZXIuIERlZmF1bHQ6IFwiYXV0b1wiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oZWlnaHRdIFNldCBhIGhlaWdodCBmb3IgdGhlIGNvbnRhaW5lci4gRGVmYXVsdDogXCJhdXRvXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNob3duYnldIERldGVybWluZXMgaG93IHRvIGludGVyYWN0IHdpdGggdGhlIHRyaWdnZXIgdG8gc2hvdyB0aGUgY29udGFpbmVyLiBZb3UgbXVzdCB1c2U6IFwicG9pbnRlcnRhcFwiLCBcInBvaW50ZXJlbnRlclwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcInBvaW50ZXJ0YXBcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaGlkZGVuYnldIERldGVybWluZXMgaG93IHRvIGhpZGUgdGhlIGNvbXBvbmVudC4gWW91IG11c3QgdXNlOiBcImJ1dHRvblwiLCBcInBvaW50ZXJzXCIsIFwicG9pbnRlcmxlYXZlXCIsIFwiYWxsXCIgb3IgXCJub25lXCIuIERlZmF1bHQ6IFwicG9pbnRlcnNcIi5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy5yZWZlcmVuY2VdIEl0J3MgYSByZWZlcmVuY2UgdG8gcG9zaXRpb24gYW5kIHNpemUgb2YgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCB0byBjYXJyeSBvdXQgdGhlIHBvc2l0aW9uLiBEZWZhdWx0OiB0aGUgdHJpZ2dlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaWRlXSBUaGUgc2lkZSBvcHRpb24gd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImJvdHRvbVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gSXRzIHZhbHVlIGNhbiBiZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImxlZnRcIi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WF0gVGhlIG9mZnNldFggb3B0aW9uIHNwZWNpZmllcyBhIGRpc3RhbmNlIHRvIGRpc3BsYWNlIHRoZSB0YXJnZXQgaG9yaXpvbnRhbGx5LiBEZWZhdWx0OiAwLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRZXSBUaGUgb2Zmc2V0WSBvcHRpb24gc3BlY2lmaWVzIGEgZGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LiBEZWZhdWx0OiAtMS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucG9zaXRpb25dIFRoZSBwb3NpdGlvbiBvcHRpb24gc3BlY2lmaWVzIHRoZSB0eXBlIG9mIHBvc2l0aW9uaW5nIHVzZWQuIEl0cyB2YWx1ZSBtdXN0IGJlIFwiYWJzb2x1dGVcIiBvciBcImZpeGVkXCIuIERlZmF1bHQ6IFwiYWJzb2x1dGVcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubWV0aG9kXSBUaGUgdHlwZSBvZiByZXF1ZXN0IChcIlBPU1RcIiBvciBcIkdFVFwiKSB0byBsb2FkIGNvbnRlbnQgYnkgYWpheC4gRGVmYXVsdDogXCJHRVRcIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1zXSBQYXJhbXMgbGlrZSBxdWVyeSBzdHJpbmcgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2FjaGVdIEZvcmNlIHRvIGNhY2hlIHRoZSByZXF1ZXN0IGJ5IHRoZSBicm93c2VyLiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXN5bmNdIEZvcmNlIHRvIHNlbnQgcmVxdWVzdCBhc3luY2hyb25vdXNseS4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhTdHJpbmcgfMKgalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMud2FpdGluZ10gVGVtcG9yYXJ5IGNvbnRlbnQgdG8gdXNlIHdoaWxlIHRoZSBhamF4IHJlcXVlc3QgaXMgbG9hZGluZy4gRGVmYXVsdDogJyZsdDtkaXYgY2xhc3M9XCJjaC1sb2FkaW5nIGNoLWxvYWRpbmctY2VudGVyZWRcIiZndDsmbHQ7L2RpdiZndDsnLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2tpbl0gU2V0cyBhIENTUyBjbGFzcyBuYW1lIHRvIHRoZSB0cmlnZ2VyIGFuZCBjb250YWluZXIgdG8gZ2V0IGEgdmFyaWF0aW9uIG9mIERyb3Bkb3duLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNob3J0Y3V0c10gQ29uZmlndXJlcyBuYXZpZ2F0aW9uIHNob3J0Y3V0cy4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IgfCBIVE1MRWxlbWVudCB8wqBTdHJpbmcpfSBbb3B0aW9ucy5jb250ZW50XSBUaGUgY29udGVudCB0byBiZSBzaG93biBpbnRvIHRoZSBEcm9wZG93biBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge2Ryb3Bkb3dufSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIERyb3Bkb3duLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IERyb3Bkb3duLlxuICAgICAqIHZhciBkcm9wZG93biA9IG5ldyBjaC5Ecm9wZG93bigkZWwsIFtvcHRpb25zXSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgRHJvcGRvd24gd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIGRyb3Bkb3duID0gJChzZWxlY3RvcikuZHJvcGRvd24oW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBza2lubmVkIERyb3Bkb3duLlxuICAgICAqIHZhciBkcm9wZG93biA9ICQoc2VsZWN0b3IpLmRyb3Bkb3duKHtcbiAgICAgKiAgICAgJ3NraW4nOiB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gRHJvcGRvd24oJGVsLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9pbml0KCRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHlvdSBkZWZpbmUgYW4gaW5pdGlhbGl6ZSBtZXRob2QsIGl0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhIG5ldyBEcm9wZG93biBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5Ecm9wZG93bi5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZWFkeSB0byB1c2UuXG4gICAgICAgICAqIEBldmVudCBjaC5Ecm9wZG93biNyZWFkeVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJyZWFkeVwiIGV2ZW50LlxuICAgICAgICAgKiBkcm9wZG93bi5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdCgncmVhZHknKTsgfSwgNTApO1xuICAgIH1cblxuICAgIHZhciAkZG9jdW1lbnQgPSAkKHdpbmRvdy5kb2N1bWVudCksXG4gICAgICAgIHBvaW50ZXJlbnRlciA9IGNoLm9ucG9pbnRlcmVudGVyICsgJy5kcm9wZG93bicsXG4gICAgICAgIC8vIEluaGVyaXRhbmNlXG4gICAgICAgIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoRHJvcGRvd24sIGNoLkxheWVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Ecm9wZG93bi5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgZHJvcGRvd24gPSAkKHNlbGVjdG9yKS5kYXRhKCdkcm9wZG93bicpO1xuICAgICAqL1xuICAgIERyb3Bkb3duLnByb3RvdHlwZS5uYW1lID0gJ2Ryb3Bkb3duJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRHJvcGRvd24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRHJvcGRvd247XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQG1lbWJlcm9mISBjaC5Ecm9wZG93bi5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLl9kZWZhdWx0cyA9ICQuZXh0ZW5kKGNoLnV0aWwuY2xvbmUocGFyZW50Ll9kZWZhdWx0cyksIHtcbiAgICAgICAgJ19jbGFzc05hbWUnOiAnY2gtZHJvcGRvd24gY2gtYm94LWxpdGUnLFxuICAgICAgICAnX2FyaWFSb2xlJzogJ2NvbWJvYm94JyxcbiAgICAgICAgJ2Z4JzogJ25vbmUnLFxuICAgICAgICAnc2hvd25ieSc6ICdwb2ludGVydGFwJyxcbiAgICAgICAgJ2hpZGRlbmJ5JzogJ3BvaW50ZXJzJyxcbiAgICAgICAgJ29mZnNldFknOiAtMSxcbiAgICAgICAgJ3NraW4nOiBmYWxzZSxcbiAgICAgICAgJ3Nob3J0Y3V0cyc6IHRydWVcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgaW5zdGFuY2Ugb2YgRHJvcGRvd24gYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRyb3Bkb3duLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2Ryb3Bkb3dufVxuICAgICAqL1xuICAgIERyb3Bkb3duLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2FsbCB0byBpdHMgcGFyZW50IGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgLy8gVGhlIHNlY29uZCBlbGVtZW50IG9mIHRoZSBIVE1MIHNuaXBwZXQgKHRoZSBkcm9wZG93biBjb250ZW50KVxuICAgICAgICAgICAgJGNvbnRlbnQgPSB0aGlzLiR0cmlnZ2VyLm5leHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRyb3Bkb3duIHRyaWdnZXIuIEl0J3MgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIHNob3cgYW5kIGhpZGUgdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kdHJpZ2dlclxuICAgICAgICAgICAgLmFkZENsYXNzKCdjaC1kcm9wZG93bi10cmlnZ2VyJylcbiAgICAgICAgICAgIC5wcm9wKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCAnY2gtZHJvcGRvd24nICsgdGhpcy51aWQgKyAnLXNlbGVjdGVkJyk7XG5cbiAgICAgICAgY2gudXRpbC5hdm9pZFRleHRTZWxlY3Rpb24odGhpcy4kdHJpZ2dlcik7XG5cbiAgICAgICAgLy8gU2tpbm5lZCBkcm9wZG93blxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5za2luKSB7XG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCdjaC1kcm9wZG93bi10cmlnZ2VyLXNraW4nKTtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hZGRDbGFzcygnY2gtZHJvcGRvd24tc2tpbicpO1xuICAgICAgICAvLyBEZWZhdWx0IFNraW5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJHRyaWdnZXIuYWRkQ2xhc3MoJ2NoLWJ0bi1za2luIGNoLWJ0bi1zbWFsbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBsaW5rcyB3aXRoIHRoZSBuYXZpZ2F0aW9uIG9wdGlvbnMgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJG5hdmlnYXRpb24gPSAkY29udGVudC5maW5kKCdhJykucHJvcCgncm9sZScsICdvcHRpb24nKTtcblxuICAgICAgICAvLyBJdGVtIHNlbGVjdGVkIGJ5IG1vdXNlb3ZlclxuICAgICAgICAkLmVhY2godGhpcy5fJG5hdmlnYXRpb24sIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAkKGUpLm9uKHBvaW50ZXJlbnRlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuXyRuYXZpZ2F0aW9uW3RoYXQuX3NlbGVjdGVkID0gaV0uZm9jdXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5zaG9ydGN1dHMgJiYgdGhpcy5fbmF2aWdhdGlvblNob3J0Y3V0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW9uU2hvcnRjdXRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcHRpb25zLmNvbnRlbnQgPSAkY29udGVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsIGFuZCBlbnRpcmUgZWxlbWVudCBhbmQgaXRzIHN0YXRlLCBiZWZvcmUgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIC8vIGNsb25lTm9kZSh0cnVlKSA+IHBhcmFtZXRlcnMgaXMgcmVxdWlyZWQuIE9wZXJhICYgSUUgdGhyb3dzIGFuZCBpbnRlcm5hbCBlcnJvci4gT3BlcmEgbW9iaWxlIGJyZWFrcy5cbiAgICAgICAgdGhpcy5fc25pcHBldCA9IHRoaXMuX29wdGlvbnMuY29udGVudFswXS5jbG9uZU5vZGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIGRyb3Bkb3duIGNvbnRhaW5lci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRyb3Bkb3duLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8IGpRdWVyeVNlbGVjdG9yIHzCoFplcHRvU2VsZWN0b3IpfSBbY29udGVudF0gVGhlIGNvbnRlbnQgdGhhdCB3aWxsIGJlIHVzZWQgYnkgZHJvcGRvd24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIGN1c3RvbSBvcHRpb25zIHRvIGJlIHVzZWQgd2l0aCBjb250ZW50IGxvYWRlZCBieSBhamF4LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm5zIHtkcm9wZG93bn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgYmFzaWMgZHJvcGRvd24uXG4gICAgICogZHJvcGRvd24uc2hvdygpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2hvd3MgYSBkcm9wZG93biB3aXRoIG5ldyBjb250ZW50XG4gICAgICogZHJvcGRvd24uc2hvdygnU29tZSBuZXcgY29udGVudCBoZXJlIScpO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2hvd3MgYSBkcm9wZG93biB3aXRoIGEgbmV3IGNvbnRlbnQgdGhhdCB3aWxsIGJlIGxvYWRlZCBieSBhamF4IHdpdGggc29tZSBjdXN0b20gb3B0aW9uc1xuICAgICAqIGRyb3Bkb3duLnNob3coJ2h0dHA6Ly9kb21haW4uY29tL2FqYXgvdXJsJywge1xuICAgICAqICAgICAnY2FjaGUnOiBmYWxzZSxcbiAgICAgKiAgICAgJ3BhcmFtcyc6ICd4LXJlcXVlc3Q9dHJ1ZSdcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBEcm9wZG93bi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChjb250ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIERvbid0IGV4ZWN1dGUgd2hlbiBpdCdzIGRpc2FibGVkXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBvcmlnaW5hbCBzaG93KClcbiAgICAgICAgcGFyZW50LnNob3cuY2FsbCh0aGlzLCBjb250ZW50LCBvcHRpb25zKTtcblxuICAgICAgICAvLyBaLWluZGV4IG9mIHRyaWdnZXIgb3ZlciBjb250ZW50IChzZWNvbmRhcnkgLyBza2luIGRyb3Bkb3duKVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5za2luKSB7XG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyLmNzcygnei1pbmRleCcsIGNoLnV0aWwuekluZGV4ICs9IDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2VsZWN0ZWQgPSAtMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBEcm9wZG93biBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRyb3Bkb3duLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGVzdHJveSBhIGRyb3Bkb3duXG4gICAgICogZHJvcGRvd24uZGVzdHJveSgpO1xuICAgICAqIC8vIEVtcHR5IHRoZSBkcm9wZG93biByZWZlcmVuY2VcbiAgICAgKiBkcm9wZG93biA9IHVuZGVmaW5lZDtcbiAgICAgKi9cbiAgICBEcm9wZG93bi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgICAgICAub2ZmKCcuZHJvcGRvd24nKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdjaC1kcm9wZG93bi10cmlnZ2VyIGNoLWRyb3Bkb3duLXRyaWdnZXItc2tpbiBjaC11c2VyLW5vLXNlbGVjdCBjaC1idG4tc2tpbiBjaC1idG4tc21hbGwnKVxuICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2FyaWEtY29udHJvbHMnKVxuICAgICAgICAgICAgLmFmdGVyKHRoaXMuX3NuaXBwZXQpO1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vZmYoJy5kcm9wZG93bicpO1xuXG4gICAgICAgICRkb2N1bWVudC50cmlnZ2VyKGNoLm9ubGF5b3V0Y2hhbmdlKTtcblxuICAgICAgICAkLmVhY2godGhpcy5fJG5hdmlnYXRpb24sIGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAkKGUpLm9mZihwb2ludGVyZW50ZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwYXJlbnQuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuXG4gICAgY2guZmFjdG9yeShEcm9wZG93bik7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG5cbihmdW5jdGlvbiAoY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBIaWdobGlnaHRzIHRoZSBjdXJyZW50IG9wdGlvbiB3aGVuIG5hdmlnYXRlcyBieSBrZXlib2FyZC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNoLkRyb3Bkb3duLnByb3RvdHlwZS5faGlnaGxpZ2h0T3B0aW9uID0gZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIHZhciBvcHRpb25zTGVuZ3RoID0gdGhpcy5fJG5hdmlnYXRpb24ubGVuZ3RoO1xuXG4gICAgICAgIGlmICghdGhpcy5fc2hvd24pIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gU2V0cyBsaW1pdHMgYmVoYXZpb3JcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkID09PSAoa2V5ID09PSAnZG93bl9hcnJvdycgPyBvcHRpb25zTGVuZ3RoIC0gMSA6IDApKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIFVuc2VsZWN0cyBjdXJyZW50IG9wdGlvblxuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWQgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl8kbmF2aWdhdGlvblt0aGlzLl9zZWxlY3RlZF0uYmx1cigpO1xuICAgICAgICAgICAgdGhpcy5fJG5hdmlnYXRpb25bdGhpcy5fc2VsZWN0ZWRdLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkgPT09ICdkb3duX2Fycm93JykgeyB0aGlzLl9zZWxlY3RlZCArPSAxOyB9IGVsc2UgeyB0aGlzLl9zZWxlY3RlZCAtPSAxOyB9XG5cbiAgICAgICAgLy8gU2VsZWN0cyBuZXcgY3VycmVudCBvcHRpb25cbiAgICAgICAgdGhpcy5fJG5hdmlnYXRpb25bdGhpcy5fc2VsZWN0ZWRdLmZvY3VzKCk7XG4gICAgICAgIHRoaXMuXyRuYXZpZ2F0aW9uW3RoaXMuX3NlbGVjdGVkXS5pZCA9ICdjaC1kcm9wZG93bicgKyB0aGlzLnVpZCArICctc2VsZWN0ZWQnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgaGFuZGxlcnMgdG8gbWFuYWdlIHRoZSBrZXlib2FyZCBvbiBEcm9wZG93biBuYXZpZ2F0aW9uLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2guRHJvcGRvd24ucHJvdG90eXBlLl9uYXZpZ2F0aW9uU2hvcnRjdXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgY2guc2hvcnRjdXRzLmFkZChjaC5vbmtleXVwYXJyb3csIHRoaXMudWlkLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgICAgY2gudXRpbC5wcmV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgdGhhdC5faGlnaGxpZ2h0T3B0aW9uKGV2ZW50LnR5cGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjaC5zaG9ydGN1dHMuYWRkKGNoLm9ua2V5ZG93bmFycm93LCB0aGlzLnVpZCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgICAgICAgIGNoLnV0aWwucHJldmVudChldmVudCk7XG5cbiAgICAgICAgICAgIHRoYXQuX2hpZ2hsaWdodE9wdGlvbihldmVudC50eXBlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vbmNlKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2guc2hvcnRjdXRzLnJlbW92ZShjaC5vbmtleXVwYXJyb3csIHRoYXQudWlkKTtcbiAgICAgICAgICAgIGNoLnNob3J0Y3V0cy5yZW1vdmUoY2gub25rZXlkb3duYXJyb3csIHRoYXQudWlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxufSh0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBUYWJzIGxldHMgeW91IGNyZWF0ZSB0YWJzIGZvciBzdGF0aWMgYW5kIGR5bmFtaWMgY29udGVudC5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQHJlcXVpcmVzIGNoLkV4cGFuZGFibGVcbiAgICAgKiBAcGFyYW0geyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSAkZWwgQSBqUXVlcnkgb3IgWmVwdG8gU2VsZWN0b3IgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGNoLlRhYnMuXG4gICAgICogQHJldHVybnMge3RhYnN9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgVGFicy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUYWJzLlxuICAgICAqIHZhciB0YWJzID0gbmV3IGNoLlRhYnMoJGVsKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBUYWJzIHdpdGggalF1ZXJ5IG9yIFplcHRvLlxuICAgICAqIHZhciB0YWJzID0gJChzZWxlY3RvcikudGFicygpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRhYnMoJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IFRhYnMgaXMgY3JlYXRlZC5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiEgY2guVGFicy5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0cyB0aGUgZXZlbnQgJ3JlYWR5JyB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guVGFicyNyZWFkeVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJyZWFkeVwiIGV2ZW50LlxuICAgICAgICAgKiB0YWJzLm9uKCdyZWFkeScsZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcbiAgICB9XG5cbiAgICAvLyBJbmhlcml0YW5jZVxuICAgIHZhciBwYXJlbnQgPSBjaC51dGlsLmluaGVyaXRzKFRhYnMsIGNoLkNvbXBvbmVudCksXG5cbiAgICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG5cbiAgICAgICAgLy8gQ3JlYXRlcyBtZXRob2RzIGVuYWJsZSBhbmQgZGlzYWJsZSBpbnRvIHRoZSBwcm90b3R5cGUuXG4gICAgICAgIG1ldGhvZHMgPSBbJ2VuYWJsZScsICdkaXNhYmxlJ10sXG4gICAgICAgIGxlbiA9IG1ldGhvZHMubGVuZ3RoLFxuXG4gICAgICAgIC8vIFJlZ3VsYXIgZXhwcmVzaW9uIHRvIGdldCBoYXNoXG4gICAgICAgIGhhc2hSZWdFeHAgPSBuZXcgUmVnRXhwKCdcXFxcIyE/XFxcXC8/KC5bXlxcXFw/fFxcXFwmfFxcXFxzXSspJyk7XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZHMobWV0aG9kKSB7XG4gICAgICAgIFRhYnMucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAodGFiKSB7XG4gICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlcyBvciBkaXNhYmxlcyBhbiBzcGVjaWZjIHRhYiBwYW5lbFxuICAgICAgICAgICAgaWYgKHRhYiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWJwYW5lbHNbdGFiIC0gMV1bbWV0aG9kXSgpO1xuXG4gICAgICAgICAgICAvLyBFbmFibGVzIG9yIGRpc2FibGVzIFRhYnNcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpID0gdGhpcy50YWJwYW5lbHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJwYW5lbHNbaSAtPSAxXVttZXRob2RdKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXhlY3V0ZXMgcGFyZW50IG1ldGhvZFxuICAgICAgICAgICAgICAgIHBhcmVudFttZXRob2RdLmNhbGwodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIFwiYXJpYS1kaXNhYmxlZFwiIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICF0aGlzLl9lbmFibGVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlRhYnMucHJvdG90eXBlXG4gICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFlvdSBjYW4gcmVhY2ggdGhlIGFzc29jaWF0ZWQgaW5zdGFuY2UuXG4gICAgICogdmFyIHRhYnMgPSAkKHNlbGVjdG9yKS5kYXRhKCd0YWJzJyk7XG4gICAgICovXG4gICAgVGFicy5wcm90b3R5cGUubmFtZSA9ICd0YWJzJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVGFicy5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBUYWJzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRhYnM7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIFRhYnMgYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlRhYnMucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dGFic31cbiAgICAgKi9cbiAgICBUYWJzLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcGFyZW50Ll9pbml0LmNhbGwodGhpcywgJGVsLCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogVGhlIGFjdHVhbCBsb2NhdGlvbiBoYXNoLCBpcyB1c2VkIHRvIGtub3cgaWYgdGhlcmUncyBhIHNwZWNpZmljIHRhYiBwYW5lbCBzaHdvd24uXG4gICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jdXJyZW50SGFzaCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2gubWF0Y2goaGFzaFJlZ0V4cCk7XG4gICAgICAgICAgICByZXR1cm4gKGhhc2ggIT09IG51bGwpID8gaGFzaFsxXSA6ICcnO1xuICAgICAgICB9KCkpO1xuXG4gICAgICAgIC8vIGNsb25lTm9kZSh0cnVlKSA+IHBhcmFtZXRlcnMgaXMgcmVxdWlyZWQuIE9wZXJhICYgSUUgdGhyb3dzIGFuZCBpbnRlcm5hbCBlcnJvci4gT3BlcmEgbW9iaWxlIGJyZWFrcy5cbiAgICAgICAgdGhpcy5fc25pcHBldCA9IHRoaXMuX2VsLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhYnMgY29udGFpbmVyLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLl8kZWxcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY2gtdGFicycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFicyB0cmlnZ2Vycy5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kdHJpZ2dlcnMgPSB0aGlzLiRjb250YWluZXIuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoLXRhYnMtdHJpZ2dlcnMnKVxuICAgICAgICAgICAgLmF0dHIoJ3JvbGUnLCAndGFibGlzdCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvbGxlY3Rpb24gb2YgdGFiIHBhbmVsLlxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhYnBhbmVscyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29udGFpbmVyIG9mIHRhYiBwYW5lbHMuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHBhbmVsID0gdGhpcy4kY29udGFpbmVyLmNoaWxkcmVuKCc6bGFzdC1jaGlsZCcpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NoLXRhYnMtcGFuZWwgY2gtYm94LWxpdGUnKVxuICAgICAgICAgICAgLmF0dHIoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YWIgcGFuZWwncyBjb250YWluZXJzLlxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJHRhYnNQYW5lbHMgPSB0aGlzLiRwYW5lbC5jaGlsZHJlbigpO1xuXG4gICAgICAgIC8vIENyZWF0ZXMgdGFiXG4gICAgICAgIHRoaXMuJHRyaWdnZXJzLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICB0aGF0Ll9jcmVhdGVUYWIoaSwgZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCBzaG93biB0YWIuXG4gICAgICAgIHRoaXMuX3Nob3duID0gMTtcblxuICAgICAgICAvLyBDaGVja3MgaWYgdGhlIHVybCBoYXMgYSBoYXNoIHRvIHNob3duIHRoZSBhc3NvY2lhdGVkIHRhYi5cbiAgICAgICAgdGhpcy5faGFzSGFzaCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGFiIHBhbmVscy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRhYnMucHJvdG90eXBlLl9jcmVhdGVUYWIgPSBmdW5jdGlvbiAoaSwgZSkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gY29udGV4dCBvZiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgIHRhYixcblxuICAgICAgICAgICAgJHBhbmVsID0gdGhpcy5fJHRhYnNQYW5lbHMuZXEoaSksXG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBUYWIgcGFuZWwncyBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICdfY2xhc3NOYW1lVHJpZ2dlcic6ICdjaC10YWInLFxuICAgICAgICAgICAgICAgICdfY2xhc3NOYW1lQ29udGFpbmVyJzogJ2NoLXRhYnBhbmVsIGNoLWhpZGUnLFxuICAgICAgICAgICAgICAgICd0b2dnbGUnOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBUYWIgcGFuZWwgYXN5bmMgY29uZmlndXJhdGlvblxuICAgICAgICBpZiAoJHBhbmVsWzBdID09PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgJHBhbmVsID0gJCgnPGRpdiBpZD1cIicgKyBlLmhyZWYuc3BsaXQoJyMnKVsxXSArICdcIj4nKS5hcHBlbmRUbyh0aGlzLiRwYW5lbCk7XG5cbiAgICAgICAgICAgIG9wdGlvbnMuY29udGVudCA9IGUuaHJlZjtcbiAgICAgICAgICAgIG9wdGlvbnMud2FpdGluZyA9IHRoaXMuX29wdGlvbnMud2FpdGluZztcbiAgICAgICAgICAgIG9wdGlvbnMuY2FjaGUgPSB0aGlzLl9vcHRpb25zLmNhY2hlO1xuICAgICAgICAgICAgb3B0aW9ucy5tZXRob2QgPSB0aGlzLl9vcHRpb25zLm1ldGhvZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRhYiBwYW5lbCBjb250YWluZXIgY29uZmlndXJhdGlvblxuICAgICAgICBvcHRpb25zLmNvbnRhaW5lciA9ICRwYW5lbDtcblxuICAgICAgICAvLyBDcmVhdGVzIG5ldyBUYWIgcGFuZWxcbiAgICAgICAgdGFiID0gbmV3IGNoLkV4cGFuZGFibGUoJChlKSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlcyB0YWIncyBoYXNoXG4gICAgICAgIHRhYi5faGFzaCA9IGUuaHJlZi5zcGxpdCgnIycpWzFdO1xuXG4gICAgICAgIC8vIEFkZCBBUklBIHJvbGVzXG4gICAgICAgIHRhYi4kdHJpZ2dlci5hdHRyKCdyb2xlJywgJ3RhYicpO1xuICAgICAgICB0YWIuJGNvbnRhaW5lci5hdHRyKCdyb2xlJywgJ3RhYnBhbmVsJyk7XG5cbiAgICAgICAgLy8gQmluZHMgc2hvdyBldmVudFxuICAgICAgICB0YWIub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0Ll91cGRhdGVTaG93bihpICsgMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZHMgdGFiIHBhbmVsIHRvIHRoZSBjb2xsZWN0aW9uXG4gICAgICAgIHRoaXMudGFicGFuZWxzLnB1c2godGFiKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSB1cmwgaGFzIGEgaGFzaCB0byBzaG93biB0aGUgYXNzb2NpYXRlZCB0YWIgcGFuZWwuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUYWJzLnByb3RvdHlwZS5faGFzSGFzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgdGFiIGhpZGUgYSB0YWIgcGFuZWwgY29udGFpbmVyLlxuICAgICAgICAgKiBAZXZlbnQgY2guVGFicyNoaWRlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImhpZGVcIiBldmVudC5cbiAgICAgICAgICogdGFicy5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnaGlkZScsIHRoaXMuX3Nob3duKTtcblxuICAgICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgICAvLyBTaG93cyB0aGUgZmlyc3QgdGFiIHBhbmVsIGlmIG5vdCBoYXNoIG9yIGl0J3MgaGFzaCBhbmQgaXQgaXNuJ3QgZnJvbSB0aGUgY3VycmVudCB0YWIgcGFuZWwsXG4gICAgICAgICAgICBsID0gdGhpcy50YWJwYW5lbHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIElmIGhhc2ggb3BlbiB0aGF0IHRhYiBwYW5lbFxuICAgICAgICBmb3IgKGk7IGkgPCBsOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYnBhbmVsc1tpXS5faGFzaCA9PT0gdGhpcy5fY3VycmVudEhhc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG93biA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWJwYW5lbHNbdGhpcy5fc2hvd24gLSAxXS5zaG93KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgdGFicyBzaG93cyBhIHRhYiBwYW5lbCBjb250YWluZXIuXG4gICAgICAgICAqIEBldmVudCBjaC5UYWJzI3Nob3dcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdzaG93JywgdGhpcy5fc2hvd24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIHNwZWNpZmljIHRhYiBwYW5lbC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLlRhYnMucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRhYiAtIEEgZ2l2ZW4gbnVtYmVyIG9mIHRhYiBwYW5lbC5cbiAgICAgKiBAcmV0dXJucyB7dGFic31cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIHRoZSBzZWNvbmQgdGFiIHBhbmVsLlxuICAgICAqIHRhYnMuc2hvdygyKTtcbiAgICAgKi9cbiAgICBUYWJzLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKHRhYikge1xuXG4gICAgICAgIC8vIFNob3dzIHRoZSBjdXJyZW50IHRhYlxuICAgICAgICB0aGlzLnRhYnBhbmVsc1t0YWIgLSAxXS5zaG93KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHNob3duIHRhYiBwYW5lbCwgaGlkZXMgdGhlIHByZXZpb3VzIHRhYiBwYW5lbCwgY2hhbmdlcyB3aW5kb3cgbG9jYXRpb24gYW5kIGVtaXRzIFwic2hvd1wiIGV2ZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guVGFicy5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0YWIgLSBBIGdpdmVuIG51bWJlciBvZiB0YWIgcGFuZWwuXG4gICAgICovXG4gICAgVGFicy5wcm90b3R5cGUuX3VwZGF0ZVNob3duID0gZnVuY3Rpb24gKHRhYikge1xuXG4gICAgICAgIC8vIElmIHRhYiBkb2Vzbid0IGV4aXN0IG9yIGlmIGl0J3Mgc2hvd24gZG8gbm90aGluZ1xuICAgICAgICBpZiAodGhpcy5fc2hvd24gPT09IHRhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgdGFiIGhpZGUgYSB0YWIgcGFuZWwgY29udGFpbmVyLlxuICAgICAgICAgKiBAZXZlbnQgY2guVGFicyNoaWRlXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcImhpZGVcIiBldmVudC5cbiAgICAgICAgICogdGFicy5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnaGlkZScsIHRoaXMuX3Nob3duKTtcblxuICAgICAgICAvLyBIaWRlcyB0aGUgc2hvd24gdGFiXG4gICAgICAgIHRoaXMudGFicGFuZWxzW3RoaXMuX3Nob3duIC0gMV0uaGlkZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgd2ljaCB0YWIgcGFuZWwgaXMgc2hvd24uXG4gICAgICAgICAqIEBuYW1lIGNoLlRhYnMjX3Nob3duXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zaG93biA9IHRhYjtcblxuICAgICAgICAvLyBVcGRhdGUgd2luZG93IGxvY2F0aW9uIGhhc2hcbiAgICAgICAgbG9jYXRpb24uaGFzaCA9IHRoaXMuX2N1cnJlbnRIYXNoID0gKHRoaXMuX2N1cnJlbnRIYXNoID09PSAnJylcbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGhhc2ggaXMgZW1wdHksIGNyZWF0ZSBpdC5cbiAgICAgICAgICAgID8gJyMhLycgKyB0aGlzLnRhYnBhbmVsc1t0aGlzLl9zaG93biAtIDFdLl9oYXNoXG4gICAgICAgICAgICAvLyB1cGRhdGUgb25seSB0aGUgcHJldmlvdXMgaGFzaFxuICAgICAgICAgICAgOiBsb2NhdGlvbi5oYXNoLnJlcGxhY2UobG9jYXRpb24uaGFzaC5tYXRjaChoYXNoUmVnRXhwKVsxXSwgdGhpcy50YWJwYW5lbHNbdGhpcy5fc2hvd24gLSAxXS5faGFzaCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgdGFicyBzaG93cyBhIHRhYiBwYW5lbCBjb250YWluZXIuXG4gICAgICAgICAqIEBldmVudCBjaC5UYWJzI3Nob3dcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwic2hvd1wiIGV2ZW50LlxuICAgICAgICAgKiB0YWJzLm9uKCdzaG93JywgZnVuY3Rpb24gKHNob3duVGFiKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3Nob3cnLCB0aGlzLl9zaG93bik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiB0aGUgc2hvd24gdGFiIHBhbmVsLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVGFicy5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGlmICh0YWJzLmdldFNob3duKCkgPT09IDEpIHtcbiAgICAgKiAgICAgZm4oKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgVGFicy5wcm90b3R5cGUuZ2V0U2hvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93bjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIG1hbmFnZSB0aGUgdGFicyBjb250ZW50LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0YWIgQSBnaXZlbiB0YWIgdG8gY2hhbmdlIGl0cyBjb250ZW50LlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8IGpRdWVyeVNlbGVjdG9yIHzCoFplcHRvU2VsZWN0b3IpfSBjb250ZW50IFRoZSBjb250ZW50IHRoYXQgd2lsbCBiZSB1c2VkIGJ5IGEgdGFicGFuZWwuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBIGN1c3RvbSBvcHRpb25zIHRvIGJlIHVzZWQgd2l0aCBjb250ZW50IGxvYWRlZCBieSBhamF4LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5tZXRob2RdIFRoZSB0eXBlIG9mIHJlcXVlc3QgKFwiUE9TVFwiIG9yIFwiR0VUXCIpIHRvIGxvYWQgY29udGVudCBieSBhamF4LiBEZWZhdWx0OiBcIkdFVFwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbXNdIFBhcmFtcyBsaWtlIHF1ZXJ5IHN0cmluZyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jYWNoZV0gRm9yY2UgdG8gY2FjaGUgdGhlIHJlcXVlc3QgYnkgdGhlIGJyb3dzZXIuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hc3luY10gRm9yY2UgdG8gc2VudCByZXF1ZXN0IGFzeW5jaHJvbm91c2x5LiBEZWZhdWx0OiB0cnVlLlxuICAgICAqIEBwYXJhbSB7KFN0cmluZyB8wqBqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfSBbb3B0aW9ucy53YWl0aW5nXSBUZW1wb3JhcnkgY29udGVudCB0byB1c2Ugd2hpbGUgdGhlIGFqYXggcmVxdWVzdCBpcyBsb2FkaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gVXBkYXRlcyB0aGUgY29udGVudCBvZiB0aGUgc2Vjb25kIHRhYiB3aXRoIHNvbWUgc3RyaW5nLlxuICAgICAqIHRhYnMuY29udGVudCgyLCAnaHR0cDovL2FqYXguY29tJywgeydjYWNoZSc6IGZhbHNlfSk7XG4gICAgICovXG4gICAgVGFicy5wcm90b3R5cGUuY29udGVudCA9IGZ1bmN0aW9uICh0YWIsIGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRhYiA9PT0gdW5kZWZpbmVkIHx8wqB0eXBlb2YgdGFiICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHdpbmRvdy5FcnJvcignVGFicy5jb250ZW50KHRhYiwgY29udGVudCwgb3B0aW9ucyk6IEV4cGVjdGVkIGEgbnVtYmVyIG9mIHRhYi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYlt0YWIgLSAxXS5jb250ZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRhYnBhbmVsc1t0YWIgLSAxXS5jb250ZW50KGNvbnRlbnQsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGFuIGluc3RhbmNlIG9mIFRhYnMgb3IgYSBzcGVjaWZpYyB0YWIgcGFuZWwuXG4gICAgICogQG1lbWJlcm9mISBjaC5UYWJzLnByb3RvdHlwZVxuICAgICAqIEBuYW1lIGVuYWJsZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdGFiXSAtIEEgZ2l2ZW4gbnVtYmVyIG9mIHRhYiBwYW5lbCB0byBlbmFibGUuXG4gICAgICogQHJldHVybnMge3RhYnN9IFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgVGFicy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEVuYWJsaW5nIGFuIGluc3RhbmNlIG9mIFRhYnMuXG4gICAgICogdGFicy5lbmFibGUoKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEVuYWJsaW5nIHRoZSBzZWNvbmQgdGFiIHBhbmVsIG9mIGEgdGFicy5cbiAgICAgKiB0YWJzLmVuYWJsZSgyKTtcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGFuIGluc3RhbmNlIG9mIFRhYnMgb3IgYSBzcGVjaWZpYyB0YWIgcGFuZWwuXG4gICAgICogQG1lbWJlcm9mISBjaC5UYWJzLnByb3RvdHlwZVxuICAgICAqIEBuYW1lIGRpc2FibGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3RhYl0gLSBBIGdpdmVuIG51bWJlciBvZiB0YWIgcGFuZWwgdG8gZGlzYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7dGFic30gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBUYWJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRGlzYWJsaW5nIGFuIGluc3RhbmNlIG9mIFRhYnMuXG4gICAgICogdGFicy5kaXNhYmxlKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEaXNhYmxpbmcgdGhlIHNlY29uZCB0YWIgcGFuZWwuXG4gICAgICogdGFicy5kaXNhYmxlKDIpO1xuICAgICAqL1xuICAgIHdoaWxlIChsZW4pIHtcbiAgICAgICAgY3JlYXRlTWV0aG9kcyhtZXRob2RzW2xlbiAtPSAxXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBUYWJzIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guVGFicy5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3lpbmcgYW4gaW5zdGFuY2Ugb2YgVGFicy5cbiAgICAgKiB0YWJzLmRlc3Ryb3koKTtcbiAgICAgKi9cbiAgICBUYWJzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2VsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMuX3NuaXBwZXQsIHRoaXMuX2VsKTtcblxuICAgICAgICAkKHdpbmRvdy5kb2N1bWVudCkudHJpZ2dlcihjaC5vbmxheW91dGNoYW5nZSk7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmFjdG9yeVxuICAgICAqL1xuICAgIGNoLmZhY3RvcnkoVGFicyk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBBIGxhcmdlIGxpc3Qgb2YgZWxlbWVudHMuIFNvbWUgZWxlbWVudHMgd2lsbCBiZSBzaG93biBpbiBhIHByZXNldCBhcmVhLCBhbmQgb3RoZXJzIHdpbGwgYmUgaGlkZGVuIHdhaXRpbmcgZm9yIHRoZSB1c2VyIGludGVyYWN0aW9uIHRvIHNob3cgaXQuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5DYXJvdXNlbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gY3VzdG9taXplIGFuIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hc3luY10gRGVmaW5lcyB0aGUgbnVtYmVyIG9mIGZ1dHVyZSBhc3luY2hyb25vdXMgaXRlbXMgdG8gYWRkIHRvIHRoZSBjb21wb25lbnQuIERlZmF1bHQ6IDAuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hcnJvd3NdIERlZmluZXMgaWYgdGhlIGFycm93LWJ1dHRvbnMgbXVzdCBiZSBjcmVhdGVkIG9yIG5vdCBhdCBpbml0aWFsaXphdGlvbi4gRGVmYXVsdDogdHJ1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnBhZ2luYXRpb25dIERlZmluZXMgaWYgYSBwYWdpbmF0aW9uIG11c3QgYmUgY3JlYXRlZCBvciBub3QgYXQgaW5pdGlhbGl6YXRpb24uIERlZmF1bHQ6IGZhbHNlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZnhdIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBzbGlkZSBlZmZlY3QuIERlZmF1bHQ6IHRydWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxpbWl0UGVyUGFnZV0gU2V0IHRoZSBtYXhpbXVtIGFtb3VudCBvZiBpdGVtcyB0byBzaG93IGluIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJucyB7Y2Fyb3VzZWx9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgQ2Fyb3VzZWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgY2Fyb3VzZWwuXG4gICAgICogdmFyIGNhcm91c2VsID0gbmV3IGNoLkNhcm91c2VsKCRlbCwgW29wdGlvbnNdKTtcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBDYXJvdXNlbCB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgY2Fyb3VzZWwgPSAkKHNlbGVjdG9yKS5jYXJvdXNlbChbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IENhcm91c2VsIHdpdGggZGlzYWJsZWQgZWZmZWN0cy5cbiAgICAgKiB2YXIgY2Fyb3VzZWwgPSAkKHNlbGVjdG9yKS5jYXJvdXNlbCh7XG4gICAgICogICAgICdmeCc6IGZhbHNlXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQ2Fyb3VzZWwgd2l0aCBpdGVtcyBhc3luY2hyb25vdXNseSBsb2FkZWQuXG4gICAgICogdmFyIGNhcm91c2VsID0gJChzZWxlY3RvcikuY2Fyb3VzZWwoe1xuICAgICAqICAgICAnYXN5bmMnOiAxMFxuICAgICAqIH0pLm9uKCdpdGVtc2FkZCcsIGZ1bmN0aW9uICgkaXRlbXMpIHtcbiAgICAgKiAgICAgLy8gSW5qZWN0IGNvbnRlbnQgaW50byB0aGUgYWRkZWQgPGxpPiBlbGVtZW50c1xuICAgICAqICAgICAkLmVhY2goJGl0ZW1zLCBmdW5jdGlvbiAoaSwgZSkge1xuICAgICAqICAgICAgICAgZS5pbm5lckhUTUwgPSAnQ29udGVudCBpbnRvIG9uZSBvZiBuZXdseSBpbnNlcnRlZCA8bGk+IGVsZW1lbnRzLic7XG4gICAgICogICAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIENhcm91c2VsKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgQ2Fyb3VzZWwgaXMgY3JlYXRlZC5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2Fyb3VzZWwjcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogY2Fyb3VzZWwub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcbiAgICB9XG5cbiAgICB2YXIgcG9pbnRlcnRhcCA9IGNoLm9ucG9pbnRlcnRhcCArICcuY2Fyb3VzZWwnLFxuICAgICAgICBNYXRoID0gd2luZG93Lk1hdGgsXG4gICAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcbiAgICAgICAgLy8gSW5oZXJpdGFuY2VcbiAgICAgICAgcGFyZW50ID0gY2gudXRpbC5pbmhlcml0cyhDYXJvdXNlbCwgY2guQ29tcG9uZW50KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgY2Fyb3VzZWwgPSAkKHNlbGVjdG9yKS5kYXRhKCdjYXJvdXNlbCcpO1xuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5uYW1lID0gJ2Nhcm91c2VsJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2Fyb3VzZWw7XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9kZWZhdWx0cyA9IHtcbiAgICAgICAgJ2FzeW5jJzogMCxcbiAgICAgICAgJ2Fycm93cyc6IHRydWUsXG4gICAgICAgICdwYWdpbmF0aW9uJzogZmFsc2UsXG4gICAgICAgICdmeCc6IHRydWVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBDYXJvdXNlbCBhbmQgbWVyZ2UgY3VzdG9tIG9wdGlvbnMgd2l0aCBkZWZhdWx0cyBvcHRpb25zLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7Y2Fyb3VzZWx9XG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKCRlbCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDYWxsIHRvIGl0cyBwYXJlbnRzIGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3JpZ2luYWwgYW5kIGVudGlyZSBlbGVtZW50IGFuZCBpdHMgc3RhdGUsIGJlZm9yZSBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICogQHR5cGUge0hUTUxEaXZFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gY2xvbmVOb2RlKHRydWUpID4gcGFyYW1ldGVycyBpcyByZXF1aXJlZC4gT3BlcmEgJiBJRSB0aHJvd3MgYW5kIGludGVybmFsIGVycm9yLiBPcGVyYSBtb2JpbGUgYnJlYWtzLlxuICAgICAgICB0aGlzLl9zbmlwcGV0ID0gdGhpcy5fZWwuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGVtZW50IHRoYXQgbW92ZXMgKHNsaWRlcykgYWNyb3NzIHRoZSBjb21wb25lbnQgKGluc2lkZSB0aGUgbWFzaykuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRsaXN0ID0gdGhpcy5fJGVsLmFkZENsYXNzKCdjaC1jYXJvdXNlbCcpLmNoaWxkcmVuKCkuYWRkQ2xhc3MoJ2NoLWNhcm91c2VsLWxpc3QnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBlYWNoIGNoaWxkIG9mIHRoZSBzbGlkZXIgbGlzdC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJGl0ZW1zID0gdGhpcy5fJGxpc3QuY2hpbGRyZW4oKS5hZGRDbGFzcygnY2gtY2Fyb3VzZWwtaXRlbScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGVtZW50IHRoYXQgd3JhcHMgdGhlIGxpc3QgYW5kIGRlbmllcyBpdHMgb3ZlcmZsb3cuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuXyRtYXNrID0gJCgnPGRpdiBjbGFzcz1cImNoLWNhcm91c2VsLW1hc2tcIiByb2xlPVwidGFicGFuZWxcIj4nKS5odG1sKHRoaXMuXyRsaXN0KS5hcHBlbmRUbyh0aGlzLl8kZWwpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIHRoZSBtYXNrICh3aWR0aCkuIFVwZGF0ZWQgaW4gZWFjaCByZWZyZXNoLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWFza1dpZHRoID0gY2gudXRpbC5nZXRPdXRlckRpbWVuc2lvbnModGhpcy5fJG1hc2tbMF0pLndpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgZWFjaCBpdGVtLCBpbmNsdWRpbmcgcGFkZGluZ3MsIG1hcmdpbnMgYW5kIGJvcmRlcnMuIElkZWFsIGZvciBtYWtlIGNhbGN1bGF0aW9ucy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2l0ZW1XaWR0aCA9IHRoaXMuXyRpdGVtcy53aWR0aCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgZWFjaCBpdGVtLCB3aXRob3V0IHBhZGRpbmdzLCBtYXJnaW5zIG9yIGJvcmRlcnMuIElkZWFsIGZvciBtYW5pcHVsYXRlIENTUyB3aWR0aCBwcm9wZXJ0eS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2l0ZW1PdXRlcldpZHRoID0gY2gudXRpbC5nZXRPdXRlckRpbWVuc2lvbnModGhpcy5fJGl0ZW1zWzBdKS53aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNpemUgYWRkZWQgdG8gZWFjaCBpdGVtIHRvIG1ha2UgaXQgZWxhc3RpYy9yZXNwb25zaXZlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faXRlbUV4dHJhV2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIGVhY2ggaXRlbSwgaW5jbHVkaW5nIHBhZGRpbmdzLCBtYXJnaW5zIGFuZCBib3JkZXJzLiBJZGVhbCBmb3IgbWFrZSBjYWxjdWxhdGlvbnMuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pdGVtSGVpZ2h0ID0gdGhpcy5fJGl0ZW1zLmhlaWdodCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFyZ2luIG9mIGFsbCBpdGVtcy4gVXBkYXRlZCBpbiBlYWNoIHJlZnJlc2ggb25seSBpZiBpdCdzIG5lY2Vzc2FyeS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2l0ZW1NYXJnaW4gPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIHRvIGNvbnRyb2wgd2hlbiBhcnJvd3Mgd2VyZSBjcmVhdGVkLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Fycm93c0NyZWF0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyB0byBjb250cm9sIHdoZW4gcGFnaW5hdGlvbiB3YXMgY3JlYXRlZC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wYWdpbmF0aW9uQ3JlYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbW91bnQgb2YgaXRlbXMgaW4gZWFjaCBwYWdlLiBVcGRhdGVkIGluIGVhY2ggcmVmcmVzaC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xpbWl0UGVyUGFnZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZ2UgY3VycmVudGx5IHNob3dlZC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQYWdlID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgYW1vdW50IG9mIHBhZ2VzLiBEYXRhIHVwZGF0ZWQgaW4gZWFjaCByZWZyZXNoLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFnZXMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXN0YW5jZSBuZWVkZWQgdG8gbW92ZSBPTkxZIE9ORSBQQUdFLiBEYXRhIHVwZGF0ZWQgaW4gZWFjaCByZWZyZXNoLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFnZVdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBpdGVtcyB0aGF0IHNob3VsZCBiZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgb24gcGFnZSBtb3ZlbWVudC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FzeW5jID0gdGhpcy5fb3B0aW9ucy5hc3luYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVUkgZWxlbWVudCBvZiBhcnJvdyB0aGF0IG1vdmVzIHRoZSBDYXJvdXNlbCB0byB0aGUgcHJldmlvdXMgcGFnZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJHByZXZBcnJvdyA9ICQoJzxkaXYgY2xhc3M9XCJjaC1jYXJvdXNlbC1wcmV2IGNoLWNhcm91c2VsLWRpc2FibGVkXCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPicpXG4gICAgICAgICAgICAub24ocG9pbnRlcnRhcCwgZnVuY3Rpb24gKCkgeyB0aGF0LnByZXYoKTsgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVJIGVsZW1lbnQgb2YgYXJyb3cgdGhhdCBtb3ZlcyB0aGUgQ2Fyb3VzZWwgdG8gdGhlIG5leHQgcGFnZS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhhdC5fJG5leHRBcnJvdyA9ICQoJzxkaXYgY2xhc3M9XCJjaC1jYXJvdXNlbC1uZXh0XCIgcm9sZT1cImJ1dHRvblwiIGFyaWEtaGlkZGVuPVwiZmFsc2VcIj4nKVxuICAgICAgICAgICAgLm9uKHBvaW50ZXJ0YXAsIGZ1bmN0aW9uICgpIHsgdGhhdC5uZXh0KCk7IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVSSBlbGVtZW50IHRoYXQgY29udGFpbnMgYWxsIHRoZSB0aHVtYm5haWxzIGZvciBwYWdpbmF0aW9uLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl8kcGFnaW5hdGlvbiA9ICQoJzxkaXYgY2xhc3M9XCJjaC1jYXJvdXNlbC1wYWdlc1wiIHJvbGU9XCJuYXZpZ2F0aW9uXCI+Jykub24ocG9pbnRlcnRhcCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHBhZ2UgZnJvbSB0aGUgZWxlbWVudFxuICAgICAgICAgICAgdmFyIHBhZ2UgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UnKTtcbiAgICAgICAgICAgIC8vIEFsbG93IGludGVyYWN0aW9ucyBmcm9tIGEgdmFsaWQgcGFnZSBvZiBwYWdpbmF0aW9uXG4gICAgICAgICAgICBpZiAocGFnZSAhPT0gbnVsbCnCoHsgdGhhdC5zZWxlY3Qod2luZG93LnBhcnNlSW50KHBhZ2UsIDEwKSk7IH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBjYWxjdWxhdGlvbiB3aGVuIHRoZSB2aWV3cG9ydCByZXNpemVzXG4gICAgICAgIGNoLnZpZXdwb3J0Lm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7IHRoYXQucmVmcmVzaCgpOyB9KTtcblxuICAgICAgICAvLyBJZiBlZmVjdHMgYXJlbid0IG5lZWRlZCwgYXZvaWQgdHJhbnNpdGlvbiBvbiBsaXN0XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5meCkgeyB0aGlzLl8kbGlzdC5hZGRDbGFzcygnY2gtY2Fyb3VzZWwtbm9meCcpOyB9XG5cbiAgICAgICAgLy8gUG9zaXRpb24gYWJzb2x1dGVsbHkgdGhlIGxpc3Qgd2hlbiBDU1MgdHJhbnNpdGlvbnMgYXJlbid0IHN1cHBvcnRlZFxuICAgICAgICBpZiAoIWNoLnN1cHBvcnQudHJhbnNpdGlvbikgeyB0aGlzLl8kbGlzdC5jc3Moeydwb3NpdGlvbic6ICdhYnNvbHV0ZScsICdsZWZ0JzogJzAnfSk7IH1cblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBhcmFtZXRlciBzcGVjaWZ5aW5nIGEgcGFnaW5hdGlvbiwgYWRkIGl0XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnBhZ2luYXRpb24pIHsgdGhpcy5fYWRkUGFnaW5hdGlvbigpOyB9XG5cbiAgICAgICAgLy8gQWxsb3cgdG8gcmVuZGVyIHRoZSBhcnJvd3NcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYXJyb3dzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fb3B0aW9ucy5hcnJvd3MgIT09IGZhbHNlKSB7IHRoaXMuX2FkZEFycm93cygpOyB9XG5cbiAgICAgICAgLy8gU2V0IFdBSS1BUklBIHByb3BlcnRpZXMgdG8gZWFjaCBpdGVtIGRlcGVuZGluZyBvbiB0aGUgcGFnZSBpbiB3aGljaCB0aGVzZSBhcmVcbiAgICAgICAgdGhpcy5fdXBkYXRlQVJJQSgpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBpdGVtcyBwZXIgcGFnZSBhbmQgY2FsY3VsYXRlIHBhZ2VzLCBvbmx5IHdoZW4gdGhlIGFtb3VudCBvZiBpdGVtcyB3YXMgY2hhbmdlZFxuICAgICAgICB0aGlzLl91cGRhdGVMaW1pdFBlclBhZ2UoKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1hcmdpbiBiZXR3ZWVuIGl0ZW1zIGFuZCBpdHMgc2l6ZVxuICAgICAgICB0aGlzLl91cGRhdGVEaXN0cmlidXRpb24oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGFjY2VzaWJpbGl0eSBwcm9wZXJ0aWVzIHRvIGVhY2ggaXRlbSBkZXBlbmRpbmcgb24gdGhlIHBhZ2UgaW4gd2hpY2ggdGhlc2UgYXJlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX3VwZGF0ZUFSSUEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gYW4gaW50ZXJuYWwgY29tcG9uZW50IGluc3RhbmNlLCBzYXZlcyBhbGwgdGhlIGluZm9ybWF0aW9uIGFuZCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAvLyBBbW91bnQgb2YgaXRlbXMgd2hlbiBBUklBIGlzIHVwZGF0ZWRcbiAgICAgICAgICAgIHRvdGFsID0gdGhpcy5fJGl0ZW1zLmxlbmd0aCArIHRoaXMuX2FzeW5jLFxuICAgICAgICAgICAgLy8gUGFnZSB3aGVyZSBlYWNoIGl0ZW0gaXMgaW5cbiAgICAgICAgICAgIHBhZ2U7XG5cbiAgICAgICAgLy8gVXBkYXRlIFdBSS1BUklBIHByb3BlcnRpZXMgb24gYWxsIGl0ZW1zXG4gICAgICAgICQuZWFjaCh0aGlzLl8kaXRlbXMsIGZ1bmN0aW9uIChpLCBpdGVtKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgcGFnZSB3aGVyZSB0aGlzIGl0ZW0gaXMgaW5cbiAgICAgICAgICAgIHBhZ2UgPSBNYXRoLmZsb29yKGkgLyB0aGF0Ll9saW1pdFBlclBhZ2UpICsgMTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBBUklBIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIChwYWdlICE9PSB0aGF0Ll9jdXJyZW50UGFnZSkpO1xuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2V0c2l6ZScsIHRvdGFsKTtcbiAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXBvc2luc2V0JywgKGkgKyAxKSk7XG4gICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdwYWdlJyArIHBhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBpdGVtcyB3aGVuIHBhZ2UvcGFnZXMgbmVlZHMgdG8gbG9hZCBpdCBhc3luY2hyb25vdXNseS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9sb2FkQXN5bmNJdGVtcyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBMb2FkIG9ubHkgd2hlbiB0aGVyZSBhcmUgaXRlbXMgdG8gbG9hZFxuICAgICAgICBpZiAodGhpcy5fYXN5bmMgPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gQW1vdW50IG9mIGl0ZW1zIGZyb20gdGhlIGJlZ2lubmluZyB0byBjdXJyZW50IHBhZ2VcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5fY3VycmVudFBhZ2UgKiB0aGlzLl9saW1pdFBlclBhZ2UsXG4gICAgICAgICAgICAvLyBIb3cgbWFueSBpdGVtcyBuZWVkcyB0byBhZGQgdG8gaXRlbXMgcmVuZGVyZWQgdG8gY29tcGxldGUgdG8gdGhpcyBwYWdlXG4gICAgICAgICAgICBhbW91bnQgPSB0b3RhbCAtIHRoaXMuXyRpdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAvLyBUaGUgbmV3IHdpZHRoIGNhbGN1bGF0ZWQgZnJvbSBjdXJyZW50IHdpZHRoIHBsdXMgZXh0cmFXaWR0aFxuICAgICAgICAgICAgd2lkdGggPSAodGhpcy5faXRlbVdpZHRoICsgdGhpcy5faXRlbUV4dHJhV2lkdGgpLFxuICAgICAgICAgICAgLy8gR2V0IHRoZSBoZWlnaHQgdXNpbmcgbmV3IHdpZHRoIGFuZCByZWxhdGlvbiBiZXR3ZWVuIHdpZHRoIGFuZCBoZWlnaHQgb2YgaXRlbSAocmF0aW8pXG4gICAgICAgICAgICBoZWlnaHQgPSAoKHdpZHRoICogdGhpcy5faXRlbUhlaWdodCkgLyB0aGlzLl9pdGVtV2lkdGgpLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAvLyBHZW5lcmljIDxMST4gSFRNTCBFbGVtZW50IHRvIGJlIGFkZGVkIHRvIHRoZSBDYXJvdXNlbFxuICAgICAgICAgICAgaXRlbSA9IFtcbiAgICAgICAgICAgICAgICAnPGxpJyxcbiAgICAgICAgICAgICAgICAnIGNsYXNzPVwiY2gtY2Fyb3VzZWwtaXRlbVwiJyxcbiAgICAgICAgICAgICAgICAnIHN0eWxlPVwid2lkdGg6JyArIHdpZHRoICsgJ3B4O2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O21hcmdpbi1yaWdodDonICsgdGhpcy5faXRlbU1hcmdpbiArICdweFwiJyxcbiAgICAgICAgICAgICAgICAnPjwvbGk+J1xuICAgICAgICAgICAgXS5qb2luKCcnKSxcbiAgICAgICAgICAgIC8vIEl0IHN0b3JlcyA8TEk+IHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgRE9NIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIGl0ZW1zID0gJycsXG4gICAgICAgICAgICAvLyBXcmFwcGVkIGl0ZW1zXG4gICAgICAgICAgICAkaXRlbXM7XG5cbiAgICAgICAgLy8gTG9hZCBvbmx5IHdoZW4gdGhlcmUgYXJlIGl0ZW1zIHRvIGFkZFxuICAgICAgICBpZiAoYW1vdW50IDwgMSkgeyByZXR1cm47IH1cblxuICAgICAgICAvLyBJZiBuZXh0IHBhZ2UgbmVlZHMgbGVzcyBpdGVtcyB0aGFuIGl0IHN1cHBvcnQsIHRoZW4gYWRkIHRoYXQgYW1vdW50XG4gICAgICAgIGFtb3VudCA9ICh0aGlzLl9hc3luYyA8IGFtb3VudCkgPyB0aGlzLl9hc3luYyA6IGFtb3VudDtcblxuICAgICAgICAvLyBBZGQgdGhlIG5lY2Vzc2FyeSBhbW91bnQgb2YgaXRlbXNcbiAgICAgICAgd2hpbGUgKGFtb3VudCkge1xuICAgICAgICAgICAgaXRlbXMgKz0gaXRlbTtcbiAgICAgICAgICAgIGFtb3VudCAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV3JhcCB0aGUgc3RyaW5nIGVsZW1lbnRzIGludG8galF1ZXJ5L1plcHRvXG4gICAgICAgICRpdGVtcyA9ICQoaXRlbXMpO1xuXG4gICAgICAgIC8vIEFkZCBzYW1wbGUgaXRlbXMgdG8gdGhlIGxpc3RcbiAgICAgICAgdGhpcy5fJGxpc3QuYXBwZW5kKCRpdGVtcyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGl0ZW1zIGNvbGxlY3Rpb25cbiAgICAgICAgdGhpcy5fJGl0ZW1zID0gdGhpcy5fJGxpc3QuY2hpbGRyZW4oKTtcblxuICAgICAgICAvLyBTZXQgV0FJLUFSSUEgcHJvcGVydGllcyB0byBlYWNoIGl0ZW1cbiAgICAgICAgdGhpcy5fdXBkYXRlQVJJQSgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBhbW91bnQgb2YgaXRlbXMgdG8gYWRkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHRoaXMuX2FzeW5jIC09IGFtb3VudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgY3JlYXRlcyBuZXcgYXN5bmNocm9ub3VzIGVtcHR5IGl0ZW1zLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2Fyb3VzZWwjaXRlbXNhZGRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gQ3JlYXRlIGEgbmV3IENhcm91c2VsIHdpdGggaXRlbXMgYXN5bmNocm9ub3VzbHkgbG9hZGVkLlxuICAgICAgICAgKiB2YXIgY2Fyb3VzZWwgPSAkKHNlbGVjdG9yKS5jYXJvdXNlbCh7XG4gICAgICAgICAqICAgICAnYXN5bmMnOiAxMFxuICAgICAgICAgKiB9KS5vbignaXRlbXNhZGQnLCBmdW5jdGlvbiAoJGl0ZW1zKSB7XG4gICAgICAgICAqICAgICAvLyBJbmplY3QgY29udGVudCBpbnRvIHRoZSBhZGRlZCA8bGk+IGVsZW1lbnRzXG4gICAgICAgICAqICAgICAkLmVhY2goJGl0ZW1zLCBmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgKiAgICAgICAgIGUuaW5uZXJIVE1MID0gJ0NvbnRlbnQgaW50byBvbmUgb2YgbmV3bHkgaW5zZXJ0ZWQgPGxpPiBlbGVtZW50cy4nO1xuICAgICAgICAgKiAgICAgfSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdpdGVtc2FkZCcsICRpdGVtcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZ2luYXRpb24gb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9hZGRQYWdpbmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGN1cnJlbnQgcGFnaW5hdGlvbiBpZiBpdCdzIG5lY2Vzc2FyeSB0byBjcmVhdGUgYWdhaW5cbiAgICAgICAgaWYgKHRoaXMuX3BhZ2luYXRpb25DcmVhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVQYWdpbmF0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICB0aHVtYnMgPSBbXSxcbiAgICAgICAgICAgIHBhZ2UgPSB0aGF0Ll9wYWdlcyxcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYSB0aHVtYm5haWwgZm9yIGVhY2ggcGFnZSBvbiBDYXJvdXNlbFxuICAgICAgICB3aGlsZSAocGFnZSkge1xuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgdGh1bWJuYWlsIGlzIHNlbGVjdGVkIG9yIG5vdFxuICAgICAgICAgICAgaXNTZWxlY3RlZCA9IChwYWdlID09PSB0aGF0Ll9jdXJyZW50UGFnZSk7XG4gICAgICAgICAgICAvLyBBZGQgc3RyaW5nIHRvIGNvbGxlY3Rpb25cbiAgICAgICAgICAgIHRodW1icy51bnNoaWZ0KFxuICAgICAgICAgICAgICAgICc8c3BhbicsXG4gICAgICAgICAgICAgICAgJyByb2xlPVwiYnV0dG9uXCInLFxuICAgICAgICAgICAgICAgICcgYXJpYS1zZWxlY3RlZD1cIicgKyBpc1NlbGVjdGVkICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAnIGFyaWEtY29udHJvbHM9XCJwYWdlJyArIHBhZ2UgKyAnXCInLFxuICAgICAgICAgICAgICAgICcgZGF0YS1wYWdlPVwiJyArIHBhZ2UgKyAnXCInLFxuICAgICAgICAgICAgICAgICcgY2xhc3M9XCInICsgKGlzU2VsZWN0ZWQgPyAnY2gtY2Fyb3VzZWwtc2VsZWN0ZWQnIDogJycpICsgJ1wiJyxcbiAgICAgICAgICAgICAgICAnPicgKyBwYWdlICsgJzwvc3Bhbj4nXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBwYWdlIC09IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBlbmQgdGh1bWJuYWlscyB0byBwYWdpbmF0aW9uIGFuZCBhcHBlbmQgdGhpcyB0byBDYXJvdXNlbFxuICAgICAgICB0aGF0Ll8kcGFnaW5hdGlvbi5odG1sKHRodW1icy5qb2luKCcnKSkuYXBwZW5kVG8odGhhdC5fJGVsKTtcblxuICAgICAgICAvLyBBdm9pZCBzZWxlY3Rpb24gb24gdGhlIHBhZ2luYXRpb25cbiAgICAgICAgY2gudXRpbC5hdm9pZFRleHRTZWxlY3Rpb24odGhhdC5fJHBhZ2luYXRpb24pO1xuXG4gICAgICAgIC8vIENoZWNrIHBhZ2luYXRpb24gYXMgY3JlYXRlZFxuICAgICAgICB0aGF0Ll9wYWdpbmF0aW9uQ3JlYXRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHBhZ2luYXRpb24gZnJvbSB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX3JlbW92ZVBhZ2luYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEF2b2lkIHRvIGNoYW5nZSBzb21ldGhpbmcgdGhhdCBub3QgZXhpc3RzXG4gICAgICAgIGlmICghdGhpcy5fcGFnaW5hdGlvbkNyZWF0ZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgIC8vIERlbGV0ZSB0aHVtYm5haWxzXG4gICAgICAgIHRoaXMuXyRwYWdpbmF0aW9uWzBdLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAvLyBDaGVjayBwYWdpbmF0aW9uIGFzIGRlbGV0ZWRcbiAgICAgICAgdGhpcy5fcGFnaW5hdGlvbkNyZWF0ZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXQgc3RvcHMgdGhlIHNsaWRlIGVmZmVjdCB3aGlsZSB0aGUgbGlzdCBtb3Zlcy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBmdW5jdGlvbiB0byBleGVjdXRlIGFmdGVyIGRpc2FibGUgdGhlIGVmZmVjdHMuXG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLl9zdGFuZGJ5RlggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8vIERvIGl0IGlmIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmZ4KSB7XG4gICAgICAgICAgICAvLyBEZWxldGUgZWZlY3RzIG9uIGxpc3QgdG8gbWFrZSBjaGFuZ2VzIGluc3RhbnRseVxuICAgICAgICAgICAgdGhpcy5fJGxpc3QuYWRkQ2xhc3MoJ2NoLWNhcm91c2VsLW5vZngnKTtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIGN1c3RvbSBtZXRob2RcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAvLyBSZXN0b3JlIGVmZWN0cyB0byBsaXN0XG4gICAgICAgICAgICAvLyBVc2UgYSBzZXRUaW1lb3V0IHRvIGJlIHN1cmUgdG8gZG8gdGhpcyBBRlRFUiBjaGFuZ2VzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5fJGxpc3QucmVtb3ZlQ2xhc3MoJ2NoLWNhcm91c2VsLW5vZngnKTsgfSwgMCk7XG4gICAgICAgIC8vIEF2b2lkIHRvIGFkZC9yZW1vdmUgY2xhc3NlcyBpZiBpdCBoYXNuJ3QgZWZmZWN0c1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSB0b3RhbCBhbW91bnQgb2YgcGFnZXMgYW5kIGV4ZWN1dGVzIGludGVybmFsIG1ldGhvZHMgdG8gbG9hZCBhc3luY2hyb25vdXMgaXRlbXMsIHVwZGF0ZSBXQUktQVJJQSwgdXBkYXRlIHRoZSBhcnJvd3MgYW5kIHVwZGF0ZSBwYWdpbmF0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX3VwZGF0ZVBhZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGFtb3VudCBvZiB0b3RhbCBwYWdlc1xuICAgICAgICAvLyBUaGUgcmF0aW8gYmV0d2VlbiB0b3RhbCBhbW91bnQgb2YgaXRlbXMgYW5kIGl0ZW1zIGluIGVhY2ggcGFnZVxuICAgICAgICB0aGlzLl9wYWdlcyA9IE1hdGguY2VpbCgodGhpcy5fJGl0ZW1zLmxlbmd0aCArIHRoaXMuX2FzeW5jKSAvIHRoaXMuX2xpbWl0UGVyUGFnZSk7XG4gICAgICAgIC8vIEFkZCBpdGVtcyB0byB0aGUgbGlzdCwgaWYgaXQncyBuZWNlc3NhcnlcbiAgICAgICAgdGhpcy5fbG9hZEFzeW5jSXRlbXMoKTtcbiAgICAgICAgLy8gU2V0IFdBSS1BUklBIHByb3BlcnRpZXMgdG8gZWFjaCBpdGVtXG4gICAgICAgIHRoaXMuX3VwZGF0ZUFSSUEoKTtcbiAgICAgICAgLy8gVXBkYXRlIGFycm93cyAod2hlbiBwYWdlcyA9PT0gMSwgdGhlcmUgaXMgbm8gYXJyb3dzKVxuICAgICAgICB0aGlzLl91cGRhdGVBcnJvd3MoKTtcbiAgICAgICAgLy8gVXBkYXRlIHBhZ2luYXRpb25cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMucGFnaW5hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fYWRkUGFnaW5hdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNvcnJlY3QgaXRlbXMgcGVyIHBhZ2UgYW5kIGNhbGN1bGF0ZSBwYWdlcywgb25seSB3aGVuIHRoZSBhbW91bnQgb2YgaXRlbXMgd2FzIGNoYW5nZWQuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5fdXBkYXRlTGltaXRQZXJQYWdlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBtYXggPSB0aGlzLl9vcHRpb25zLmxpbWl0UGVyUGFnZSxcbiAgICAgICAgICAgIC8vIEdvIHRvIHRoZSBjdXJyZW50IGZpcnN0IGl0ZW0gb24gdGhlIGN1cnJlbnQgcGFnZSB0byByZXN0b3JlIGlmIHBhZ2VzIGFtb3VudCBjaGFuZ2VzXG4gICAgICAgICAgICBmaXJzdEl0ZW1PblBhZ2UsXG4gICAgICAgICAgICAvLyBUaGUgd2lkdGggb2YgZWFjaCBpdGVtIGludG8gdGhlIHdpZHRoIG9mIHRoZSBtYXNrXG4gICAgICAgICAgICAvLyBBdm9pZCB6ZXJvIGl0ZW1zIGluIGEgcGFnZVxuICAgICAgICAgICAgbGltaXRQZXJQYWdlID0gTWF0aC5mbG9vcih0aGlzLl9tYXNrV2lkdGggLyB0aGlzLl9pdGVtT3V0ZXJXaWR0aCkgfHwgMTtcblxuICAgICAgICAvLyBMaW1pdCBhbW91bnQgb2YgaXRlbXMgd2hlbiB1c2VyIHNldCBhIGxpbWl0UGVyUGFnZSBhbW91bnRcbiAgICAgICAgaWYgKG1heCAhPT0gdW5kZWZpbmVkICYmIGxpbWl0UGVyUGFnZSA+IG1heCkgeyBsaW1pdFBlclBhZ2UgPSBtYXg7IH1cblxuICAgICAgICAvLyBTZXQgZGF0YSBhbmQgY2FsY3VsYXRlIHBhZ2VzLCBvbmx5IHdoZW4gdGhlIGFtb3VudCBvZiBpdGVtcyB3YXMgY2hhbmdlZFxuICAgICAgICBpZiAobGltaXRQZXJQYWdlID09PSB0aGlzLl9saW1pdFBlclBhZ2UpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgLy8gUmVzdG9yZSBpZiBsaW1pdFBlclBhZ2UgaXMgTk9UIHRoZSBzYW1lIGFmdGVyIGNhbGN1bGF0aW9ucyAoZ28gdG8gdGhlIGN1cnJlbnQgZmlyc3QgaXRlbSBwYWdlKVxuICAgICAgICBmaXJzdEl0ZW1PblBhZ2UgPSAoKHRoaXMuX2N1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLl9saW1pdFBlclBhZ2UpICsgMTtcbiAgICAgICAgLy8gVXBkYXRlIGFtb3VudCBvZiBpdGVtcyBpbnRvIGEgc2luZ2xlIHBhZ2UgKGZyb20gY29uZiBvciBhdXRvIGNhbGN1bGF0aW9ucylcbiAgICAgICAgdGhpcy5fbGltaXRQZXJQYWdlID0gbGltaXRQZXJQYWdlO1xuICAgICAgICAvLyBDYWxjdWxhdGVzIHRoZSB0b3RhbCBhbW91bnQgb2YgcGFnZXMgYW5kIGV4ZWN1dGVzIGludGVybmFsIG1ldGhvZHNcbiAgICAgICAgdGhpcy5fdXBkYXRlUGFnZXMoKTtcbiAgICAgICAgLy8gR28gdG8gdGhlIGN1cnJlbnQgZmlyc3QgaXRlbSBwYWdlXG4gICAgICAgIHRoaXMuc2VsZWN0KE1hdGguY2VpbChmaXJzdEl0ZW1PblBhZ2UgLyBsaW1pdFBlclBhZ2UpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhbmQgc2V0IHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhbmQgaXRzIG1hcmdpbiB0byBnZXQgYW4gYWRhcHRpdmUgQ2Fyb3VzZWwuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5fdXBkYXRlRGlzdHJpYnV0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBtb3JlVGhhbk9uZSA9IHRoaXMuX2xpbWl0UGVyUGFnZSA+IDEsXG4gICAgICAgICAgICAvLyBUb3RhbCBzcGFjZSB0byB1c2UgYXMgbWFyZ2luIGludG8gbWFza1xuICAgICAgICAgICAgLy8gSXQncyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG1hc2sgd2lkdGggYW5kIHRvdGFsIHdpZHRoIG9mIGFsbCBpdGVtc1xuICAgICAgICAgICAgZnJlZVNwYWNlID0gdGhpcy5fbWFza1dpZHRoIC0gKHRoaXMuX2l0ZW1PdXRlcldpZHRoICogdGhpcy5fbGltaXRQZXJQYWdlKSxcbiAgICAgICAgICAgIC8vIFdpZHRoIHRvIGFkZCB0byBlYWNoIGl0ZW0gdG8gZ2V0IHJlc3BvbnNpdml0eVxuICAgICAgICAgICAgLy8gV2hlbiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBpdGVtLCBnZXQgZXh0cmEgd2lkdGggZm9yIGVhY2ggb25lXG4gICAgICAgICAgICAvLyBXaGVuIHRoZXJlIGFyZSBvbmx5IG9uZSBpdGVtLCBleHRyYVdpZHRoIG11c3QgYmUganVzdCB0aGUgZnJlZVNwYWNlXG4gICAgICAgICAgICBleHRyYVdpZHRoID0gbW9yZVRoYW5PbmUgPyBNYXRoLmNlaWwoZnJlZVNwYWNlIC8gdGhpcy5fbGltaXRQZXJQYWdlIC8gMikgOiBNYXRoLmNlaWwoZnJlZVNwYWNlKSxcbiAgICAgICAgICAgIC8vIEFtb3VudCBvZiBzcGFjZXMgdG8gZGlzdHJpYnV0ZSB0aGUgZnJlZSBzcGFjZVxuICAgICAgICAgICAgc3BhY2VzLFxuICAgICAgICAgICAgLy8gVGhlIG5ldyB3aWR0aCBjYWxjdWxhdGVkIGZyb20gY3VycmVudCB3aWR0aCBwbHVzIGV4dHJhV2lkdGhcbiAgICAgICAgICAgIHdpZHRoO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBPTkxZIElGIG1hcmdpbiBjaGFuZ2VkIGZyb20gbGFzdCByZWZyZXNoXG4gICAgICAgIC8vIElmICpuZXcqIGFuZCAqb2xkKiBleHRyYSB3aWR0aCBhcmUgMCwgY29udGludWUgdG9vXG4gICAgICAgIGlmIChleHRyYVdpZHRoID09PSB0aGlzLl9pdGVtRXh0cmFXaWR0aCAmJiBleHRyYVdpZHRoID4gMCkgeyByZXR1cm47IH1cblxuICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIHZhbHVlIG9mIHdpZHRoXG4gICAgICAgIHRoaXMuX2l0ZW1FeHRyYVdpZHRoID0gZXh0cmFXaWR0aDtcblxuICAgICAgICAvLyBXaGVuIHRoZXJlIGFyZSA2IGl0ZW1zIG9uIGEgcGFnZSwgdGhlcmUgYXJlIDUgc3BhY2VzIGJldHdlZW4gdGhlbVxuICAgICAgICAvLyBFeGNlcHQgd2hlbiB0aGVyZSBhcmUgb25seSBvbmUgcGFnZSB0aGF0IE5PIGV4aXN0IHNwYWNlc1xuICAgICAgICBzcGFjZXMgPSBtb3JlVGhhbk9uZSA/IHRoaXMuX2xpbWl0UGVyUGFnZSAtIDEgOiAwO1xuICAgICAgICAvLyBUaGUgbmV3IHdpZHRoIGNhbGN1bGF0ZWQgZnJvbSBjdXJyZW50IHdpZHRoIHBsdXMgZXh0cmFXaWR0aFxuICAgICAgICB3aWR0aCA9IHRoaXMuX2l0ZW1XaWR0aCArIGV4dHJhV2lkdGg7XG5cbiAgICAgICAgLy8gRnJlZSBzcGFjZSBmb3IgZWFjaCBzcGFjZSBiZXR3ZWVuIGl0ZW1zXG4gICAgICAgIC8vIENlaWwgdG8gZGVsZXRlIGZsb2F0IG51bWJlcnMgKG5vdCBGbG9vciwgYmVjYXVzZSBuZXh0IHBhZ2UgaXMgc2VlbilcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gbWFyZ2luIHdoZW4gdGhlcmUgYXJlIG9ubHkgb25lIGl0ZW0gaW4gYSBwYWdlXG4gICAgICAgIC8vIFVwZGF0ZSBnbG9iYWwgdmFsdWVzXG4gICAgICAgIHRoaXMuX2l0ZW1NYXJnaW4gPSBtb3JlVGhhbk9uZSA/IE1hdGguY2VpbChmcmVlU3BhY2UgLyBzcGFjZXMgLyAyKSA6IDA7XG5cbiAgICAgICAgLy8gVXBkYXRlIGRpc3RhbmNlIG5lZWRlZCB0byBtb3ZlIE9OTFkgT05FIHBhZ2VcbiAgICAgICAgLy8gVGhlIHdpZHRoIG9mIGFsbCBpdGVtcyBvbiBhIHBhZ2UsIHBsdXMgdGhlIHdpZHRoIG9mIGFsbCBtYXJnaW5zIG9mIGl0ZW1zXG4gICAgICAgIHRoaXMuX3BhZ2VXaWR0aCA9ICh0aGlzLl9pdGVtT3V0ZXJXaWR0aCArIGV4dHJhV2lkdGggKyB0aGlzLl9pdGVtTWFyZ2luKSAqIHRoaXMuX2xpbWl0UGVyUGFnZTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGxpc3Qgd2lkdGhcbiAgICAgICAgLy8gRG8gaXQgYmVmb3JlIGl0ZW0gcmVzaXppbmcgdG8gbWFrZSBzcGFjZSB0byBhbGwgaXRlbXNcbiAgICAgICAgLy8gRGVsZXRlIGVmZWN0cyBvbiBsaXN0IHRvIGNoYW5nZSB3aWR0aCBpbnN0YW50bHlcbiAgICAgICAgdGhpcy5fc3RhbmRieUZYKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuXyRsaXN0LmNzcygnd2lkdGgnLCB0aGlzLl9wYWdlV2lkdGggKiB0aGlzLl9wYWdlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBlbGVtZW50IHN0eWxlc1xuICAgICAgICAvLyBHZXQgdGhlIGhlaWdodCB1c2luZyBuZXcgd2lkdGggYW5kIHJlbGF0aW9uIGJldHdlZW4gd2lkdGggYW5kIGhlaWdodCBvZiBpdGVtIChyYXRpbylcbiAgICAgICAgdGhpcy5fJGl0ZW1zLmNzcyh7XG4gICAgICAgICAgICAnd2lkdGgnOiB3aWR0aCxcbiAgICAgICAgICAgICdoZWlnaHQnOiAoKHdpZHRoICogdGhpcy5faXRlbUhlaWdodCkgLyB0aGlzLl9pdGVtV2lkdGgpLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzogdGhpcy5faXRlbU1hcmdpblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1hc2sgaGVpZ2h0IHdpdGggdGhlIGxpc3QgaGVpZ2h0XG4gICAgICAgIHRoaXMuXyRtYXNrWzBdLnN0eWxlLmhlaWdodCA9IGNoLnV0aWwuZ2V0T3V0ZXJEaW1lbnNpb25zKHRoaXMuXyRpdGVtc1swXSkuaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAvLyBTdWl0IHRoZSBwYWdlIGluIHBsYWNlXG4gICAgICAgIHRoaXMuX3N0YW5kYnlGWChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGUoLXRoaXMuX3BhZ2VXaWR0aCAqICh0aGlzLl9jdXJyZW50UGFnZSAtIDEpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYXJyb3dzIHRvIHRoZSBjb21wb25lbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5fYWRkQXJyb3dzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBBdm9pZCBzZWxlY3Rpb24gb24gdGhlIGFycm93c1xuICAgICAgICBjaC51dGlsLmF2b2lkVGV4dFNlbGVjdGlvbih0aGlzLl8kcHJldkFycm93LCB0aGlzLl8kbmV4dEFycm93KTtcbiAgICAgICAgLy8gQWRkIGFycm93cyB0byBET01cbiAgICAgICAgdGhpcy5fJGVsLnByZXBlbmQodGhpcy5fJHByZXZBcnJvdykuYXBwZW5kKHRoaXMuXyRuZXh0QXJyb3cpO1xuICAgICAgICAvLyBDaGVjayBhcnJvd3MgYXMgY3JlYXRlZFxuICAgICAgICB0aGlzLl9hcnJvd3NDcmVhdGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGFzIGRpc2FibGVkIHRoZSBhcnJvd3MgYnkgYWRkaW5nIGEgY2xhc3NuYW1lIGFuZCBhIFdBSS1BUklBIHByb3BlcnR5LlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHByZXYgRGVmaW5lcyBpZiB0aGUgXCJwcmV2aW91c1wiIGFycm93IG11c3QgYmUgZGlzYWJsZWQgb3Igbm90LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gbmV4dCBEZWZpbmVzIGlmIHRoZSBcIm5leHRcIiBhcnJvdyBtdXN0IGJlIGRpc2FibGVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX2Rpc2FibGVBcnJvd3MgPSBmdW5jdGlvbiAocHJldiwgbmV4dCkge1xuICAgICAgICB0aGlzLl8kcHJldkFycm93LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBwcmV2KVtwcmV2ID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjaC1jYXJvdXNlbC1kaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLl8kbmV4dEFycm93LmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCBuZXh0KVtuZXh0ID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjaC1jYXJvdXNlbC1kaXNhYmxlZCcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgYXJyb3dzIGJlaGF2aW9yIG9uIGZpcnN0LCBsYXN0IGFuZCBtaWRkbGUgcGFnZXMsIGFuZCB1cGRhdGUgY2xhc3MgbmFtZSBhbmQgV0FJLUFSSUEgdmFsdWVzLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX3VwZGF0ZUFycm93cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ2hlY2sgYXJyb3dzIGV4aXN0ZW5jeVxuICAgICAgICBpZiAoIXRoaXMuX2Fycm93c0NyZWF0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXNlIDE6IERpc2FibGUgYm90aCBhcnJvd3MgaWYgdGhlcmUgYXJlIG9ueSBvbmUgcGFnZVxuICAgICAgICBpZiAodGhpcy5fcGFnZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVBcnJvd3ModHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIC8vIENhc2UgMjogXCJQcmV2aW91c1wiIGFycm93IGhpZGRlbiBvbiBmaXJzdCBwYWdlXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY3VycmVudFBhZ2UgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVBcnJvd3ModHJ1ZSwgZmFsc2UpO1xuICAgICAgICAvLyBDYXNlIDM6IFwiTmV4dFwiIGFycm93IGhpZGRlbiBvbiBsYXN0IHBhZ2VcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jdXJyZW50UGFnZSA9PT0gdGhpcy5fcGFnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVBcnJvd3MoZmFsc2UsIHRydWUpO1xuICAgICAgICAvLyBDYXNlIDQ6IEVuYWJsZSBib3RoIGFycm93cyBvbiBDYXJvdXNlbCdzIG1pZGRsZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZUFycm93cyhmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBsaXN0IGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lmaWVkIGRpc3BsYWNlbWVudC5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRpc3BsYWNlbWVudCBEaXN0YW5jZSB0byBtb3ZlIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5fdHJhbnNsYXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ1NTIHByb3BlcnR5IHdyaXR0ZW4gYXMgc3RyaW5nIHRvIHVzZSBvbiBDU1MgbW92ZW1lbnRcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9ICctJyArIGNoLnV0aWwuVkVORE9SX1BSRUZJWCArICctdHJhbnNmb3JtJztcblxuICAgICAgICAvLyBVc2UgQ1NTIHRyYW5zZm9ybSB0byBtb3ZlXG4gICAgICAgIGlmIChjaC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fJGxpc3QuY3NzKHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZVgoJyArIGRpc3BsYWNlbWVudCArICdweCknKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2UgSlMgdG8gbW92ZVxuICAgICAgICAvLyBBc2sgZm9yIGZ4IElOVE8gdGhlIG1ldGhvZCBiZWNhdXNlIHRoZSBcImZ4XCIgaXMgYW4gaW5zdGFuY2UgcHJvcGVydHlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuXyRsaXN0Wyh0aGlzLl9vcHRpb25zLmZ4KSA/ICdhbmltYXRlJyA6ICdjc3MnXSh7J2xlZnQnOiBkaXNwbGFjZW1lbnR9KTtcbiAgICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc2VsZWN0ZWQgcGFnZSBvbiBwYWdpbmF0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJvbSBQYWdlIHByZXZpb3VzbHkgc2VsZWN0ZWQuIEl0IHdpbGwgYmUgdW5zZWxlY3RlZC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG8gUGFnZSB0byBiZSBzZWxlY3RlZC5cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuX3N3aXRjaFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgLy8gQXZvaWQgdG8gY2hhbmdlIHNvbWV0aGluZyB0aGF0IG5vdCBleGlzdHNcbiAgICAgICAgaWYgKCF0aGlzLl9wYWdpbmF0aW9uQ3JlYXRlZCkgeyByZXR1cm47IH1cbiAgICAgICAgLy8gR2V0IGFsbCB0aHVtYm5haWxzIG9mIHBhZ2luYXRpb24gZWxlbWVudFxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLl8kcGFnaW5hdGlvbi5jaGlsZHJlbigpO1xuICAgICAgICAvLyBVbnNlbGVjdCB0aGUgdGh1bWJuYWlsIHByZXZpb3VzbHkgc2VsZWN0ZWRcbiAgICAgICAgY2hpbGRyZW4uZXEoZnJvbSAtIDEpLmF0dHIoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSkucmVtb3ZlQ2xhc3MoJ2NoLWNhcm91c2VsLXNlbGVjdGVkJyk7XG4gICAgICAgIC8vIFNlbGVjdCB0aGUgbmV3IHRodW1ibmFpbFxuICAgICAgICBjaGlsZHJlbi5lcSh0byAtIDEpLmF0dHIoJ2FyaWEtc2VsZWN0ZWQnLCB0cnVlKS5hZGRDbGFzcygnY2gtY2Fyb3VzZWwtc2VsZWN0ZWQnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYWxsIHRoZSBuZWNlc3NhcnkgcmVjYWxjdWxhdGlvbnMgdG8gYmUgdXAtdG8tZGF0ZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjYXJvdXNlbH1cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBtYXNrV2lkdGggPSBjaC51dGlsLmdldE91dGVyRGltZW5zaW9ucyh0aGlzLl8kbWFza1swXSkud2lkdGg7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgb24gdGhlIHdpZHRoIG9mIG1hc2ssIGZvciB0aGUgZWxhc3RpYyBjYXJvdXNlbFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHdpZHRoIG9mIHRoZSBtYXNrXG4gICAgICAgIGlmIChtYXNrV2lkdGggIT09IHRoaXMuX21hc2tXaWR0aCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBnbG9iYWwgcmVmZXJlbmNlIHRvIHRoZSB3aXRoIG9mIHRoZSBtYXNrXG4gICAgICAgICAgICB0aGlzLl9tYXNrV2lkdGggPSBtYXNrV2lkdGg7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgaXRlbXMgcGVyIHBhZ2UgYW5kIGNhbGN1bGF0ZSBwYWdlcywgb25seSB3aGVuIHRoZSBhbW91bnQgb2YgaXRlbXMgd2FzIGNoYW5nZWRcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUxpbWl0UGVyUGFnZSgpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYXJnaW4gYmV0d2VlbiBpdGVtcyBhbmQgaXRzIHNpemVcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZURpc3RyaWJ1dGlvbigpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IG1ha2VzIGFsbCB0aGUgbmVjZXNzYXJ5IHJlY2FsY3VsYXRpb25zIHRvIGJlIHVwLXRvLWRhdGUuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ2Fyb3VzZWwjcmVmcmVzaFxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlZnJlc2hcIiBldmVudC5cbiAgICAgICAgICAgICAqIGNhcm91c2VsLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICogICAgIGFsZXJ0KCdDYXJvdXNlbCB3YXMgcmVmcmVzaGVkLicpO1xuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVmcmVzaCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGEgY2hhbmdlIGluIHRoZSB0b3RhbCBhbW91bnQgb2YgaXRlbXNcbiAgICAgICAgLy8gVXBkYXRlIGl0ZW1zIGNvbGxlY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuXyRsaXN0LmNoaWxkcmVuKCkubGVuZ3RoICE9PSB0aGlzLl8kaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGVudGlyZSByZWZlcmVuY2UgdG8gaXRlbXNcbiAgICAgICAgICAgIHRoaXMuXyRpdGVtcyA9IHRoaXMuXyRsaXN0LmNoaWxkcmVuKCk7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGVzIHRoZSB0b3RhbCBhbW91bnQgb2YgcGFnZXMgYW5kIGV4ZWN1dGVzIGludGVybmFsIG1ldGhvZHNcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVBhZ2VzKCk7XG4gICAgICAgICAgICAvLyBHbyB0byB0aGUgbGFzdCBwYWdlIGluIGNhc2UgdGhhdCB0aGUgY3VycmVudCBwYWdlIG5vIGxvbmdlciBleGlzdHNcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50UGFnZSA+IHRoaXMuX3BhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhbmRieUZYKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZWxlY3QodGhhdC5fcGFnZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IG1ha2VzIGFsbCB0aGUgbmVjZXNzYXJ5IHJlY2FsY3VsYXRpb25zIHRvIGJlIHVwLXRvLWRhdGUuXG4gICAgICAgICAgICAgKiBAZXZlbnQgY2guQ2Fyb3VzZWwjcmVmcmVzaFxuICAgICAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlZnJlc2gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgbGlzdCB0byB0aGUgc3BlY2lmaWVkIHBhZ2UuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSBSZWZlcmVuY2Ugb2YgcGFnZSB3aGVyZSB0aGUgbGlzdCBoYXMgdG8gbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Y2Fyb3VzZWx9XG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgIC8vIEdldHRlclxuICAgICAgICBpZiAocGFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudFBhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCB0byBtb3ZlIGlmIGl0J3MgZGlzYWJsZWRcbiAgICAgICAgLy8gQXZvaWQgdG8gc2VsZWN0IHRoZSBzYW1lIHBhZ2UgdGhhdCBpcyBzZWxlY3RlZCB5ZXRcbiAgICAgICAgLy8gQXZvaWQgdG8gbW92ZSBiZXlvbmQgZmlyc3QgYW5kIGxhc3QgcGFnZXNcbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkIHx8IHBhZ2UgPT09IHRoaXMuX2N1cnJlbnRQYWdlIHx8IHBhZ2UgPCAxIHx8IHBhZ2UgPiB0aGlzLl9wYWdlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQZXJmb3JtIHRoZXNlIHRhc2tzIGluIHRoZSBmb2xsb3dpbmcgb3JkZXI6XG4gICAgICAgIC8vIFRhc2sgMTogTW92ZSB0aGUgbGlzdCBmcm9tIDAgKHplcm8pLCB0byBwYWdlIHRvIG1vdmUgKHBhZ2UgbnVtYmVyIGJlZ2lubmluZyBpbiB6ZXJvKVxuICAgICAgICB0aGlzLl90cmFuc2xhdGUoLXRoaXMuX3BhZ2VXaWR0aCAqIChwYWdlIC0gMSkpO1xuICAgICAgICAvLyBUYXNrIDI6IFVwZGF0ZSBzZWxlY3RlZCB0aHVtYm5haWwgb24gcGFnaW5hdGlvblxuICAgICAgICB0aGlzLl9zd2l0Y2hQYWdpbmF0aW9uKHRoaXMuX2N1cnJlbnRQYWdlLCBwYWdlKTtcbiAgICAgICAgLy8gVGFzayAzOiBVcGRhdGUgdmFsdWUgb2YgY3VycmVudCBwYWdlXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQYWdlID0gcGFnZTtcbiAgICAgICAgLy8gVGFzayA0OiBDaGVjayBmb3IgYXJyb3dzIGJlaGF2aW9yIG9uIGZpcnN0LCBsYXN0IGFuZCBtaWRkbGUgcGFnZXNcbiAgICAgICAgdGhpcy5fdXBkYXRlQXJyb3dzKCk7XG4gICAgICAgIC8vIFRhc2sgNTogQWRkIGl0ZW1zIHRvIHRoZSBsaXN0LCBpZiBpdCdzIG5lY2Vzc2FyeVxuICAgICAgICB0aGlzLl9sb2FkQXN5bmNJdGVtcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBtb3ZlcyB0byBhbm90aGVyIHBhZ2UuXG4gICAgICAgICAqIEBldmVudCBjaC5DYXJvdXNlbCNzZWxlY3RcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwic2VsZWN0XCIgZXZlbnQuXG4gICAgICAgICAqIGNhcm91c2VsLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICBhbGVydCgnQ2Fyb3VzZWwgd2FzIG1vdmVkLicpO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnc2VsZWN0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBsaXN0IHRvIHRoZSBwcmV2aW91cyBwYWdlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge2Nhcm91c2VsfVxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuX2N1cnJlbnRQYWdlIC0gMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29tcG9uZW50IG1vdmVzIHRvIHRoZSBwcmV2aW91cyBwYWdlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ2Fyb3VzZWwjcHJldlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjYXJvdXNlbC5vbigncHJldicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIGFsZXJ0KCdDYXJvdXNlbCBoYXMgbW92ZWQgdG8gdGhlIHByZXZpb3VzIHBhZ2UuJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCdwcmV2Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBsaXN0IHRvIHRoZSBuZXh0IHBhZ2UuXG4gICAgICogQG1lbWJlcm9mISBjaC5DYXJvdXNlbC5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Y2Fyb3VzZWx9XG4gICAgICovXG4gICAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5zZWxlY3QodGhpcy5fY3VycmVudFBhZ2UgKyAxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgbW92ZXMgdG8gdGhlIG5leHQgcGFnZS5cbiAgICAgICAgICogQGV2ZW50IGNoLkNhcm91c2VsI25leHRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY2Fyb3VzZWwub24oJ25leHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICBhbGVydCgnQ2Fyb3VzZWwgaGFzIG1vdmVkIHRvIHRoZSBuZXh0IHBhZ2UuJyk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbWl0KCduZXh0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYSBDYXJvdXNlbCBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtjYXJvdXNlbH1cbiAgICAgKi9cbiAgICBDYXJvdXNlbC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9kaXNhYmxlQXJyb3dzKGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgcGFyZW50LmVuYWJsZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBhIENhcm91c2VsIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ2Fyb3VzZWwucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge2Nhcm91c2VsfVxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX2Rpc2FibGVBcnJvd3ModHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgcGFyZW50LmRpc2FibGUuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBDYXJvdXNlbCBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNhcm91c2VsLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENhcm91c2VsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2VsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMuX3NuaXBwZXQsIHRoaXMuX2VsKTtcblxuICAgICAgICAkKHdpbmRvdy5kb2N1bWVudCkudHJpZ2dlcihjaC5vbmxheW91dGNoYW5nZSk7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfTtcblxuICAgIGNoLmZhY3RvcnkoQ2Fyb3VzZWwpO1xuXG59KHRoaXMsIHRoaXMuY2guJCwgdGhpcy5jaCkpO1xuXG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG51bSA9IHdpbmRvdy5wYXJzZUludChvcHRpb25zLCAxMCk7XG5cbiAgICAgICAgaWYgKCF3aW5kb3cuaXNOYU4obnVtKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAnbWF4JzogbnVtXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ291bnRkb3duIGNvdW50cyB0aGUgbWF4aW11bSBvZiBjaGFyYWN0ZXJzIHRoYXQgdXNlciBjYW4gZW50ZXIgaW4gYSBmb3JtIGNvbnRyb2wuIENvdW50ZG93biBjb3VsZCBsaW1pdCB0aGUgcG9zc2liaWxpdHkgdG8gY29udGludWUgaW5zZXJ0aW5nIGNoYXJzZXQuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9ICRlbCBBIGpRdWVyeSBvciBaZXB0byBTZWxlY3RvciB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgY2guQ291bnRkb3duLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heF0gTnVtYmVyIG9mIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBjaGFyYWN0ZXJzIHVzZXIgY2FuIGlucHV0IGluIGZvcm0gY29udHJvbC4gRGVmYXVsdDogNTAwLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wbHVyYWxdIE1lc3NhZ2Ugb2YgcmVtYWluaW5nIGFtb3VudCBvZiBjaGFyYWN0ZXJzLCB3aGVuIGl0J3MgZGlmZmVyZW50IHRvIDEuIFRoZSB2YXJpYWJsZSB0aGF0IHJlcHJlc2VudHMgdGhlIG51bWJlciB0byBiZSByZXBsYWNlZCwgc2hvdWxkIGJlIGEgaGFzaC4gRGVmYXVsdDogXCIjIGNoYXJhY3RlcnMgbGVmdC5cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2luZ3VsYXJdIE1lc3NhZ2Ugb2YgcmVtYWluaW5nIGFtb3VudCBvZiBjaGFyYWN0ZXJzLCB3aGVuIGl0J3Mgb25seSAxLiBUaGUgdmFyaWFibGUgdGhhdCByZXByZXNlbnRzIHRoZSBudW1iZXIgdG8gYmUgcmVwbGFjZWQsIHNob3VsZCBiZSBhIGhhc2guIERlZmF1bHQ6IFwiIyBjaGFyYWN0ZXIgbGVmdC5cIi5cbiAgICAgKiBAcmV0dXJucyB7Y291bnRkb3dufSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIENvdW50ZG93bi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBDb3VudGRvd24uXG4gICAgICogdmFyIGNvdW50ZG93biA9IG5ldyBjaC5Db3VudGRvd24oJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IENvdW50ZG93biB3aXRoIGpRdWVyeSBvciBaZXB0by5cbiAgICAgKiB2YXIgY291bnRkb3duID0gJChzZWxlY3RvcikuY291bnRkb3duKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQ291bnRkb3duIHdpdGggY3VzdG9tIG9wdGlvbnMuXG4gICAgICogdmFyIGNvdW50ZG93biA9ICQoc2VsZWN0b3IpLmNvdW50ZG93bih7XG4gICAgICogICAgICdtYXgnOiAyNTAsXG4gICAgICogICAgICdwbHVyYWwnOiAnTGVmdDogIyBjaGFyYWN0ZXJzLicsXG4gICAgICogICAgICdzaW5ndWxhcic6ICdMZWZ0OiAjIGNoYXJhY3Rlci4nXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgQ291bnRkb3duIHVzaW5nIHRoZSBzaG9ydGhhbmQgd2F5IChtYXggYXMgcGFyYW1ldGVyKS5cbiAgICAgKiAkKHNlbGVjdG9yKS5jb3VudGRvd24oNTAwKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb3VudGRvd24oJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoYXQuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IENvdW50ZG93biBpcyBjcmVhdGVkLlxuICAgICAgICAgICAgICogQG1lbWJlcm9mISBjaC5Db3VudGRvd24ucHJvdG90eXBlXG4gICAgICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVhZHkgdG8gdXNlLlxuICAgICAgICAgKiBAZXZlbnQgY2guQ291bnRkb3duI3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIGNvdW50ZG93bi5vbigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRoYXQuZW1pdChcInJlYWR5XCIpOyB9LCA1MCk7XG4gICAgfVxuXG4gICAgLy8gSW5oZXJpdGFuY2VcbiAgICB2YXIgcGFyZW50ID0gY2gudXRpbC5pbmhlcml0cyhDb3VudGRvd24sIGNoLkNvbXBvbmVudCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ291bnRkb3duLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgY2FuIHJlYWNoIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlLlxuICAgICAqIHZhciBjb3VudGRvd24gPSAkKHNlbGVjdG9yKS5kYXRhKCdjb3VudGRvd24nKTtcbiAgICAgKi9cbiAgICBDb3VudGRvd24ucHJvdG90eXBlLm5hbWUgPSAnY291bnRkb3duJztcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQ291bnRkb3duLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIENvdW50ZG93bi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb3VudGRvd247XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENvdW50ZG93bi5wcm90b3R5cGUuX2RlZmF1bHRzID0ge1xuICAgICAgICAncGx1cmFsJzogJyMgY2hhcmFjdGVycyBsZWZ0LicsXG4gICAgICAgICdzaW5ndWxhcic6ICcjIGNoYXJhY3RlciBsZWZ0LicsXG4gICAgICAgICdtYXgnOiA1MDBcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBpbnN0YW5jZSBvZiBDb3VudGRvd24gYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkNvdW50ZG93bi5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtjb3VudGRvd259XG4gICAgICovXG4gICAgQ291bnRkb3duLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2FsbCB0byBpdHMgcGFyZW50IGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZSB0aGUgXCJpZFwiIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZXNzYWdlSUQgPSAnY2gtY291bnRkb3duLW1lc3NhZ2UtJyArIHRoYXQudWlkLFxuXG4gICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2luZ3VsYXIgb3IgUGx1cmFsIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIGFtb3VudCBvZiByZW1haW5pbmcgY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtZXNzYWdlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY291bnRkb3duIHRyaWdnZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gR2V0cyB0aGUgY291bnRkb3duIHRyaWdnZXIuXG4gICAgICAgICAqIGNvdW50ZG93bi4kdHJpZ2dlcjtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHRyaWdnZXIgPSB0aGlzLl8kZWwub24oJ2tleXVwLmNvdW50ZG93biBrZXlwcmVzcy5jb3VudGRvd24ga2V5ZG93bi5jb3VudGRvd24gcGFzdGUuY291bnRkb3duIGN1dC5jb3VudGRvd24gaW5wdXQuY291bnRkb3duJywgZnVuY3Rpb24gKCkgeyB0aGF0Ll9jb3VudCgpOyB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW1vdW50IG9mIGZyZWUgY2hhcmFjdGVycyB1bnRpbCBmdWxsIHRoZSBmaWVsZC5cbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoYXQuX3JlbWFpbmluZyA9IHRoYXQuX29wdGlvbnMubWF4IC0gdGhhdC5fY29udGVudExlbmd0aCgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbWVzc2FnZVxuICAgICAgICBtZXNzYWdlID0gKCh0aGF0Ll9yZW1haW5pbmcgPT09IDEpID8gdGhhdC5fb3B0aW9ucy5zaW5ndWxhciA6IHRoYXQuX29wdGlvbnMucGx1cmFsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvdW50ZG93biBjb250YWluZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoYXQuJGNvbnRhaW5lciA9ICQoJzxwIGNsYXNzPVwiY2gtY291bnRkb3duIGNoLWZvcm0taGludFwiIGlkPVwiJyArIG1lc3NhZ2VJRCArICdcIj4nICsgbWVzc2FnZS5yZXBsYWNlKCcjJywgdGhhdC5fcmVtYWluaW5nKSArICc8L3A+JykuYXBwZW5kVG8odGhhdC5fJGVsLnBhcmVudCgpKTtcblxuICAgICAgICB0aGlzLm9uKCdkaXNhYmxlJywgdGhpcy5fcmVtb3ZlRXJyb3IpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdmFsdWUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIENvdW50ZG93bi5wcm90b3R5cGUuX2NvbnRlbnRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbC52YWx1ZS5sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgaW5wdXQgb2YgZGF0YSBvbiBmb3JtIGNvbnRyb2wgYW5kIHVwZGF0ZXMgcmVtYWluaW5nIGFtb3VudCBvZiBjaGFyYWN0ZXJzIG9yIGxpbWl0cyB0aGUgY29udGVudCBsZW5ndGguIEFsc28sIGNoYW5nZSB0aGUgdmlzaWJsZSBtZXNzYWdlIG9mIHJlbWFpbmluZyBjaGFyYWN0ZXJzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2NvdW50ZG93bn1cbiAgICAgKi9cbiAgICBDb3VudGRvd24ucHJvdG90eXBlLl9jb3VudCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2NvbnRlbnRMZW5ndGgoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U7XG5cbiAgICAgICAgdGhpcy5fcmVtYWluaW5nID0gdGhpcy5fb3B0aW9ucy5tYXggLSBsZW5ndGg7XG5cbiAgICAgICAgLy8gTGltaXQgQ291bnQgYWxlcnQgdGhlIHVzZXJcbiAgICAgICAgaWYgKGxlbmd0aCA8PSB0aGlzLl9vcHRpb25zLm1heCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZXhjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhjZWVkZWQgZmxhZ1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4Y2VlZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRXJyb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IHRoaXMuX29wdGlvbnMubWF4KSB7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBsZW5naHQgb2YgY2hhcmFjdGVycyBpcyBleGNlZWRlZC5cbiAgICAgICAgICAgICAqIEBldmVudCBjaC5Db3VudGRvd24jZXhjZWVkXG4gICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwiZXhjZWVkXCIgZXZlbnQuXG4gICAgICAgICAgICAgKiBjb3VudGRvd24ub24oJ2V4Y2VlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2V4Y2VlZCcpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhjZWVkZWQgZmxhZ1xuICAgICAgICAgICAgdGhpcy5fZXhjZWVkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjaC12YWxpZGF0aW9uLWVycm9yJylcbiAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFkZENsYXNzKCdjaC1jb3VudGRvd24tZXhjZWVkZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoYW5nZSB2aXNpYmxlIG1lc3NhZ2Ugb2YgcmVtYWluaW5nIGNoYXJhY3RlcnNcbiAgICAgICAgLy8gU2luZ3VsYXIgb3IgUGx1cmFsIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIGFtb3VudCBvZiByZW1haW5pbmcgY2hhcmFjdGVyc1xuICAgICAgICBtZXNzYWdlID0gKHRoaXMuX3JlbWFpbmluZyAhPT0gMSA/IHRoaXMuX29wdGlvbnMucGx1cmFsIDogdGhpcy5fb3B0aW9ucy5zaW5ndWxhcikucmVwbGFjZSgvXFwjL2csIHRoaXMuX3JlbWFpbmluZyk7XG5cbiAgICAgICAgLy8gVXBkYXRlIERPTSB0ZXh0XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci50ZXh0KG1lc3NhZ2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfTtcblxuICAgICAvKipcbiAgICAgKiBQcm9jZXNzIGlucHV0IG9mIGRhdGEgb24gZm9ybSBjb250cm9sIGFuZCB1cGRhdGVzIHJlbWFpbmluZyBhbW91bnQgb2YgY2hhcmFjdGVycyBvciBsaW1pdHMgdGhlIGNvbnRlbnQgbGVuZ3RoLiBBbHNvLCBjaGFuZ2UgdGhlIHZpc2libGUgbWVzc2FnZSBvZiByZW1haW5pbmcgY2hhcmFjdGVycy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtjb3VudGRvd259XG4gICAgICovXG4gICAgQ291bnRkb3duLnByb3RvdHlwZS5fcmVtb3ZlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY2gtdmFsaWRhdGlvbi1lcnJvcicpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1pbnZhbGlkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLnJlbW92ZUNsYXNzKCdjaC1jb3VudGRvd24tZXhjZWVkZWQnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBDb3VudGRvd24gaW5zdGFuY2UuXG4gICAgICogQG1lbWJlcm9mISBjaC5Db3VudGRvd24ucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBEZXN0cm95IGEgY291bnRkb3duXG4gICAgICogY291bnRkb3duLmRlc3Ryb3koKTtcbiAgICAgKiAvLyBFbXB0eSB0aGUgY291bnRkb3duIHJlZmVyZW5jZVxuICAgICAqIGNvdW50ZG93biA9IHVuZGVmaW5lZDtcbiAgICAgKi9cbiAgICBDb3VudGRvd24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy4kdHJpZ2dlci5vZmYoJy5jb3VudGRvd24nKTtcblxuICAgICAgICB0aGlzLiRjb250YWluZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgJCh3aW5kb3cuZG9jdW1lbnQpLnRyaWdnZXIoY2gub25sYXlvdXRjaGFuZ2UpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICAvLyBGYWN0b3JpemVcbiAgICBjaC5mYWN0b3J5KENvdW50ZG93biwgbm9ybWFsaXplT3B0aW9ucyk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG4oZnVuY3Rpb24gKHdpbmRvdywgJCwgY2gpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBEYXRlcGlja2VyIGxldHMgeW91IHNlbGVjdCBkYXRlcy5cbiAgICAgKiBAbWVtYmVyb2YgY2hcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAYXVnbWVudHMgY2guQ29tcG9uZW50XG4gICAgICogQHJlcXVpcmVzIGNoLkNhbGVuZGFyXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5EYXRlcGlja2VyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBjdXN0b21pemUgYW4gaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmZvcm1hdF0gU2V0cyB0aGUgZGF0ZSBmb3JtYXQuIERlZmF1bHQ6IFwiREQvTU0vWVlZWVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zZWxlY3RlZF0gU2V0cyBhIGRhdGUgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQgYnkgZGVmYXVsdC4gRGVmYXVsdDogXCJ0b2RheVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mcm9tXSBTZXQgYSBtaW5pbXVtIHNlbGVjdGFibGUgZGF0ZS4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgXCJZWVlZL01NL0REXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnRvXSBTZXQgYSBtYXhpbXVtIHNlbGVjdGFibGUgZGF0ZS4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgXCJZWVlZL01NL0REXCIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubW9udGhzTmFtZXNdIEEgY29sbGVjdGlvbiBvZiBtb250aHMgbmFtZXMuIERlZmF1bHQ6IFtcIkVuZXJvXCIsIC4uLiAsIFwiRGljaWVtYnJlXCJdLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLndlZWtkYXlzXSBBIGNvbGxlY3Rpb24gb2Ygd2Vla2RheXMuIERlZmF1bHQ6IFtcIkRvbVwiLCAuLi4gLCBcIlNhYlwiXS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb25mLmhpZGRlbmJ5XSBEZXRlcm1pbmVzIGhvdyB0byBoaWRlIHRoZSBjb21wb25lbnQuIFlvdSBtdXN0IHVzZTogXCJidXR0b25cIiwgXCJwb2ludGVyc1wiLCBcInBvaW50ZXJsZWF2ZVwiLCBcImFsbFwiIG9yIFwibm9uZVwiLiBEZWZhdWx0OiBcInBvaW50ZXJzXCIuXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gW29wdGlvbnMuY29udGV4dF0gSXQncyBhIHJlZmVyZW5jZSB0byBwb3NpdGlvbiBhbmQgc2l6ZSBvZiBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIHRvIGNhcnJ5IG91dCB0aGUgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNpZGVdIFRoZSBzaWRlIG9wdGlvbiB3aGVyZSB0aGUgdGFyZ2V0IGVsZW1lbnQgd2lsbCBiZSBwb3NpdGlvbmVkLiBZb3UgbXVzdCB1c2U6IFwibGVmdFwiLCBcInJpZ2h0XCIsIFwidG9wXCIsIFwiYm90dG9tXCIgb3IgXCJjZW50ZXJcIi4gRGVmYXVsdDogXCJib3R0b21cIi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpZ25dIFRoZSBhbGlnbiBvcHRpb25zIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIFlvdSBtdXN0IHVzZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImNlbnRlclwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBEaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IGhvcml6b250YWxseS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WV0gRGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCB2ZXJ0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wb3NpdGlvbl0gVGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gWW91IG11c3QgdXNlOiBcImFic29sdXRlXCIgb3IgXCJmaXhlZFwiLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge2RhdGVwaWNrZXJ9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBEYXRlcGlja2VyLlxuICAgICAqIHZhciBkYXRlcGlja2VyID0gbmV3IGNoLkRhdGVwaWNrZXIoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IERhdGVwaWNrZXIgd2l0aCBqUXVlcnkgb3IgWmVwdG8uXG4gICAgICogdmFyIGRhdGVwaWNrZXIgPSAkKHNlbGVjdG9yKS5kYXRlcGlja2VyKCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBDcmVhdGUgYSBuZXcgRGF0ZXBpY2tlciB3aXRoIGN1c3RvbSBvcHRpb25zLlxuICAgICAqIHZhciBkYXRlcGlja2VyID0gJChzZWxlY3RvcikuZGF0ZXBpY2tlcih7XG4gICAgICogICAgIFwiZm9ybWF0XCI6IFwiTU0vREQvWVlZWVwiLFxuICAgICAqICAgICBcInNlbGVjdGVkXCI6IFwiMjAxMS8xMi8yNVwiLFxuICAgICAqICAgICBcImZyb21cIjogXCIyMDEwLzEyLzI1XCIsXG4gICAgICogICAgIFwidG9cIjogXCIyMDEyLzEyLzI1XCIsXG4gICAgICogICAgIFwibW9udGhzTmFtZXNcIjogW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLFxuICAgICAqICAgICBcIndlZWtkYXlzXCI6IFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGh1XCIsIFwiRnJcIiwgXCJTYVwiXVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIERhdGVwaWNrZXIoJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2luaXQoJGVsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgeW91IGRlZmluZSBhbiBpbml0aWFsaXplIG1ldGhvZCwgaXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgbmV3IERhdGVwaWNrZXIgaXMgY3JlYXRlZC5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZWFkeSB0byB1c2UuXG4gICAgICAgICAqIEBldmVudCBjaC5EYXRlcGlja2VyI3JlYWR5XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInJlYWR5XCIgZXZlbnQuXG4gICAgICAgICAqIGRhdGVwaWNrZXIub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcbiAgICB9XG5cbiAgICAvLyBJbmhlcml0YW5jZVxuICAgIHZhciBwYXJlbnQgPSBjaC51dGlsLmluaGVyaXRzKERhdGVwaWNrZXIsIGNoLkNvbXBvbmVudCksXG4gICAgICAgIC8vIENyZWF0ZXMgbWV0aG9kcyBlbmFibGUgYW5kIGRpc2FibGUgaW50byB0aGUgcHJvdG90eXBlLlxuICAgICAgICBtZXRob2RzID0gWydlbmFibGUnLCAnZGlzYWJsZSddLFxuICAgICAgICBsZW4gPSBtZXRob2RzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZHMobWV0aG9kKSB7XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHRoaXMuX3BvcG92ZXJbbWV0aG9kXSgpO1xuXG4gICAgICAgICAgICBwYXJlbnRbbWV0aG9kXS5jYWxsKHRoaXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gWW91IGNhbiByZWFjaCB0aGUgYXNzb2NpYXRlZCBpbnN0YW5jZS5cbiAgICAgKiB2YXIgZGF0ZXBpY2tlciA9ICQoc2VsZWN0b3IpLmRhdGEoJ2RhdGVwaWNrZXInKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5uYW1lID0gJ2RhdGVwaWNrZXInO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGF0ZXBpY2tlcjtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuX2RlZmF1bHRzID0ge1xuICAgICAgICAnZm9ybWF0JzogJ0REL01NL1lZWVknLFxuICAgICAgICAnc2lkZSc6ICdib3R0b20nLFxuICAgICAgICAnYWxpZ24nOiAnY2VudGVyJyxcbiAgICAgICAgJ2hpZGRlbmJ5JzogJ3BvaW50ZXJzJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgbmV3IGluc3RhbmNlIG9mIERhdGVwaWNrZXIgYW5kIG1lcmdlIGN1c3RvbSBvcHRpb25zIHdpdGggZGVmYXVsdHMgb3B0aW9ucy5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRhdGVwaWNrZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgkZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2FsbCB0byBpdHMgcGFyZW50IGluaXQgbWV0aG9kXG4gICAgICAgIHBhcmVudC5faW5pdC5jYWxsKHRoaXMsICRlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0ZXBpY2tlciBpbnB1dCBmaWVsZC5cbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWVsZCA9IHRoaXMuX2VsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0ZXBpY2tlciB0cmlnZ2VyLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLiR0cmlnZ2VyID0gJCgnPGkgcm9sZT1cImJ1dHRvblwiIGNsYXNzPVwiY2gtZGF0ZXBpY2tlci10cmlnZ2VyIGNoLWljb24tY2FsZW5kYXJcIj48L2k+JykuaW5zZXJ0QWZ0ZXIodGhpcy5maWVsZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgQ2FsZW5kYXIgY29tcG9uZW50IGluc3RhbmNlZC5cbiAgICAgICAgICogQHR5cGUge2NoLkNhbGVuZGFyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSAkKCc8ZGl2PicpLmNhbGVuZGFyKG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIFBvcG92ZXIgY29tcG9uZW50IGluc3RhbmNlZC5cbiAgICAgICAgICogQHR5cGUge2NoLlBvcG92ZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wb3BvdmVyID0gdGhpcy4kdHJpZ2dlci5wb3BvdmVyKHtcbiAgICAgICAgICAgICdfY2xhc3NOYW1lJzogJ2NoLWRhdGVwaWNrZXIgY2gtY29uZScsXG4gICAgICAgICAgICAnX2FyaWFSb2xlJzogJ3Rvb2x0aXAnLFxuICAgICAgICAgICAgJ2NvbnRlbnQnOiB0aGlzLl9jYWxlbmRhci4kY29udGFpbmVyLFxuICAgICAgICAgICAgJ3NpZGUnOiB0aGlzLl9vcHRpb25zLnNpZGUsXG4gICAgICAgICAgICAnYWxpZ24nOiB0aGlzLl9vcHRpb25zLmFsaWduLFxuICAgICAgICAgICAgJ29mZnNldFgnOiAxLFxuICAgICAgICAgICAgJ29mZnNldFknOiAxMCxcbiAgICAgICAgICAgICdzaG93bmJ5JzogJ3BvaW50ZXJ0YXAnLFxuICAgICAgICAgICAgJ2hpZGRlbmJ5JzogdGhpcy5fb3B0aW9ucy5oaWRkZW5ieVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9wb3BvdmVyLl8kY29udGVudC5vbihjaC5vbnBvaW50ZXJ0YXAsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIGVsID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgICAgICAvLyBEYXkgc2VsZWN0aW9uXG4gICAgICAgICAgICBpZiAoZWwubm9kZU5hbWUgPT09ICdURCcgJiYgZWwuY2xhc3NOYW1lLmluZGV4T2YoJ2NoLWNhbGVuZGFyLWRpc2FibGVkJykgPT09IC0xICYmIGVsLmNsYXNzTmFtZS5pbmRleE9mKCdjaC1jYWxlbmRhci1vdGhlcicpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoYXQucGljayhlbC5pbm5lckhUTUwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZmllbGQuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgJ2NoLXBvcG92ZXItJyArIHRoaXMuX3BvcG92ZXIudWlkKTtcblxuICAgICAgICAvLyBDaGFuZ2UgdHlwZSBvZiBpbnB1dCB0byBcInRleHRcIlxuICAgICAgICB0aGlzLmZpZWxkLnR5cGUgPSAndGV4dCc7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHZhbHVlIG9mIGlucHV0IGlmIHRoZXJlIGFyZSBhIHNlbGVjdGVkIGRhdGVcbiAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9ICh0aGlzLl9vcHRpb25zLnNlbGVjdGVkKSA/IHRoaXMuX2NhbGVuZGFyLnNlbGVjdCgpIDogdGhpcy5maWVsZC52YWx1ZTtcblxuICAgICAgICAvLyBIaWRlIHBvcG92ZXJcbiAgICAgICAgdGhpcy5vbignZGlzYWJsZScsIHRoaXMuaGlkZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBkYXRlcGlja2VyLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNob3dzIGEgZGF0ZXBpY2tlci5cbiAgICAgKiBkYXRlcGlja2VyLnNob3coKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wb3BvdmVyLnNob3coKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgZGF0ZXBpY2tlciBpcyBzaG93bi5cbiAgICAgICAgICogQGV2ZW50IGNoLkRhdGVwaWNrZXIjc2hvd1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJzaG93XCIgZXZlbnQuXG4gICAgICAgICAqIGRhdGVwaWNrZXIub24oJ3Nob3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3Nob3cnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGRhdGVwaWNrZXIuXG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtkYXRlcGlja2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2hvd3MgYSBkYXRlcGlja2VyLlxuICAgICAqIGRhdGVwaWNrZXIuaGlkZSgpO1xuICAgICAqL1xuICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3BvcG92ZXIuaGlkZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBkYXRlcGlja2VyIGlzIGhpZGRlbi5cbiAgICAgICAgICogQGV2ZW50IGNoLkRhdGVwaWNrZXIjaGlkZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJoaWRlXCIgZXZlbnQuXG4gICAgICAgICAqIGRhdGVwaWNrZXIub24oJ2hpZGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ2hpZGUnKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIHNwZWNpZmljIGRheSBpbnRvIGN1cnJlbnQgbW9udGggYW5kIHllYXIuXG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsoU3RyaW5nIHwgTnVtYmVyKX0gZGF5IEEgZ2l2ZW4gZGF5IHRvIHNlbGVjdC5cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNlbGVjdCBhIHNwZWNpZmljIGRheS5cbiAgICAgKiBkYXRlcGlja2VyLnBpY2soMjgpO1xuICAgICAqL1xuICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnBpY2sgPSBmdW5jdGlvbiAoZGF5KSB7XG5cbiAgICAgICAgLy8gU2VsZWN0IHRoZSBkYXkgYW5kIHVwZGF0ZSBpbnB1dCB2YWx1ZSB3aXRoIHNlbGVjdGVkIGRhdGVcbiAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IFt0aGlzLl9jYWxlbmRhci5fZGF0ZXMuY3VycmVudC55ZWFyLCB0aGlzLl9jYWxlbmRhci5fZGF0ZXMuY3VycmVudC5tb250aCwgZGF5XS5qb2luKCcvJyk7XG5cbiAgICAgICAgLy8gSGlkZSBmbG9hdFxuICAgICAgICB0aGlzLl9wb3BvdmVyLmhpZGUoKTtcblxuICAgICAgICAvLyBTZWxlY3QgYSBkYXRlXG4gICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuZmllbGQudmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIGEgc3BlY2lmaWMgZGF0ZSBvciByZXR1cm5zIHRoZSBzZWxlY3RlZCBkYXRlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGVdIEEgZ2l2ZW4gZGF0ZSB0byBzZWxlY3QuIFRoZSBmb3JtYXQgb2YgdGhlIGdpdmVuIGRhdGUgc2hvdWxkIGJlIFwiWVlZWS9NTS9ERFwiLlxuICAgICAqIEByZXR1cm5zIHsoZGF0ZXBpY2tlciB8IFN0cmluZyl9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBSZXR1cm5zIHRoZSBzZWxlY3RlZCBkYXRlLlxuICAgICAqIGRhdGVwaWNrZXIuc2VsZWN0KCk7XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTZWxlY3QgYSBzcGVjaWZpYyBkYXRlLlxuICAgICAqIGRhdGVwaWNrZXIuc2VsZWN0KCcyMDE0LzA1LzI4Jyk7XG4gICAgICovXG4gICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKGRhdGUpIHtcblxuICAgICAgIC8vIFNldHRlclxuICAgICAgIC8vIFNlbGVjdCB0aGUgZGF5IGFuZCB1cGRhdGUgaW5wdXQgdmFsdWUgd2l0aCBzZWxlY3RlZCBkYXRlXG4gICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxlbmRhci5zZWxlY3QoZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gdGhpcy5fY2FsZW5kYXIuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgZGF0ZSBpcyBzZWxlY3RlZC5cbiAgICAgICAgICAgICAqIEBldmVudCBjaC5EYXRlcGlja2VyI3NlbGVjdFxuICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInNlbGVjdFwiIGV2ZW50LlxuICAgICAgICAgICAgICogZGF0ZXBpY2tlci5vbignc2VsZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgICAgICogfSk7XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnc2VsZWN0Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0dGVyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxlbmRhci5zZWxlY3QoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRlIG9mIHRvZGF5XG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBkYXRlIG9mIHRvZGF5XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBHZXQgdGhlIGRhdGUgb2YgdG9kYXkuXG4gICAgICogdmFyIHRvZGF5ID0gZGF0ZXBpY2tlci5nZXRUb2RheSgpO1xuICAgICAqL1xuICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmdldFRvZGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsZW5kYXIuZ2V0VG9kYXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdG8gdGhlIG5leHQgbW9udGguXG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtkYXRlcGlja2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTW92ZXMgdG8gdGhlIG5leHQgbW9udGguXG4gICAgICogZGF0ZXBpY2tlci5uZXh0TW9udGgoKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5uZXh0TW9udGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLm5leHRNb250aCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBuZXh0IG1vbnRoIGlzIHNob3duLlxuICAgICAgICAgKiBAZXZlbnQgY2guRGF0ZXBpY2tlciNuZXh0bW9udGhcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwibmV4dG1vbnRoXCIgZXZlbnQuXG4gICAgICAgICAqIGRhdGVwaWNrZXIub24oJ25leHRtb250aCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnbmV4dG1vbnRoJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdG8gdGhlIHByZXZpb3VzIG1vbnRoLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIE1vdmVzIHRvIHRoZSBwcmV2IG1vbnRoLlxuICAgICAqIGRhdGVwaWNrZXIucHJldk1vbnRoKCk7XG4gICAgICovXG4gICAgRGF0ZXBpY2tlci5wcm90b3R5cGUucHJldk1vbnRoID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLnByZXZNb250aCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBwcmV2aW91cyBtb250aCBpcyBzaG93bi5cbiAgICAgICAgICogQGV2ZW50IGNoLkRhdGVwaWNrZXIjcHJldm1vbnRoXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInByZXZtb250aFwiIGV2ZW50LlxuICAgICAgICAgKiBkYXRlcGlja2VyLm9uKCdwcmV2bW9udGgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXZtb250aCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRvIHRoZSBuZXh0IHllYXIuXG4gICAgICogQG1lbWJlcm9mISBjaC5EYXRlcGlja2VyLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtkYXRlcGlja2VyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gTW92ZXMgdG8gdGhlIG5leHQgeWVhci5cbiAgICAgKiBkYXRlcGlja2VyLm5leHRZZWFyKCk7XG4gICAgICovXG4gICAgRGF0ZXBpY2tlci5wcm90b3R5cGUubmV4dFllYXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdGhpcy5fY2FsZW5kYXIubmV4dFllYXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXZlbnQgZW1pdHRlZCB3aGVuIGEgbmV4dCB5ZWFyIGlzIHNob3duLlxuICAgICAgICAgKiBAZXZlbnQgY2guRGF0ZXBpY2tlciNuZXh0eWVhclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJuZXh0eWVhclwiIGV2ZW50LlxuICAgICAgICAgKiBkYXRlcGlja2VyLm9uKCduZXh0eWVhcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnbmV4dHllYXInKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZSB0byB0aGUgcHJldmlvdXMgeWVhci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRhdGVwaWNrZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge2RhdGVwaWNrZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBNb3ZlcyB0byB0aGUgcHJldiB5ZWFyLlxuICAgICAqIGRhdGVwaWNrZXIucHJldlllYXIoKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5wcmV2WWVhciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLl9jYWxlbmRhci5wcmV2WWVhcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBwcmV2aW91cyB5ZWFyIGlzIHNob3duLlxuICAgICAgICAgKiBAZXZlbnQgY2guRGF0ZXBpY2tlciNwcmV2eWVhclxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJwcmV2eWVhclwiIGV2ZW50LlxuICAgICAgICAgKiBkYXRlcGlja2VyLm9uKCdwcmV2eWVhcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogICAgIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgncHJldnllYXInKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIERhdGVwaWNrZXIgdG8gZGF0ZSBvZiB0b2RheVxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFJlc3NldCB0aGUgZGF0ZXBpY2tlclxuICAgICAqIGRhdGVwaWNrZXIucmVzZXQoKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBEZWxldGUgaW5wdXQgdmFsdWVcbiAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5yZXNldCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVyIHdoZW4gdGhlIGRhdGVwaWNrZXIgaXMgcmVzZXRlZC5cbiAgICAgICAgICogQGV2ZW50IGNoLkRhdGVwaWNrZXIjcmVzZXRcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVzZXRcIiBldmVudC5cbiAgICAgICAgICogZGF0ZXBpY2tlci5vbigncmVzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3Jlc2V0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBhIG1pbmltdW0gc2VsZWN0YWJsZSBkYXRlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0ZSBBIGdpdmVuIGRhdGUgdG8gc2V0IGFzIG1pbmltdW0gc2VsZWN0YWJsZSBkYXRlLiBUaGUgZm9ybWF0IG9mIHRoZSBnaXZlbiBkYXRlIHNob3VsZCBiZSBcIllZWVkvTU0vRERcIi5cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNldCBhIG1pbmltdW0gc2VsZWN0YWJsZSBkYXRlLlxuICAgICAqIGRhdGVwaWNrZXIuc2V0RnJvbSgnMjAxMC8wNS8yOCcpO1xuICAgICAqL1xuICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnNldEZyb20gPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5zZXRGcm9tKGRhdGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBtYXhpbXVtIHNlbGVjdGFibGUgZGF0ZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRhdGVwaWNrZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGUgQSBnaXZlbiBkYXRlIHRvIHNldCBhcyBtYXhpbXVtIHNlbGVjdGFibGUgZGF0ZS4gVGhlIGZvcm1hdCBvZiB0aGUgZ2l2ZW4gZGF0ZSBzaG91bGQgYmUgXCJZWVlZL01NL0REXCIuXG4gICAgICogQHJldHVybnMge2RhdGVwaWNrZXJ9XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTZXQgYSBtYXhpbXVtIHNlbGVjdGFibGUgZGF0ZS5cbiAgICAgKiBkYXRlcGlja2VyLnNldFRvKCcyMDE0LzA1LzI4Jyk7XG4gICAgICovXG4gICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuc2V0VG8gPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5zZXRUbyhkYXRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbiBpbnN0YW5jZSBvZiBEYXRlcGlja2VyLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7ZGF0ZXBpY2tlcn0gUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBEYXRlcGlja2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRW5hYmxpbmcgYW4gaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICAgKiBkYXRlcGlja2VyLmVuYWJsZSgpO1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgYW4gaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkRhdGVwaWNrZXIucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge2RhdGVwaWNrZXJ9IFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERpc2FibGluZyBhbiBpbnN0YW5jZSBvZiBEYXRlcGlja2VyLlxuICAgICAqIGRhdGVwaWNrZXIuZGlzYWJsZSgpO1xuICAgICAqL1xuICAgIHdoaWxlIChsZW4pIHtcbiAgICAgICAgY3JlYXRlTWV0aG9kcyhtZXRob2RzW2xlbiAtPSAxXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBEYXRlcGlja2VyIGluc3RhbmNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guRGF0ZXBpY2tlci5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3lpbmcgYW4gaW5zdGFuY2Ugb2YgRGF0ZXBpY2tlci5cbiAgICAgKiBkYXRlcGlja2VyLmRlc3Ryb3koKTtcbiAgICAgKi9cbiAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuJHRyaWdnZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgdGhpcy5fZWwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICAgIHRoaXMuX2VsLnR5cGUgPSAnZGF0ZSc7XG5cbiAgICAgICAgdGhpcy5fcG9wb3Zlci5kZXN0cm95KCk7XG5cbiAgICAgICAgcGFyZW50LmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLy8gRmFjdG9yaXplXG4gICAgY2guZmFjdG9yeShEYXRlcGlja2VyKTtcblxufSh0aGlzLCB0aGlzLmNoLiQsIHRoaXMuY2gpKTtcbihmdW5jdGlvbiAod2luZG93LCAkLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEF1dG9jb21wbGV0ZSBDb21wb25lbnQgc2hvd3MgYSBsaXN0IG9mIHN1Z2dlc3Rpb25zIGZvciBhIEhUTUxJbnB1dEVsZW1lbnQuXG4gICAgICogQG1lbWJlcm9mIGNoXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGF1Z21lbnRzIGNoLkNvbXBvbmVudFxuICAgICAqIEByZXF1aXJlcyBjaC5Qb3BvdmVyXG4gICAgICogQHBhcmFtIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX0gJGVsIEEgalF1ZXJ5IG9yIFplcHRvIFNlbGVjdG9yIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiBjaC5BdXRvY29tcGxldGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGN1c3RvbWl6ZSBhbiBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubG9hZGluZ0NsYXNzXSBEZWZhdWx0OiBcImNoLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhpZ2hsaWdodGVkQ2xhc3NdIERlZmF1bHQ6IFwiY2gtYXV0b2NvbXBsZXRlLWhpZ2hsaWdodGVkXCIuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLml0ZW1DbGFzc10gRGVmYXVsdDogXCJjaC1hdXRvY29tcGxldGUtaXRlbVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hZGRDbGFzc10gQ1NTIGNsYXNzIG5hbWVzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udGFpbmVyIG9uIHRoZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uIERlZmF1bHQ6IFwiY2gtYm94LWxpdGUgY2gtYXV0b2NvbXBsZXRlXCIuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmtleXN0cm9rZXNUaW1lXSBEZWZhdWx0OiAxNTAuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5odG1sXSBEZWZhdWx0OiBmYWxzZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc2lkZV0gVGhlIHNpZGUgb3B0aW9uIHdoZXJlIHRoZSB0YXJnZXQgZWxlbWVudCB3aWxsIGJlIHBvc2l0aW9uZWQuIFlvdSBtdXN0IHVzZTogXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIiBvciBcImNlbnRlclwiLiBEZWZhdWx0OiBcImJvdHRvbVwiLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlnbl0gVGhlIGFsaWduIG9wdGlvbnMgd2hlcmUgdGhlIHRhcmdldCBlbGVtZW50IHdpbGwgYmUgcG9zaXRpb25lZC4gWW91IG11c3QgdXNlOiBcImxlZnRcIiwgXCJyaWdodFwiLCBcInRvcFwiLCBcImJvdHRvbVwiIG9yIFwiY2VudGVyXCIuIERlZmF1bHQ6IFwibGVmdFwiLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vZmZzZXRYXSBUaGUgb2Zmc2V0WCBvcHRpb24gc3BlY2lmaWVzIGEgZGlzdGFuY2UgdG8gZGlzcGxhY2UgdGhlIHRhcmdldCBob3JpdG9udGFsbHkuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFldIFRoZSBvZmZzZXRZIG9wdGlvbiBzcGVjaWZpZXMgYSBkaXN0YW5jZSB0byBkaXNwbGFjZSB0aGUgdGFyZ2V0IHZlcnRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnBvc2l0aW9uZWRdIFRoZSBwb3NpdGlvbmVkIG9wdGlvbiBzcGVjaWZpZXMgdGhlIHR5cGUgb2YgcG9zaXRpb25pbmcgdXNlZC4gWW91IG11c3QgdXNlOiBcImFic29sdXRlXCIgb3IgXCJmaXhlZFwiLiBEZWZhdWx0OiBcImFic29sdXRlXCIuXG4gICAgICogQHJldHVybnMge2F1dG9jb21wbGV0ZX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBBdXRvQ29tcGxldGUuXG4gICAgICogdmFyIGF1dG9jb21wbGV0ZSA9IG5ldyBBdXRvQ29tcGxldGUoJGVsLCBbb3B0aW9uc10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IEF1dG9Db21wbGV0ZSB3aXRoIGNvbmZpZ3VyYXRpb24uXG4gICAgICogdmFyIGF1dG9jb21wbGV0ZSA9IG5ldyBBdXRvQ29tcGxldGUoJGVsLCB7XG4gICAgICogICdsb2FkaW5nQ2xhc3MnOiAnY3VzdG9tLWxvYWRpbmcnLFxuICAgICAqICAnaGlnaGxpZ2h0ZWRDbGFzcyc6ICdjdXN0b20taGlnaGxpZ2h0ZWQnLFxuICAgICAqICAnaXRlbUNsYXNzJzogJ2N1c3RvbS1pdGVtJyxcbiAgICAgKiAgJ2FkZENsYXNzJzogJ2Nhcm91c2VsLWNpdGllcycsXG4gICAgICogICdrZXlzdHJva2VzVGltZSc6IDYwMCxcbiAgICAgKiAgJ2h0bWwnOiB0cnVlLFxuICAgICAqICAnc2lkZSc6ICdjZW50ZXInLFxuICAgICAqICAnYWxpZ24nOiAnY2VudGVyJyxcbiAgICAgKiAgJ29mZnNldFgnOiAwLFxuICAgICAqICAnb2Zmc2V0WSc6IDAsXG4gICAgICogICdwb3NpdGlvbmVkJzogJ2ZpeGVkJ1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEF1dG9jb21wbGV0ZSgkZWwsIG9wdGlvbnMpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5faW5pdCgkZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB5b3UgZGVmaW5lIGFuIGluaXRpYWxpemUgbWV0aG9kLCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gYSBuZXcgQXV0b2NvbXBsZXRlIGlzIGNyZWF0ZWQuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YhIGNoLkF1dG9jb21wbGV0ZS5wcm90b3R5cGVcbiAgICAgICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZWFkeSB0byB1c2UuXG4gICAgICAgICAqIEBldmVudCBjaC5BdXRvY29tcGxldGUjcmVhZHlcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIFwicmVhZHlcIiBldmVudC5cbiAgICAgICAgICogYXV0b2NvbXBsZXRlLm9uKCdyZWFkeScsZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgLy8gU29tZSBjb2RlIGhlcmUhXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LmVtaXQoJ3JlYWR5Jyk7IH0sIDUwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH1cblxuICAgIC8vIEluaGVyaXRhbmNlXG4gICAgdmFyIHBhcmVudCA9IGNoLnV0aWwuaW5oZXJpdHMoQXV0b2NvbXBsZXRlLCBjaC5Db21wb25lbnQpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUubmFtZSA9ICdhdXRvY29tcGxldGUnO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICogQG1lbWJlcm9mISBjaC5BdXRvY29tcGxldGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEF1dG9jb21wbGV0ZTtcblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyYXRpb24gYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5fZGVmYXVsdHMgPSB7XG4gICAgICAgICdsb2FkaW5nQ2xhc3MnOiAnY2gtYXV0b2NvbXBsZXRlLWxvYWRpbmcnLFxuICAgICAgICAnaGlnaGxpZ2h0ZWRDbGFzcyc6ICdjaC1hdXRvY29tcGxldGUtaGlnaGxpZ2h0ZWQnLFxuICAgICAgICAnaXRlbUNsYXNzJzogJ2NoLWF1dG9jb21wbGV0ZS1pdGVtJyxcbiAgICAgICAgJ2FkZENsYXNzJzogJ2NoLWJveC1saXRlIGNoLWF1dG9jb21wbGV0ZScsXG4gICAgICAgICdzaWRlJzogJ2JvdHRvbScsXG4gICAgICAgICdhbGlnbic6ICdsZWZ0JyxcbiAgICAgICAgJ2h0bWwnOiBmYWxzZSxcbiAgICAgICAgJ19oaWRkZW5ieSc6ICdub25lJyxcbiAgICAgICAgJ2tleXN0cm9rZXNUaW1lJzogMTUwLFxuICAgICAgICAnX2l0ZW1UZW1wbGF0ZSc6ICc8bGkgY2xhc3M9XCJ7e2l0ZW1DbGFzc319XCJ7e3N1Z2dlc3RlZERhdGF9fT57e3Rlcm19fTxpIGNsYXNzPVwiY2gtaWNvbi1hcnJvdy11cFwiIGRhdGEtanM9XCJjaC1hdXRvY29tcGxldGUtY29tcGxldGUtcXVlcnlcIj48L2k+PC9saT4nXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgaW5zdGFuY2Ugb2YgQXV0b2NvbXBsZXRlIGFuZCBtZXJnZSBjdXN0b20gb3B0aW9ucyB3aXRoIGRlZmF1bHRzIG9wdGlvbnMuXG4gICAgICogQG1lbWJlcm9mISBjaC5BdXRvY29tcGxldGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7YXV0b2NvbXBsZXRlfVxuICAgICAqL1xuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoJGVsLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byBjb250ZXh0IG9mIGFuIGluc3RhbmNlLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgUE9JTlRFUkRPV04gPSAnbW91c2Vkb3duJyArICcuJyArIHRoaXMubmFtZSxcbiAgICAgICAgICAgIE1PVVNFRU5URVIgPSAnbW91c2VvdmVyJyArICcuJyArIHRoaXMubmFtZSxcbiAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIG1vdXNlZW50ZXIgdG8gaGlnaGxpZ2h0IHRoZSBpdGVtLCBzbyBpdCBoYXBwZW5zIHdoZW4gdGhlIHVzZXIgZG8gbW91c2Vkb3duXG4gICAgICAgICAgICBoaWdobGlnaHRFdmVudCA9IChjaC5zdXBwb3J0LnRvdWNoKSA/IFBPSU5URVJET1dOIDogTU9VU0VFTlRFUjtcblxuICAgICAgICAvLyBDYWxsIHRvIGl0cyBwYXJlbnQgaW5pdCBtZXRob2RcbiAgICAgICAgcGFyZW50Ll9pbml0LmNhbGwodGhpcywgJGVsLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBjcmVhdGVzIHRoZSBiYXNpYyBpdGVtIHRlbXBsYXRlIGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgIHRoaXMuX29wdGlvbnMuX2l0ZW1UZW1wbGF0ZSA9IHRoaXMuX29wdGlvbnMuX2l0ZW1UZW1wbGF0ZS5yZXBsYWNlKCd7e2l0ZW1DbGFzc319JywgdGhpcy5fb3B0aW9ucy5pdGVtQ2xhc3MpO1xuXG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmh0bWwpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgc3VnZ2VzdGVkIGRhdGEgc3BhY2Ugd2hlbiBodG1sIGlzIGNvbmZpZ3VyZWRcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuX2l0ZW1UZW1wbGF0ZSA9IHRoaXMuX29wdGlvbnMuX2l0ZW1UZW1wbGF0ZS5yZXBsYWNlKCd7e3N1Z2dlc3RlZERhdGF9fScsICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb24gbGlzdC5cbiAgICAgICAgICogQHR5cGUgeyhqUXVlcnlTZWxlY3RvciB8IFplcHRvU2VsZWN0b3IpfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fJHN1Z2dlc3Rpb25zTGlzdCA9ICQoJzx1bCBjbGFzcz1cImNoLWF1dG9jb21wbGV0ZS1saXN0XCI+PC91bD4nKTtcblxuICAgICAgICAvLyBUaGUgY29tcG9uZW50IHdobyBzaG93cyBhbmQgbWFuYWdlIHRoZSBzdWdnZXN0aW9ucy5cbiAgICAgICAgdGhpcy5fcG9wb3ZlciA9ICQucG9wb3Zlcih7XG4gICAgICAgICAgICAncmVmZXJlbmNlJzogdGhpcy5fJGVsLFxuICAgICAgICAgICAgJ2NvbnRlbnQnOiB0aGlzLl8kc3VnZ2VzdGlvbnNMaXN0LFxuICAgICAgICAgICAgJ3NpZGUnOiB0aGlzLl9vcHRpb25zLnNpZGUsXG4gICAgICAgICAgICAnYWxpZ24nOiB0aGlzLl9vcHRpb25zLmFsaWduLFxuICAgICAgICAgICAgJ2FkZENsYXNzJzogdGhpcy5fb3B0aW9ucy5hZGRDbGFzcyxcbiAgICAgICAgICAgICdoaWRkZW5ieSc6IHRoaXMuX29wdGlvbnMuX2hpZGRlbmJ5LFxuICAgICAgICAgICAgJ3dpZHRoJzogdGhpcy5fZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKyAncHgnLFxuICAgICAgICAgICAgJ2Z4JzogdGhpcy5fb3B0aW9ucy5meFxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyLlxuICAgICAgICAgKiBAdHlwZSB7KGpRdWVyeVNlbGVjdG9yIHwgWmVwdG9TZWxlY3Rvcil9XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIEdldHMgdGhlIGF1dG9jb21wbGV0ZSBjb250YWluZXIgdG8gYXBwZW5kIG9yIHByZXBlbmQgY29udGVudC5cbiAgICAgICAgICogYXV0b2NvbXBsZXRlLiRjb250YWluZXIuYXBwZW5kKCcmbHQ7YnV0dG9uJmd0O0hpZGUgU3VnZ2VzdGlvbnMmbHQ7L2J1dHRvbiZndDsnKTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuX3BvcG92ZXIuJGNvbnRhaW5lci5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJylcbiAgICAgICAgICAgIC5vbihoaWdobGlnaHRFdmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhhdC5faGlnaGxpZ2h0U3VnZ2VzdGlvbigkKGV2ZW50LnRhcmdldCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihQT0lOVEVSRE9XTiwgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgICAgICAvLyBjb21wbGV0ZXMgdGhlIHZhbHVlLCBpdCBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIHdyaXRlIHRoZSBjb21wbGV0ZSB3b3JkXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gJ0knICYmICF0aGF0Ll9vcHRpb25zLmh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2gudXRpbC5wcmV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fZWwudmFsdWUgPSB0aGF0Ll9zdWdnZXN0aW9uc1t0aGF0Ll9oaWdobGlnaHRlZF07XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZW1pdCgndHlwZScsIHRoYXQuX2VsLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSAnTEknICYmIGV2ZW50LnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZih0aGF0Ll9vcHRpb25zLml0ZW1DbGFzcykgIT09IC0xKSB8fCAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQubm9kZU5hbWUgPT09ICdMSScgJiYgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YodGhhdC5fb3B0aW9ucy5pdGVtQ2xhc3MpICE9PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fc2VsZWN0U3VnZ2VzdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXV0b2NvbXBsZXRlIHRyaWdnZXIuXG4gICAgICAgICAqIEB0eXBlIHsoalF1ZXJ5U2VsZWN0b3IgfCBaZXB0b1NlbGVjdG9yKX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuJHRyaWdnZXIgPSB0aGlzLl8kZWxcbiAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICAgICAgICAgJ2FyaWEtaGFzcG9wdXAnOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgJ2FyaWEtb3ducyc6IHRoaXMuJGNvbnRhaW5lclswXS5pZCxcbiAgICAgICAgICAgICAgICAnYXV0b2NvbXBsZXRlJzogJ29mZidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2ZvY3VzLicgKyB0aGlzLm5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGF0Ll90dXJuT24oKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2JsdXIuJyArIHRoaXMubmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuX3R1cm5PZmYoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdGhlIHNlbGVjdGVkIGl0ZW0gb3IgbnVsbCB3aGVuIG5vIHNlbGVjdGVkIGl0ZW0gaXMuXG4gICAgICAgIHRoaXMuX2hpZ2hsaWdodGVkID0gbnVsbDtcblxuICAgICAgICAvLyBDb2xsZWN0aW9uIG9mIHN1Z2dlc3Rpb25zIHRvIGJlIHNob3duLlxuICAgICAgICB0aGlzLl9zdWdnZXN0aW9ucyA9IFtdO1xuXG4gICAgICAgIC8vIFVzZWQgdG8gc2hvdyB3aGVuIHRoZSB1c2VyIGNhbmNlbCB0aGUgc3VnZ2VzdGlvbnNcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxRdWVyeSA9IHRoaXMuX2N1cnJlbnRRdWVyeSA9IHRoaXMuX2VsLnZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWd1cmVTaG9ydGN1dHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlndXJlU2hvcnRjdXRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fJGVsLmlzKCc6Zm9jdXMnKSkge1xuICAgICAgICAgICAgdGhpcy5fdHVybk9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHVybnMgb24gdGhlIGFiaWxpdHkgb2ZmIGxpc3RlbiB0aGUga2V5c3Ryb2tlc1xuICAgICAqIEBtZW1iZXJvZiEgY2guQXV0b2NvbXBsZXRlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2F1dG9jb21wbGV0ZX1cbiAgICAgKi9cbiAgICBBdXRvY29tcGxldGUucHJvdG90eXBlLl90dXJuT24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICB0aGlzLl9vcmlnaW5hbFF1ZXJ5ID0gdGhpcy5fZWwudmFsdWU7XG5cbiAgICAgICAgdGhpcy4kdHJpZ2dlci5vbihjaC5vbmtleWlucHV0LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIC50cmltKClcbiAgICAgICAgICAgIHRoYXQuX2N1cnJlbnRRdWVyeSA9IHRoYXQuX2VsLnZhbHVlLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcblxuICAgICAgICAgICAgaWYgKHRoYXQuX2N1cnJlbnRRdWVyeSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHVzZXIgd3JpdGVzXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoYXQuX3N0b3BUeXBpbmcpO1xuXG4gICAgICAgICAgICB0aGF0Ll9zdG9wVHlwaW5nID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuJHRyaWdnZXIuYWRkQ2xhc3ModGhhdC5fb3B0aW9ucy5sb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgdXNlciBpcyB0eXBpbmcuXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IGNoLkF1dG9jb21wbGV0ZSN0eXBlXG4gICAgICAgICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJ0eXBlXCIgZXZlbnQgd2l0aCBhamF4IGNhbGxcbiAgICAgICAgICAgICAgICAgKiBhdXRvY29tcGxldGUub24oJ3R5cGUnLCBmdW5jdGlvbiAodXNlcklucHV0KSB7XG4gICAgICAgICAgICAgICAgICogICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAqICAgICAgICAgICd1cmwnOiAnL2NvdW50cmllcz9xPScgKyB1c2VySW5wdXQsXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgJ2RhdGFUeXBlJzogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICAgIGF1dG9jb21wbGV0ZS5zdWdnZXN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICogICAgICB9KTtcbiAgICAgICAgICAgICAgICAgKiB9KTtcbiAgICAgICAgICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICAgICAgICAqIC8vIFN1YnNjcmliZSB0byBcInR5cGVcIiBldmVudCB3aXRoIGpzb25wXG4gICAgICAgICAgICAgICAgICogYXV0b2NvbXBsZXRlLm9uKCd0eXBlJywgZnVuY3Rpb24gKHVzZXJJbnB1dCkge1xuICAgICAgICAgICAgICAgICAqICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICd1cmwnOiAnL2NvdW50cmllcz9xPScrIHVzZXJJbnB1dCArJyZjYWxsYmFjaz1wYXJzZVJlc3VsdHMnLFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAnZGF0YVR5cGUnOiAnanNvbnAnLFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAnY2FjaGUnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgJ2dsb2JhbCc6IHRydWUsXG4gICAgICAgICAgICAgICAgICogICAgICAgICAgICdjb250ZXh0Jzogd2luZG93LFxuICAgICAgICAgICAgICAgICAqICAgICAgICAgICAnanNvbnAnOiAncGFyc2VSZXN1bHRzJyxcbiAgICAgICAgICAgICAgICAgKiAgICAgICAgICAgJ2Nyb3NzRG9tYWluJzogdHJ1ZVxuICAgICAgICAgICAgICAgICAqICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAqIH0pO1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoYXQuZW1pdCgndHlwZScsIHRoYXQuX2N1cnJlbnRRdWVyeSk7XG4gICAgICAgICAgICB9LCB0aGF0Ll9vcHRpb25zLmtleXN0cm9rZXNUaW1lKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUdXJucyBvZmYgdGhlIGFiaWxpdHkgb2ZmIGxpc3RlbiB0aGUga2V5c3Ryb2tlc1xuICAgICAqIEBtZW1iZXJvZiEgY2guQXV0b2NvbXBsZXRlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2F1dG9jb21wbGV0ZX1cbiAgICAgKi9cbiAgICBBdXRvY29tcGxldGUucHJvdG90eXBlLl90dXJuT2ZmID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhpZGUoKTtcblxuICAgICAgICB0aGlzLiR0cmlnZ2VyLm9mZihjaC5vbmtleWlucHV0KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXQgc2V0cyB0byB0aGUgSFRNTElucHV0RWxlbWVudCB0aGUgc2VsZWN0ZWQgcXVlcnkgYW5kIGl0IGVtaXRzIGEgJ3NlbGVjdCcgZXZlbnQuXG4gICAgICogQG1lbWJlcm9mISBjaC5BdXRvY29tcGxldGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7YXV0b2NvbXBsZXRlfVxuICAgICAqL1xuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUuX3NlbGVjdFN1Z2dlc3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zdG9wVHlwaW5nKTtcblxuICAgICAgICBpZiAodGhpcy5faGlnaGxpZ2h0ZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmh0bWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsLnZhbHVlID0gdGhpcy5fc3VnZ2VzdGlvbnNbdGhpcy5faGlnaGxpZ2h0ZWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWwuYmx1cigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBlbWl0dGVkIHdoZW4gYSBzdWdnZXN0aW9uIGlzIHNlbGVjdGVkLlxuICAgICAgICAgKiBAZXZlbnQgY2guQXV0b2NvbXBsZXRlI3NlbGVjdFxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJzZWxlY3RcIiBldmVudC5cbiAgICAgICAgICogYXV0b2NvbXBsZXRlLm9uKCdzZWxlY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAqICAgICAvLyBTb21lIGNvZGUgaGVyZSFcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtaXQoJ3NlbGVjdCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBpdGVtc1xuICAgICAqIEBtZW1iZXJvZiEgY2guQXV0b2NvbXBsZXRlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2F1dG9jb21wbGV0ZX1cbiAgICAgKi9cbiAgICBBdXRvY29tcGxldGUucHJvdG90eXBlLl9oaWdobGlnaHRTdWdnZXN0aW9uID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcbiAgICAgICAgdmFyICRzdWdnZXN0aW9uID0gJHRhcmdldC5hdHRyKCdhcmlhLXBvc2luc2V0JykgPyAkdGFyZ2V0IDogJHRhcmdldC5wYXJlbnRzKCdsaVthcmlhLXBvc2luc2V0XScpO1xuXG4gICAgICAgIC8vIFRPRE86IERvY3VtZW50YXRpb24gLSBOdW1iZXIgb3IgbnVsbFxuICAgICAgICB0aGlzLl9oaWdobGlnaHRlZCA9ICgkc3VnZ2VzdGlvblswXSAhPT0gdW5kZWZpbmVkKSA/IChwYXJzZUludCgkc3VnZ2VzdGlvbi5hdHRyKCdhcmlhLXBvc2luc2V0JyksIDEwKSAtIDEpIDogbnVsbDtcblxuICAgICAgICB0aGlzLl90b29nbGVIaWdobGlnaHRlZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJdCBoaWdobGlnaHRzIHRoZSBpdGVtIGFkZGluZyB0aGUgXCJjaC1hdXRvY29tcGxldGUtaGlnaGxpZ2h0ZWRcIiBjbGFzcyBuYW1lIG9yIHRoZSBjbGFzcyBuYW1lIHRoYXQgeW91IGNvbmZpZ3VyZWQgYXMgXCJoaWdobGlnaHRlZENsYXNzXCIgb3B0aW9uLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQXV0b2NvbXBsZXRlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge2F1dG9jb21wbGV0ZX1cbiAgICAgKi9cbiAgICBBdXRvY29tcGxldGUucHJvdG90eXBlLl90b29nbGVIaWdobGlnaHRlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaWQgPSAnIycgKyB0aGlzLiRjb250YWluZXJbMF0uaWQsXG4gICAgICAgICAgICAvLyBudWxsIGlzIHdoZW4gaXMgbm90IGEgc2VsZWN0ZWQgaXRlbSBidXQsXG4gICAgICAgICAgICAvLyBpbmNyZW1lbnRzIDEgX2hpZ2hsaWdodGVkIGJlY2F1c2UgYXJpYS1wb3NpbnNldCBzdGFydHMgaW4gMSBpbnN0ZWFkIDAgYXMgdGhlIGNvbGxlY3Rpb24gdGhhdCBzdG9yZXMgdGhlIGRhdGFcbiAgICAgICAgICAgIGN1cnJlbnQgPSAodGhpcy5faGlnaGxpZ2h0ZWQgPT09IG51bGwpID8gbnVsbCA6ICh0aGlzLl9oaWdobGlnaHRlZCArIDEpO1xuXG4gICAgICAgIC8vIGJhY2tncm91bmQgdGhlIGhpZ2hsaWdodGVkIGl0ZW1cbiAgICAgICAgJChpZCArICcgW2FyaWEtcG9zaW5zZXRdLicgKyB0aGlzLl9vcHRpb25zLmhpZ2hsaWdodGVkQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuX29wdGlvbnMuaGlnaGxpZ2h0ZWRDbGFzcyk7XG4gICAgICAgIC8vIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgaXRlbVxuICAgICAgICAkKGlkICsgJyBbYXJpYS1wb3NpbnNldD1cIicgKyBjdXJyZW50ICsgJ1wiXScpLmFkZENsYXNzKHRoaXMuX29wdGlvbnMuaGlnaGxpZ2h0ZWRDbGFzcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBzdWdnZXN0aW9ucyB0byBiZSBzaG93bi5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkF1dG9jb21wbGV0ZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7YXV0b2NvbXBsZXRlfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gVGhlIHN1Z2dlc3QgbWV0aG9kIG5lZWRzIGFuIEFycmF5IG9mIHN0cmluZ3MgdG8gd29yayB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvblxuICAgICAqIGF1dG9jb21wbGV0ZS5zdWdnZXN0KFsnQXJ1YmEnLCdBcm1lbmlhJywnQXJnZW50aW5hJ10pO1xuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gVG8gd29yayB3aXRoIGh0bWwgY29uZmlndXJhdGlvbiwgaXQgbmVlZHMgYW4gQXJyYXkgb2Ygc3RyaW5ncy4gRWFjaCBzdHJpbmcgbXVzdCB0byBiZSBhcyB5b3Ugd2lzaCB5b3Ugd2F0Y2ggaXRcbiAgICAgKiBhdXRvY29tcGxldGUuc3VnZ2VzdChbXG4gICAgICogICc8c3Ryb25nPkFyPC9zdHJvbmc+dWJhIDxpIGNsYXNzPVwiZmxhZy1hcnViYVwiPjwvaT4nLFxuICAgICAqICAnPHN0cm9uZz5Bcjwvc3Ryb25nPm1lbmlhIDxpIGNsYXNzPVwiZmxhZy1hcm1lbmlhXCI+PC9pPicsXG4gICAgICogICc8c3Ryb25nPkFyPC9zdHJvbmc+Z2VudGluYSA8aSBjbGFzcz1cImZsYWctYXJnZW50aW5hXCI+PC9pPidcbiAgICAgKiBdKTtcbiAgICAgKi9cbiAgICBBdXRvY29tcGxldGUucHJvdG90eXBlLnN1Z2dlc3QgPSBmdW5jdGlvbiAoc3VnZ2VzdGlvbnMpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICBpdGVtcyA9IFtdLFxuICAgICAgICAgICAgbWF0Y2hlZFJlZ0V4cCA9IG5ldyBSZWdFeHAoJygnICsgdGhpcy5fY3VycmVudFF1ZXJ5LnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csIFwiXFxcXCQxXCIpICsgJyknLCAnaWcnKSxcbiAgICAgICAgICAgIHRvdGFsSXRlbXMgPSAwLFxuICAgICAgICAgICAgJGl0ZW1zLFxuICAgICAgICAgICAgaXRlbVRlbXBsYXRlID0gdGhpcy5fb3B0aW9ucy5faXRlbVRlbXBsYXRlLFxuICAgICAgICAgICAgc3VnZ2VzdGVkSXRlbSxcbiAgICAgICAgICAgIHRlcm0sXG4gICAgICAgICAgICBzdWdnZXN0aW9uc0xlbmd0aCA9IHN1Z2dlc3Rpb25zLmxlbmd0aCxcbiAgICAgICAgICAgIGVsO1xuXG4gICAgICAgIC8vIGhpZGUgdGhlIGxvYWRpbmcgZmVlZGJhY2tcbiAgICAgICAgdGhpcy4kdHJpZ2dlci5yZW1vdmVDbGFzcyh0aGF0Ll9vcHRpb25zLmxvYWRpbmdDbGFzcyk7XG5cbiAgICAgICAgLy8gaGlkZXMgdGhlIHN1Z2dlc3Rpb25zIGxpc3RcbiAgICAgICAgaWYgKHN1Z2dlc3Rpb25zTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3BvdmVyLmhpZGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93cyB0aGUgc3VnZ2VzdGlvbnMgbGlzdCB3aGVuIHRoZSBpcyBjbG9zZWQgYW5kIHRoZSBlbGVtZW50IGlzIHdpdGhzIGZvY3VzXG4gICAgICAgIGlmICghdGhpcy5fcG9wb3Zlci5pc1Nob3duKCkgJiYgd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuX2VsKSB7XG4gICAgICAgICAgICB0aGlzLl9wb3BvdmVyLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgY2xhc3MgZnJvbSB0aGUgZXh0cmEgYWRkZWQgaXRlbXNcbiAgICAgICAgJCgnLicgKyB0aGlzLl9vcHRpb25zLmhpZ2hsaWdodGVkQ2xhc3MsIHRoaXMuJGNvbnRhaW5lcikucmVtb3ZlQ2xhc3ModGhpcy5fb3B0aW9ucy5oaWdobGlnaHRlZENsYXNzKTtcblxuICAgICAgICAvLyBhZGQgZWFjaCBzdWdnZXN0ZWQgaXRlbSB0byB0aGUgc3VnZ2VzdGlvbiBsaXN0XG4gICAgICAgIGZvciAoc3VnZ2VzdGVkSXRlbSA9IDA7IHN1Z2dlc3RlZEl0ZW0gPCBzdWdnZXN0aW9uc0xlbmd0aDsgc3VnZ2VzdGVkSXRlbSArPSAxKSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHRlcm0gdG8gYmUgcmVwbGFjZWRcbiAgICAgICAgICAgIHRlcm0gPSBzdWdnZXN0aW9uc1tzdWdnZXN0ZWRJdGVtXTtcblxuICAgICAgICAgICAgLy8gZm9yIHRoZSBodG1sIGNvbmZpZ3VyZWQgY29tcG9uZW50IGRvZXNuJ3QgaGlnaGxpZ2h0IHRoZSB0ZXJtIG1hdGNoZWQgaXQgbXVzdCBiZSBkb25lIGJ5IHRoZSB1c2VyXG4gICAgICAgICAgICBpZiAoIXRoYXQuX29wdGlvbnMuaHRtbCkge1xuICAgICAgICAgICAgICAgIHRlcm0gPSB0ZXJtLnJlcGxhY2UobWF0Y2hlZFJlZ0V4cCwgJzxzdHJvbmc+JDE8L3N0cm9uZz4nKTtcbiAgICAgICAgICAgICAgICBpdGVtVGVtcGxhdGUgPSB0aGlzLl9vcHRpb25zLl9pdGVtVGVtcGxhdGUucmVwbGFjZSgne3tzdWdnZXN0ZWREYXRhfX0nLCAnIGRhdGEtc3VnZ2VzdGVkPVwiJyArIHN1Z2dlc3Rpb25zW3N1Z2dlc3RlZEl0ZW1dICsgJ1wiJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbVRlbXBsYXRlLnJlcGxhY2UoJ3t7dGVybX19JywgdGVybSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fJHN1Z2dlc3Rpb25zTGlzdFswXS5pbm5lckhUTUwgPSBpdGVtcy5qb2luKCcnKTtcblxuICAgICAgICAkaXRlbXMgPSAkKCcuJyArIHRoaXMuX29wdGlvbnMuaXRlbUNsYXNzLCB0aGlzLiRjb250YWluZXIpO1xuXG4gICAgICAgIC8vIHdpdGggdGhpcyB3ZSBzZXQgdGhlIGFyaWEtc2V0c2l6ZSB2YWx1ZSB0aGF0IGNvdW50cyB0aGUgdG90YWxcbiAgICAgICAgdG90YWxJdGVtcyA9ICRpdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgLy8gUmVzZXQgc3VnZ2VzdGlvbnMgY29sbGVjdGlvbi5cbiAgICAgICAgdGhpcy5fc3VnZ2VzdGlvbnMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHN1Z2dlc3RlZEl0ZW0gPSAwOyBzdWdnZXN0ZWRJdGVtIDwgdG90YWxJdGVtczsgc3VnZ2VzdGVkSXRlbSArPSAxKSB7XG4gICAgICAgICAgICBlbCA9ICRpdGVtc1tzdWdnZXN0ZWRJdGVtXTtcblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBkYXRhIHRvIHRoZSBzdWdnZXN0aW9ucyBjb2xsZWN0aW9uXG4gICAgICAgICAgICB0aGF0Ll9zdWdnZXN0aW9ucy5wdXNoKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zdWdnZXN0ZWQnKSk7XG5cbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1wb3NpbnNldCcsIHRoYXQuX3N1Z2dlc3Rpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2V0c2l6ZScsIHRvdGFsSXRlbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0ZWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3N1Z2dlc3Rpb25zUXVhbnRpdHkgPSB0aGlzLl9zdWdnZXN0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhpZGVzIGNvbXBvbmVudCdzIGNvbnRhaW5lci5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkF1dG9jb21wbGV0ZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7YXV0b2NvbXBsZXRlfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gSGlkZXMgdGhlIGF1dG9jb21wbGV0ZS5cbiAgICAgKiBhdXRvY29tcGxldGUuaGlkZSgpO1xuICAgICAqL1xuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcG9wb3Zlci5oaWRlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgQXV0b2NvbXBsZXRlIGNvbnRhaW5lciBpcyBoaWRkZW4uXG4gICAgICAgICAqIEBldmVudCBjaC5BdXRvY29tcGxldGUjaGlkZVxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gXCJoaWRlXCIgZXZlbnQuXG4gICAgICAgICAqIGF1dG9jb21wbGV0ZS5vbignaGlkZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICogIC8vIFNvbWUgY29kZSBoZXJlIVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW1pdCgnaGlkZScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQm9vbGVhbiBpZiB0aGUgY29tcG9uZW50J3MgY29yZSBiZWhhdmlvciBpcyBzaG93bi4gVGhhdCBtZWFucyBpdCB3aWxsIHJldHVybiAndHJ1ZScgaWYgdGhlIGNvbXBvbmVudCBpcyBvbiBhbmQgaXQgd2lsbCByZXR1cm4gZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBtZW1iZXJvZiEgY2guQXV0b2NvbXBsZXRlLnByb3RvdHlwZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gRXhlY3V0ZSBhIGZ1bmN0aW9uIGlmIHRoZSBjb21wb25lbnQgaXMgc2hvd24uXG4gICAgICogaWYgKGF1dG9jb21wbGV0ZS5pc1Nob3duKCkpIHtcbiAgICAgKiAgICAgZm4oKTtcbiAgICAgKiB9XG4gICAgICovXG4gICAgQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9wb3Zlci5pc1Nob3duKCk7XG4gICAgfTtcblxuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaG93bigpKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2VsLmJsdXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5kaXNhYmxlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIGFuIEF1dG9jb21wbGV0ZSBpbnN0YW5jZS5cbiAgICAgKiBAbWVtYmVyb2YhIGNoLkF1dG9jb21wbGV0ZS5wcm90b3R5cGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIERlc3Ryb3lpbmcgYW4gaW5zdGFuY2Ugb2YgQXV0b2NvbXBsZXRlLlxuICAgICAqIGF1dG9jb21wbGV0ZS5kZXN0cm95KCk7XG4gICAgICovXG4gICAgQXV0b2NvbXBsZXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgICAgICAgIC5vZmYoJy4nICsgdGhpcy5uYW1lKVxuICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2F1dG9jb21wbGV0ZSBhcmlhLWF1dG9jb21wbGV0ZSBhcmlhLWhhc3BvcHVwIGFyaWEtb3ducycpO1xuXG4gICAgICAgIHRoaXMuX3BvcG92ZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHBhcmVudC5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG5cbiAgICBjaC5mYWN0b3J5KEF1dG9jb21wbGV0ZSk7XG5cbn0odGhpcywgdGhpcy5jaC4kLCB0aGlzLmNoKSk7XG5cbihmdW5jdGlvbiAoQXV0b2NvbXBsZXRlLCBjaCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICAvKipcbiAgICAgKiBDb25nZmlndXJlIHNob3J0Y3V0cyB0byBuYXZpZ2F0ZSBhbmQgc2V0IHZhbHVlcywgb3IgY2FuY2VsIHRoZSB0eXBlZCB0ZXh0XG4gICAgICogQG1lbWJlcm9mISBjaC5BdXRvY29tcGxldGUucHJvdG90eXBlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7YXV0b2NvbXBsZXRlfVxuICAgICAqL1xuICAgIEF1dG9jb21wbGV0ZS5wcm90b3R5cGUuX2NvbmZpZ3VyZVNob3J0Y3V0cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIGNvbnRleHQgb2YgYW4gaW5zdGFuY2UuXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLy8gU2hvcnRjdXRzXG4gICAgICAgIGNoLnNob3J0Y3V0cy5hZGQoY2gub25rZXllbnRlciwgdGhpcy51aWQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY2gudXRpbC5wcmV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHRoYXQuX3NlbGVjdFN1Z2dlc3Rpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2guc2hvcnRjdXRzLmFkZChjaC5vbmtleWVzYywgdGhpcy51aWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuaGlkZSgpO1xuICAgICAgICAgICAgdGhhdC5fZWwudmFsdWUgPSB0aGF0Ll9vcmlnaW5hbFF1ZXJ5O1xuICAgICAgICB9KTtcblxuICAgICAgICBjaC5zaG9ydGN1dHMuYWRkKGNoLm9ua2V5dXBhcnJvdywgdGhpcy51aWQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY2gudXRpbC5wcmV2ZW50KGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHNlbGVjdGVkIHZhbHVlICYgc3RvcmVzIHRoZSBmdXR1cmUgSFRNTElucHV0RWxlbWVudCB2YWx1ZVxuICAgICAgICAgICAgaWYgKHRoYXQuX2hpZ2hsaWdodGVkID09PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICB0aGF0Ll9oaWdobGlnaHRlZCA9IHRoYXQuX3N1Z2dlc3Rpb25zUXVhbnRpdHkgLSAxO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhhdC5fc3VnZ2VzdGlvbnNbdGhhdC5faGlnaGxpZ2h0ZWRdO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoYXQuX2hpZ2hsaWdodGVkIDw9IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZIaWdobGlnaHRlZCA9IHRoaXMuX2N1cnJlbnRIaWdobGlnaHRlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGF0Ll9jdXJyZW50UXVlcnk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGF0Ll9oaWdobGlnaHRlZCAtPSAxO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhhdC5fc3VnZ2VzdGlvbnNbdGhhdC5faGlnaGxpZ2h0ZWRdO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoYXQuX3Rvb2dsZUhpZ2hsaWdodGVkKCk7XG5cbiAgICAgICAgICAgIGlmICghdGhhdC5fb3B0aW9ucy5odG1sKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fZWwudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICBjaC5zaG9ydGN1dHMuYWRkKGNoLm9ua2V5ZG93bmFycm93LCB0aGlzLnVpZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgICAgICAvLyBjaGFuZ2UgdGhlIHNlbGVjdGVkIHZhbHVlICYgc3RvcmVzIHRoZSBmdXR1cmUgSFRNTElucHV0RWxlbWVudCB2YWx1ZVxuICAgICAgICAgICAgaWYgKHRoYXQuX2hpZ2hsaWdodGVkID09PSBudWxsKSB7XG5cbiAgICAgICAgICAgICAgICB0aGF0Ll9oaWdobGlnaHRlZCA9IDA7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoYXQuX3N1Z2dlc3Rpb25zW3RoYXQuX2hpZ2hsaWdodGVkXTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGF0Ll9oaWdobGlnaHRlZCA+PSB0aGF0Ll9zdWdnZXN0aW9uc1F1YW50aXR5IC0gMSkge1xuXG4gICAgICAgICAgICAgICAgdGhhdC5faGlnaGxpZ2h0ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhhdC5fY3VycmVudFF1ZXJ5O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdGhhdC5faGlnaGxpZ2h0ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoYXQuX3N1Z2dlc3Rpb25zW3RoYXQuX2hpZ2hsaWdodGVkXTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGF0Ll90b29nbGVIaWdobGlnaHRlZCgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoYXQuX29wdGlvbnMuaHRtbCkge1xuICAgICAgICAgICAgICAgIHRoYXQuX2VsLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgdGhlIHNob3J0Y3V0cyBmb3IgdGhpcyBpbnN0YW5jZVxuICAgICAgICB0aGlzLl9wb3BvdmVyLm9uKCdzaG93JywgZnVuY3Rpb24gKCkgeyBjaC5zaG9ydGN1dHMub24odGhhdC51aWQpOyB9KTtcblxuICAgICAgICAvLyBEZWFjdGl2YXRlIHRoZSBzaG9ydGN1dHMgZm9yIHRoaXMgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5fcG9wb3Zlci5vbignaGlkZScsIGZ1bmN0aW9uICgpIHsgY2guc2hvcnRjdXRzLm9mZih0aGF0LnVpZCk7IH0pO1xuXG4gICAgICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjaC5zaG9ydGN1dHMucmVtb3ZlKHRoaXMudWlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxufSh0aGlzLmNoLkF1dG9jb21wbGV0ZSwgdGhpcy5jaCkpOyJdfQ==
